/*! For license information please see main.b2ba2023.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,F=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var V=!1;function j(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function z(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 1:return e=j(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case I:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Se=null;function Ie(e){if(e=mi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=gi(t),xe(e.stateNode,e.type,t))}}function Ee(e){_e?Se?Se.push(e):Se=[e]:_e=e}function Te(){if(_e){var e=_e,t=Se;if(Se=_e=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Re=!1;function Ne(e,t,n){if(Re)return e(t,n);Re=!0;try{return Ce(e,t,n)}finally{Re=!1,(null!==_e||null!==Se)&&(Ae(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=gi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Oe=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,Ue=!1,Ve=null,je={onError:function(e){Me=!0,Fe=e}};function ze(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Le.apply(je,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,$e=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var gt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,wt,xt,_t,St,It=!1,Et=[],Tt=null,Ct=null,At=null,Rt=new Map,Nt=new Map,Pt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nt.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=mi(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=vi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ht(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=mi(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){It=!1,null!==Tt&&Ft(Tt)&&(Tt=null),null!==Ct&&Ft(Ct)&&(Ct=null),null!==At&&Ft(At)&&(At=null),Rt.forEach(Ut),Nt.forEach(Ut)}function jt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return jt(t,e)}if(0<Et.length){jt(Et[0],e);for(var n=1;n<Et.length;n++){var r=Et[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&jt(Tt,e),null!==Ct&&jt(Ct,e),null!==At&&jt(At,e),Rt.forEach(t),Nt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Pt.shift()}var Bt=b.ReactCurrentBatchConfig;function qt(e,t,n,r){var i=gt,a=Bt.transition;Bt.transition=null;try{gt=1,Kt(e,t,n,r)}finally{gt=i,Bt.transition=a}}function Wt(e,t,n,r){var i=gt,a=Bt.transition;Bt.transition=null;try{gt=4,Kt(e,t,n,r)}finally{gt=i,Bt.transition=a}}function Kt(e,t,n,r){var i=Ht(e,t,n,r);if(null===i)Br(e,t,r,Gt,n),Dt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Lt(Tt,e,t,n,r,i),!0;case"dragenter":return Ct=Lt(Ct,e,t,n,r,i),!0;case"mouseover":return At=Lt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Rt.set(a,Lt(Rt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Nt.set(a,Lt(Nt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var a=mi(i);if(null!==a&&bt(a),null===(a=Ht(e,t,n,r))&&Br(e,t,r,Gt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Br(e,t,r,null,n)}var Gt=null;function Ht(e,t,n,r){if(Gt=null,null!==(e=vi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Qt=null,Yt=null,Xt=null;function Jt(){if(Xt)return Xt;var e,t,n=Yt,r=n.length,i="value"in Qt?Qt.value:Qt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Xt=i.slice(e,1<t?1-t:void 0)}function Zt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function en(){return!0}function tn(){return!1}function nn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?en:tn,this.isPropagationStopped=tn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=en)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=en)},persist:function(){},isPersistent:en}),t}var rn,an,on,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sn=nn(un),cn=F({},un,{view:0,detail:0}),ln=nn(cn),fn=F({},cn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(rn=e.screenX-on.screenX,an=e.screenY-on.screenY):an=rn=0,on=e),rn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),hn=nn(fn),dn=nn(F({},fn,{dataTransfer:0})),pn=nn(F({},cn,{relatedTarget:0})),vn=nn(F({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),mn=F({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=nn(mn),gn=nn(F({},un,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function _n(){return xn}var Sn=F({},cn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Zt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?bn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?Zt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Zt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=nn(Sn),En=nn(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=nn(F({},cn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),Cn=nn(F({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=nn(An),Nn=[9,13,27,32],Pn=l&&"CompositionEvent"in window,On=null;l&&"documentMode"in document&&(On=document.documentMode);var Dn=l&&"TextEvent"in window&&!On,Ln=l&&(!Pn||On&&8<On&&11>=On),Mn=String.fromCharCode(32),Fn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Nn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var jn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function qn(e,t,n,r){Ee(r),0<(t=Wr(t,"onChange")).length&&(n=new sn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Kn=null;function Gn(e){Mr(e,0)}function Hn(e){if(H(yi(e)))return e}function $n(e,t){if("change"===e)return t}var Qn=!1;if(l){var Yn;if(l){var Xn="oninput"in document;if(!Xn){var Jn=document.createElement("div");Jn.setAttribute("oninput","return;"),Xn="function"===typeof Jn.oninput}Yn=Xn}else Yn=!1;Qn=Yn&&(!document.documentMode||9<document.documentMode)}function Zn(){Wn&&(Wn.detachEvent("onpropertychange",er),Kn=Wn=null)}function er(e){if("value"===e.propertyName&&Hn(Kn)){var t=[];qn(t,Kn,e,we(e)),Ne(Gn,t)}}function tr(e,t,n){"focusin"===e?(Zn(),Kn=n,(Wn=t).attachEvent("onpropertychange",er)):"focusout"===e&&Zn()}function nr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Hn(Kn)}function rr(e,t){if("click"===e)return Hn(t)}function ir(e,t){if("input"===e||"change"===e)return Hn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function or(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function cr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?cr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function lr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=lr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&cr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=sr(n,a);var o=sr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dr=l&&"documentMode"in document&&11>=document.documentMode,pr=null,vr=null,mr=null,yr=!1;function gr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==pr||pr!==$(r)||("selectionStart"in(r=pr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},mr&&or(mr,r)||(mr=r,0<(r=Wr(vr,"onSelect")).length&&(t=new sn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=pr)))}function kr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var br={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionend:kr("Transition","TransitionEnd")},wr={},xr={};function _r(e){if(wr[e])return wr[e];if(!br[e])return e;var t,n=br[e];for(t in n)if(n.hasOwnProperty(t)&&t in xr)return wr[e]=n[t];return e}l&&(xr=document.createElement("div").style,"AnimationEvent"in window||(delete br.animationend.animation,delete br.animationiteration.animation,delete br.animationstart.animation),"TransitionEvent"in window||delete br.transitionend.transition);var Sr=_r("animationend"),Ir=_r("animationiteration"),Er=_r("animationstart"),Tr=_r("transitionend"),Cr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Cr.set(e,t),s(t,[e])}for(var Nr=0;Nr<Ar.length;Nr++){var Pr=Ar[Nr];Rr(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Rr(Sr,"onAnimationEnd"),Rr(Ir,"onAnimationIteration"),Rr(Er,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,Ue||(Ue=!0,Ve=l)}}(r,t,void 0,e),e.currentTarget=null}function Mr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Lr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Lr(i,u,c),a=s}}}if(Ue)throw e=Ve,Ue=!1,Ve=null,e}function Fr(e,t){var n=t[hi];void 0===n&&(n=t[hi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function jr(e){if(!e[Vr]){e[Vr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Dr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Ur("selectionchange",!1,t))}}function zr(e,t,n,r){switch($t(t)){case 1:var i=qt;break;case 4:i=Wt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Br(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=vi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Ne((function(){var r=a,i=we(n),o=[];e:{var u=Cr.get(e);if(void 0!==u){var s=sn,c=e;switch(e){case"keypress":if(0===Zt(n))break e;case"keydown":case"keyup":s=In;break;case"focusin":c="focus",s=pn;break;case"focusout":c="blur",s=pn;break;case"beforeblur":case"afterblur":s=pn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=dn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Tn;break;case Sr:case Ir:case Er:s=vn;break;case Tr:s=Cn;break;case"scroll":s=ln;break;case"wheel":s=Rn;break;case"copy":case"cut":case"paste":s=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=En}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Pe(p,h))&&l.push(qr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[fi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=hn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=En,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:yi(s),d=null==c?u:yi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,vi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Kr(d))p++;for(d=0,v=h;v;v=Kr(v))d++;for(;0<p-d;)l=Kr(l),p--;for(;0<d-p;)h=Kr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Kr(l),h=Kr(h)}l=null}else l=null;null!==s&&Gr(o,u,s,l,!1),null!==c&&null!==f&&Gr(o,f,c,l,!0)}if("select"===(s=(u=r?yi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=$n;else if(Bn(u))if(Qn)m=ir;else{m=nr;var y=tr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=rr);switch(m&&(m=m(e,r))?qn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?yi(r):window,e){case"focusin":(Bn(y)||"true"===y.contentEditable)&&(pr=y,vr=r,mr=null);break;case"focusout":mr=vr=pr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,gr(o,n,i);break;case"selectionchange":if(dr)break;case"keydown":case"keyup":gr(o,n,i)}var g;if(Pn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else jn?Un(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Ln&&"ko"!==n.locale&&(jn||"onCompositionStart"!==k?"onCompositionEnd"===k&&jn&&(g=Jt()):(Yt="value"in(Qt=i)?Qt.value:Qt.textContent,jn=!0)),0<(y=Wr(r,k)).length&&(k=new gn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Vn(n))&&(k.data=g))),(g=Dn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Mn);case"textInput":return(e=t.data)===Mn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(jn)return"compositionend"===e||!Pn&&Un(e,t)?(e=Jt(),Xt=Yt=Qt=null,jn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new gn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Mr(o,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(qr(e,a,i)),null!=(a=Pe(e,t))&&r.push(qr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Pe(n,a))&&o.unshift(qr(n,s,u)):i||null!=(s=Pe(n,a))&&o.push(qr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Hr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Qr(e){return("string"===typeof e?e:""+e).replace(Hr,"\n").replace($r,"")}function Yr(e,t,n){if(t=Qr(t),Qr(e)!==t&&n)throw Error(a(425))}function Xr(){}var Jr=null;function Zr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ei="function"===typeof setTimeout?setTimeout:void 0,ti="function"===typeof clearTimeout?clearTimeout:void 0,ni="function"===typeof Promise?Promise:void 0,ri="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ni?function(e){return ni.resolve(null).then(e).catch(ii)}:ei;function ii(e){setTimeout((function(){throw e}))}function ai(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function oi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var si=Math.random().toString(36).slice(2),ci="__reactFiber$"+si,li="__reactProps$"+si,fi="__reactContainer$"+si,hi="__reactEvents$"+si,di="__reactListeners$"+si,pi="__reactHandles$"+si;function vi(e){var t=e[ci];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[ci]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[ci])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function mi(e){return!(e=e[ci]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function yi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function gi(e){return e[li]||null}var ki=[],bi=-1;function wi(e){return{current:e}}function xi(e){0>bi||(e.current=ki[bi],ki[bi]=null,bi--)}function _i(e,t){bi++,ki[bi]=e.current,e.current=t}var Si={},Ii=wi(Si),Ei=wi(!1),Ti=Si;function Ci(e,t){var n=e.type.contextTypes;if(!n)return Si;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ai(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){xi(Ei),xi(Ii)}function Ni(e,t,n){if(Ii.current!==Si)throw Error(a(168));_i(Ii,t),_i(Ei,n)}function Pi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Oi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Si,Ti=Ii.current,_i(Ii,e),_i(Ei,Ei.current),!0}function Di(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Pi(e,t,Ti),r.__reactInternalMemoizedMergedChildContext=e,xi(Ei),xi(Ii),_i(Ii,e)):xi(Ei),_i(Ei,n)}var Li=null,Mi=!1,Fi=!1;function Ui(e){null===Li?Li=[e]:Li.push(e)}function Vi(){if(!Fi&&null!==Li){Fi=!0;var e=0,t=gt;try{var n=Li;for(gt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Li=null,Mi=!1}catch(i){throw null!==Li&&(Li=Li.slice(e+1)),He(Ze,Vi),i}finally{gt=t,Fi=!1}}return null}var ji=b.ReactCurrentBatchConfig;function zi(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Bi=wi(null),qi=null,Wi=null,Ki=null;function Gi(){Ki=Wi=qi=null}function Hi(e){var t=Bi.current;xi(Bi),e._currentValue=t}function $i(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Qi(e,t){qi=e,Ki=Wi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(yu=!0),e.firstContext=null)}function Yi(e){var t=e._currentValue;if(Ki!==e)if(e={context:e,memoizedValue:t,next:null},null===Wi){if(null===qi)throw Error(a(308));Wi=e,qi.dependencies={lanes:0,firstContext:e}}else Wi=Wi.next=e;return t}var Xi=null,Ji=!1;function Zi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ea(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ta(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function na(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==gs&&0!==(1&e.mode)&&0===(2&ys)?(null===(e=n.interleaved)?(t.next=t,null===Xi?Xi=[n]:Xi.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function ra(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function ia(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function aa(e,t,n,r){var i=e.updateQueue;Ji=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Ji=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Is|=o,e.lanes=o,e.memoizedState=f}}function oa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ua=(new r.Component).refs;function sa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ca={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Bs(),i=qs(e),a=ta(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),na(e,a),null!==(t=Ws(e,i,r))&&ra(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Bs(),i=qs(e),a=ta(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),na(e,a),null!==(t=Ws(e,i,r))&&ra(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Bs(),r=qs(e),i=ta(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),na(e,i),null!==(t=Ws(e,r,n))&&ra(t,e,r)}};function la(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!or(n,r)||!or(i,a))}function fa(e,t,n){var r=!1,i=Si,a=t.contextType;return"object"===typeof a&&null!==a?a=Yi(a):(i=Ai(t)?Ti:Ii.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ci(e,i):Si),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ca,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ca.enqueueReplaceState(t,t.state,null)}function da(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ua,Zi(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Yi(a):(a=Ai(t)?Ti:Ii.current,i.context=Ci(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(sa(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ca.enqueueReplaceState(i,i.state,null),aa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var pa=[],va=0,ma=null,ya=0,ga=[],ka=0,ba=null,wa=1,xa="";function _a(e,t){pa[va++]=ya,pa[va++]=ma,ma=e,ya=t}function Sa(e,t,n){ga[ka++]=wa,ga[ka++]=xa,ga[ka++]=ba,ba=e;var r=wa;e=xa;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,wa=1<<32-ot(t)+i|n<<i|r,xa=a+e}else wa=1<<a|n<<i|r,xa=e}function Ia(e){null!==e.return&&(_a(e,1),Sa(e,1,0))}function Ea(e){for(;e===ma;)ma=pa[--va],pa[va]=null,ya=pa[--va],pa[va]=null;for(;e===ba;)ba=ga[--ka],ga[ka]=null,xa=ga[--ka],ga[ka]=null,wa=ga[--ka],ga[ka]=null}var Ta=null,Ca=null,Aa=!1,Ra=null;function Na(e,t){var n=bc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Pa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Ta=e,Ca=oi(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Ta=e,Ca=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==ba?{id:wa,overflow:xa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=bc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Ta=e,Ca=null,!0);default:return!1}}function Oa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Da(e){if(Aa){var t=Ca;if(t){var n=t;if(!Pa(e,t)){if(Oa(e))throw Error(a(418));t=oi(n.nextSibling);var r=Ta;t&&Pa(e,t)?Na(r,n):(e.flags=-4097&e.flags|2,Aa=!1,Ta=e)}}else{if(Oa(e))throw Error(a(418));e.flags=-4097&e.flags|2,Aa=!1,Ta=e}}}function La(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ta=e}function Ma(e){if(e!==Ta)return!1;if(!Aa)return La(e),Aa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!Zr(e.type,e.memoizedProps)),t&&(t=Ca)){if(Oa(e)){for(e=Ca;e;)e=oi(e.nextSibling);throw Error(a(418))}for(;t;)Na(e,t),t=oi(t.nextSibling)}if(La(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ca=oi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ca=null}}else Ca=Ta?oi(e.stateNode.nextSibling):null;return!0}function Fa(){Ca=Ta=null,Aa=!1}function Ua(e){null===Ra?Ra=[e]:Ra.push(e)}function Va(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function ja(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function za(e){return(0,e._init)(e._payload)}function Ba(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=xc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Ec(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&za(a)===t.type)?((r=i(t,n.props)).ref=Va(e,t,n),r.return=e,r):((r=_c(n.type,n.key,n.props,null,e.mode,r)).ref=Va(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Tc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Sc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ec(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=_c(t.type,t.key,t.props,null,e.mode,n)).ref=Va(e,null,t),n.return=e,n;case x:return(t=Tc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Sc(t,e.mode,n,null)).return=e,t;ja(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case P:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);ja(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);ja(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),Aa&&_a(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return Aa&&_a(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),Aa&&_a(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),Aa&&_a(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return Aa&&_a(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),Aa&&_a(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&za(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Va(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Sc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=_c(o.type,o.key,o.props,null,r.mode,s)).ref=Va(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Tc(o,r.mode,s)).return=r,r=a}return u(r);case P:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);ja(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Ec(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var qa=Ba(!0),Wa=Ba(!1),Ka={},Ga=wi(Ka),Ha=wi(Ka),$a=wi(Ka);function Qa(e){if(e===Ka)throw Error(a(174));return e}function Ya(e,t){switch(_i($a,t),_i(Ha,e),_i(Ga,Ka),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}xi(Ga),_i(Ga,t)}function Xa(){xi(Ga),xi(Ha),xi($a)}function Ja(e){Qa($a.current);var t=Qa(Ga.current),n=se(t,e.type);t!==n&&(_i(Ha,e),_i(Ga,n))}function Za(e){Ha.current===e&&(xi(Ga),xi(Ha))}var eo=wi(0);function to(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var no=[];function ro(){for(var e=0;e<no.length;e++)no[e]._workInProgressVersionPrimary=null;no.length=0}var io=b.ReactCurrentDispatcher,ao=b.ReactCurrentBatchConfig,oo=0,uo=null,so=null,co=null,lo=!1,fo=!1,ho=0,po=0;function vo(){throw Error(a(321))}function mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function yo(e,t,n,r,i,o){if(oo=o,uo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,io.current=null===e||null===e.memoizedState?Zo:eu,e=n(r,i),fo){o=0;do{if(fo=!1,ho=0,25<=o)throw Error(a(301));o+=1,co=so=null,t.updateQueue=null,io.current=tu,e=n(r,i)}while(fo)}if(io.current=Jo,t=null!==so&&null!==so.next,oo=0,co=so=uo=null,lo=!1,t)throw Error(a(300));return e}function go(){var e=0!==ho;return ho=0,e}function ko(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===co?uo.memoizedState=co=e:co=co.next=e,co}function bo(){if(null===so){var e=uo.alternate;e=null!==e?e.memoizedState:null}else e=so.next;var t=null===co?uo.memoizedState:co.next;if(null!==t)co=t,so=e;else{if(null===e)throw Error(a(310));e={memoizedState:(so=e).memoizedState,baseState:so.baseState,baseQueue:so.baseQueue,queue:so.queue,next:null},null===co?uo.memoizedState=co=e:co=co.next=e}return co}function wo(e,t){return"function"===typeof t?t(e):t}function xo(e){var t=bo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=so,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((oo&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,uo.lanes|=f,Is|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ar(r,t.memoizedState)||(yu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,uo.lanes|=o,Is|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _o(e){var t=bo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ar(o,t.memoizedState)||(yu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function So(){}function Io(e,t){var n=uo,r=bo(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,yu=!0),r=r.queue,Mo(Co.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==co&&1&co.memoizedState.tag){if(n.flags|=2048,No(9,To.bind(null,n,r,i,t),void 0,null),null===gs)throw Error(a(349));0!==(30&oo)||Eo(n,t,i)}return i}function Eo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=uo.updateQueue)?(t={lastEffect:null,stores:null},uo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function To(e,t,n,r){t.value=n,t.getSnapshot=r,Ao(t)&&Ws(e,1,-1)}function Co(e,t,n){return n((function(){Ao(t)&&Ws(e,1,-1)}))}function Ao(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Ro(e){var t=ko();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:e},t.queue=e,e=e.dispatch=Ho.bind(null,uo,e),[t.memoizedState,e]}function No(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=uo.updateQueue)?(t={lastEffect:null,stores:null},uo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Po(){return bo().memoizedState}function Oo(e,t,n,r){var i=ko();uo.flags|=e,i.memoizedState=No(1|t,n,void 0,void 0===r?null:r)}function Do(e,t,n,r){var i=bo();r=void 0===r?null:r;var a=void 0;if(null!==so){var o=so.memoizedState;if(a=o.destroy,null!==r&&mo(r,o.deps))return void(i.memoizedState=No(t,n,a,r))}uo.flags|=e,i.memoizedState=No(1|t,n,a,r)}function Lo(e,t){return Oo(8390656,8,e,t)}function Mo(e,t){return Do(2048,8,e,t)}function Fo(e,t){return Do(4,2,e,t)}function Uo(e,t){return Do(4,4,e,t)}function Vo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function jo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Do(4,4,Vo.bind(null,t,e),n)}function zo(){}function Bo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wo(e,t){var n=gt;gt=0!==n&&4>n?n:4,e(!0);var r=ao.transition;ao.transition={};try{e(!1),t()}finally{gt=n,ao.transition=r}}function Ko(){return bo().memoizedState}function Go(e,t,n){var r=qs(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$o(e)?Qo(t,n):(Yo(e,t,n),null!==(e=Ws(e,r,n=Bs()))&&Xo(e,t,r))}function Ho(e,t,n){var r=qs(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($o(e))Qo(t,i);else{Yo(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ar(u,o))return}catch(s){}null!==(e=Ws(e,r,n=Bs()))&&Xo(e,t,r)}}function $o(e){var t=e.alternate;return e===uo||null!==t&&t===uo}function Qo(e,t){fo=lo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Yo(e,t,n){null!==gs&&0!==(1&e.mode)&&0===(2&ys)?(null===(e=t.interleaved)?(n.next=n,null===Xi?Xi=[t]:Xi.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function Xo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Jo={readContext:Yi,useCallback:vo,useContext:vo,useEffect:vo,useImperativeHandle:vo,useInsertionEffect:vo,useLayoutEffect:vo,useMemo:vo,useReducer:vo,useRef:vo,useState:vo,useDebugValue:vo,useDeferredValue:vo,useTransition:vo,useMutableSource:vo,useSyncExternalStore:vo,useId:vo,unstable_isNewReconciler:!1},Zo={readContext:Yi,useCallback:function(e,t){return ko().memoizedState=[e,void 0===t?null:t],e},useContext:Yi,useEffect:Lo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oo(4194308,4,Vo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oo(4,2,e,t)},useMemo:function(e,t){var n=ko();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ko();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Go.bind(null,uo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ko().memoizedState=e},useState:Ro,useDebugValue:zo,useDeferredValue:function(e){var t=Ro(e),n=t[0],r=t[1];return Lo((function(){var t=ao.transition;ao.transition={};try{r(e)}finally{ao.transition=t}}),[e]),n},useTransition:function(){var e=Ro(!1),t=e[0];return e=Wo.bind(null,e[1]),ko().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=uo,i=ko();if(Aa){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===gs)throw Error(a(349));0!==(30&oo)||Eo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Lo(Co.bind(null,r,o,e),[e]),r.flags|=2048,No(9,To.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=ko(),t=gs.identifierPrefix;if(Aa){var n=xa;t=":"+t+"R"+(n=(wa&~(1<<32-ot(wa)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=po++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},eu={readContext:Yi,useCallback:Bo,useContext:Yi,useEffect:Mo,useImperativeHandle:jo,useInsertionEffect:Fo,useLayoutEffect:Uo,useMemo:qo,useReducer:xo,useRef:Po,useState:function(){return xo(wo)},useDebugValue:zo,useDeferredValue:function(e){var t=xo(wo),n=t[0],r=t[1];return Mo((function(){var t=ao.transition;ao.transition={};try{r(e)}finally{ao.transition=t}}),[e]),n},useTransition:function(){return[xo(wo)[0],bo().memoizedState]},useMutableSource:So,useSyncExternalStore:Io,useId:Ko,unstable_isNewReconciler:!1},tu={readContext:Yi,useCallback:Bo,useContext:Yi,useEffect:Mo,useImperativeHandle:jo,useInsertionEffect:Fo,useLayoutEffect:Uo,useMemo:qo,useReducer:_o,useRef:Po,useState:function(){return _o(wo)},useDebugValue:zo,useDeferredValue:function(e){var t=_o(wo),n=t[0],r=t[1];return Mo((function(){var t=ao.transition;ao.transition={};try{r(e)}finally{ao.transition=t}}),[e]),n},useTransition:function(){return[_o(wo)[0],bo().memoizedState]},useMutableSource:So,useSyncExternalStore:Io,useId:Ko,unstable_isNewReconciler:!1};function nu(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ru(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var iu,au,ou,uu="function"===typeof WeakMap?WeakMap:Map;function su(e,t,n){(n=ta(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ps||(Ps=!0,Os=r),ru(0,t)},n}function cu(e,t,n){(n=ta(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ru(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ru(0,t),"function"!==typeof r&&(null===Ds?Ds=new Set([this]):Ds.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function lu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new uu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=pc.bind(null,e,t,n),t.then(e,e))}function fu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function hu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ta(-1,1)).tag=2,na(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function du(e,t){if(!Aa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function pu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function vu(e,t,n){var r=t.pendingProps;switch(Ea(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pu(t),null;case 1:case 17:return Ai(t.type)&&Ri(),pu(t),null;case 3:return r=t.stateNode,Xa(),xi(Ei),xi(Ii),ro(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ma(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Ra&&(Qs(Ra),Ra=null))),pu(t),null;case 5:Za(t);var i=Qa($a.current);if(n=t.type,null!==e&&null!=t.stateNode)au(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return pu(t),null}if(e=Qa(Ga.current),Ma(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ci]=t,r[li]=o,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)Fr(Or[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":Y(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":ie(r,o),Fr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(Yr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(Yr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Fr("scroll",r)}switch(n){case"input":G(r),Z(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Xr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[ci]=t,e[li]=r,iu(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)Fr(Or[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":Y(e,r),i=Q(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Fr("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return pu(t),null;case 6:if(e&&null!=t.stateNode)ou(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Qa($a.current),Qa(Ga.current),Ma(t)){if(r=t.stateNode,n=t.memoizedProps,r[ci]=t,(o=r.nodeValue!==n)&&null!==(e=Ta))switch(s=0!==(1&e.mode),e.tag){case 3:Yr(r.nodeValue,n,s);break;case 5:!0!==e.memoizedProps[void 0]&&Yr(r.nodeValue,n,s)}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ci]=t,t.stateNode=r}return pu(t),null;case 13:if(xi(eo),r=t.memoizedState,Aa&&null!==Ca&&0!==(1&t.mode)&&0===(128&t.flags)){for(r=Ca;r;)r=oi(r.nextSibling);return Fa(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Ma(t),null===e){if(!r)throw Error(a(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(a(317));r[ci]=t}else Fa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return pu(t),null}return null!==Ra&&(Qs(Ra),Ra=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Ma(t):n=null!==e.memoizedState,r&&!n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&eo.current)?0===_s&&(_s=3):ic())),null!==t.updateQueue&&(t.flags|=4),pu(t),null);case 4:return Xa(),null===e&&jr(t.stateNode.containerInfo),pu(t),null;case 10:return Hi(t.type._context),pu(t),null;case 19:if(xi(eo),null===(o=t.memoizedState))return pu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)du(o,!1);else{if(0!==_s||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=to(e))){for(t.flags|=128,du(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _i(eo,1&eo.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Ns&&(t.flags|=128,r=!0,du(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=to(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),du(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!Aa)return pu(t),null}else 2*Xe()-o.renderingStartTime>Ns&&1073741824!==n&&(t.flags|=128,r=!0,du(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=eo.current,_i(eo,r?1&n|2:1&n),t):(pu(t),null);case 22:case 23:return ec(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&ws)&&(pu(t),6&t.subtreeFlags&&(t.flags|=8192)):pu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}iu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},au=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Qa(Ga.current);var a,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Xr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Fr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},ou=function(e,t,n,r){n!==r&&(t.flags|=4)};var mu=b.ReactCurrentOwner,yu=!1;function gu(e,t,n,r){t.child=null===e?Wa(t,null,n,r):qa(t,e.child,n,r)}function ku(e,t,n,r,i){n=n.render;var a=t.ref;return Qi(t,i),r=yo(e,t,n,r,a,i),n=go(),null===e||yu?(Aa&&n&&Ia(t),t.flags|=1,gu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vu(e,t,i))}function bu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||wc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=_c(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,wu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:or)(o,r)&&e.ref===t.ref)return Vu(e,t,i)}return t.flags|=1,(e=xc(a,r)).ref=t.ref,e.return=t,t.child=e}function wu(e,t,n,r,i){if(null!==e&&or(e.memoizedProps,r)&&e.ref===t.ref){if(yu=!1,0===(e.lanes&i))return t.lanes=e.lanes,Vu(e,t,i);0!==(131072&e.flags)&&(yu=!0)}return Su(e,t,n,r,i)}function xu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},_i(xs,ws),ws|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,_i(xs,ws),ws|=e,null;t.memoizedState={baseLanes:0,cachePool:null},r=null!==a?a.baseLanes:n,_i(xs,ws),ws|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,_i(xs,ws),ws|=r;return gu(e,t,i,n),t.child}function _u(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Su(e,t,n,r,i){var a=Ai(n)?Ti:Ii.current;return a=Ci(t,a),Qi(t,i),n=yo(e,t,n,r,a,i),r=go(),null===e||yu?(Aa&&r&&Ia(t),t.flags|=1,gu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vu(e,t,i))}function Iu(e,t,n,r,i){if(Ai(n)){var a=!0;Oi(t)}else a=!1;if(Qi(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),fa(t,n,r),da(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Yi(c):c=Ci(t,c=Ai(n)?Ti:Ii.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&ha(t,o,r,c),Ji=!1;var h=t.memoizedState;o.state=h,aa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ei.current||Ji?("function"===typeof l&&(sa(t,n,l,r),s=t.memoizedState),(u=Ji||la(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ea(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:zi(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Yi(s):s=Ci(t,s=Ai(n)?Ti:Ii.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&ha(t,o,r,s),Ji=!1,h=t.memoizedState,o.state=h,aa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ei.current||Ji?("function"===typeof d&&(sa(t,n,d,r),p=t.memoizedState),(c=Ji||la(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Eu(e,t,n,r,a,i)}function Eu(e,t,n,r,i,a){_u(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Di(t,n,!1),Vu(e,t,a);r=t.stateNode,mu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=qa(t,e.child,null,a),t.child=qa(t,null,u,a)):gu(e,t,u,a),t.memoizedState=r.state,i&&Di(t,n,!0),t.child}function Tu(e){var t=e.stateNode;t.pendingContext?Ni(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ni(0,t.context,!1),Ya(e,t.containerInfo)}function Cu(e,t,n,r,i){return Fa(),Ua(i),t.flags|=256,gu(e,t,n,r),t.child}var Au={dehydrated:null,treeContext:null,retryLane:0};function Ru(e){return{baseLanes:e,cachePool:null}}function Nu(e,t,n){var r,i=t.pendingProps,o=eo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),_i(eo,1&o),null===e)return Da(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=i.children,e=i.fallback,u?(i=t.mode,u=t.child,o={mode:"hidden",children:o},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=o):u=Ic(o,i,0,null),e=Sc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Ru(n),t.memoizedState=Au,e):Pu(t,o));if(null!==(o=e.memoizedState)){if(null!==(r=o.dehydrated)){if(s)return 256&t.flags?(t.flags&=-257,Lu(e,t,n,Error(a(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(u=i.fallback,o=t.mode,i=Ic({mode:"visible",children:i.children},o,0,null),(u=Sc(u,o,n,null)).flags|=2,i.return=t,u.return=t,i.sibling=u,t.child=i,0!==(1&t.mode)&&qa(t,e.child,null,n),t.child.memoizedState=Ru(n),t.memoizedState=Au,u);if(0===(1&t.mode))t=Lu(e,t,n,null);else if("$!"===r.data)t=Lu(e,t,n,Error(a(419)));else if(i=0!==(n&e.childLanes),yu||i){if(null!==(i=gs)){switch(n&-n){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}0!==(i=0!==(u&(i.suspendedLanes|n))?0:u)&&i!==o.retryLane&&(o.retryLane=i,Ws(e,i,-1))}ic(),t=Lu(e,t,n,Error(a(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=mc.bind(null,e),r._reactRetry=t,t=null):(n=o.treeContext,Ca=oi(r.nextSibling),Ta=t,Aa=!0,Ra=null,null!==n&&(ga[ka++]=wa,ga[ka++]=xa,ga[ka++]=ba,wa=n.id,xa=n.overflow,ba=t),(t=Pu(t,t.pendingProps.children)).flags|=4096);return t}return u?(i=Du(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Ru(n):{baseLanes:o.baseLanes|n,cachePool:null},u.childLanes=e.childLanes&~n,t.memoizedState=Au,i):(n=Ou(e,t,i.children,n),t.memoizedState=null,n)}return u?(i=Du(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Ru(n):{baseLanes:o.baseLanes|n,cachePool:null},u.childLanes=e.childLanes&~n,t.memoizedState=Au,i):(n=Ou(e,t,i.children,n),t.memoizedState=null,n)}function Pu(e,t){return(t=Ic({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ou(e,t,n,r){var i=e.child;return e=i.sibling,n=xc(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Du(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,u={mode:"hidden",children:n};return 0===(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=u,t.deletions=null):(n=xc(e,u)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=xc(o,r):(r=Sc(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Lu(e,t,n,r){return null!==r&&Ua(r),qa(t,e.child,null,n),(e=Pu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Mu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),$i(e.return,t,n)}function Fu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Uu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(gu(e,t,r.children,n),0!==(2&(r=eo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Mu(e,n,t);else if(19===e.tag)Mu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_i(eo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===to(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Fu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===to(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Fu(t,!0,n,null,a);break;case"together":Fu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Is|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=xc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=xc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ju(e,t){switch(Ea(t),t.tag){case 1:return Ai(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xa(),xi(Ei),xi(Ii),ro(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Za(t),null;case 13:if(xi(eo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));Fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return xi(eo),null;case 4:return Xa(),null;case 10:return Hi(t.type._context),null;case 22:case 23:return ec(),null;default:return null}}var zu=!1,Bu=!1,qu="function"===typeof WeakSet?WeakSet:Set,Wu=null;function Ku(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){dc(e,t,r)}else n.current=null}function Gu(e,t,n){try{n()}catch(r){dc(e,t,r)}}var Hu=!1;function $u(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&Gu(t,n,a)}i=i.next}while(i!==r)}}function Qu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Yu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function Xu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var i=r,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&Gu(t,n,a),r=r.next}while(r!==e)}break;case 1:if(Ku(t,n),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){dc(t,n,o)}break;case 5:Ku(t,n);break;case 4:is(e,t,n)}}function Ju(e){var t=e.alternate;null!==t&&(e.alternate=null,Ju(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ci],delete t[li],delete t[hi],delete t[di],delete t[pi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Zu(e){return 5===e.tag||3===e.tag||4===e.tag}function es(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Zu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ts(e){e:{for(var t=e.return;null!==t;){if(Zu(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(he(t,""),n.flags&=-33),rs(e,n=es(e),t);break;case 3:case 4:t=n.stateNode.containerInfo,ns(e,n=es(e),t);break;default:throw Error(a(161))}}function ns(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(ns(e,t,n),e=e.sibling;null!==e;)ns(e,t,n),e=e.sibling}function rs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(rs(e,t,n),e=e.sibling;null!==e;)rs(e,t,n),e=e.sibling}function is(e,t,n){for(var r,i,o=t,u=!1;;){if(!u){u=o.return;e:for(;;){if(null===u)throw Error(a(160));switch(r=u.stateNode,u.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}u=u.return}u=!0}if(5===o.tag||6===o.tag){e:for(var s=e,c=o,l=n,f=c;;)if(Xu(s,f,l),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===c)break e;for(;null===f.sibling;){if(null===f.return||f.return===c)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(s=r,c=o.stateNode,8===s.nodeType?s.parentNode.removeChild(c):s.removeChild(c)):r.removeChild(o.stateNode)}else if(18===o.tag)i?(s=r,c=o.stateNode,8===s.nodeType?ai(s.parentNode,c):1===s.nodeType&&ai(s,c),zt(s)):ai(r,o.stateNode);else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(Xu(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(u=!1)}o.sibling.return=o.return,o=o.sibling}}function as(e,t){switch(t.tag){case 0:case 11:case 14:case 15:return $u(3,t,t.return),Qu(3,t),void $u(5,t,t.return);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for("input"===e&&"radio"===r.type&&null!=r.name&&X(n,r),ke(e,i),t=ke(e,r),i=0;i<o.length;i+=2){var u=o[i],s=o[i+1];"style"===u?me(n,s):"dangerouslySetInnerHTML"===u?fe(n,s):"children"===u?he(n,s):k(n,u,s,t)}switch(e){case"input":J(n,r);break;case"textarea":ae(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ne(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ne(n,!!r.multiple,r.defaultValue,!0):ne(n,!!r.multiple,r.multiple?[]:"",!1))}n[li]=r}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void(null!==e&&e.memoizedState.isDehydrated&&zt(t.stateNode.containerInfo));case 13:case 19:return void os(t)}throw Error(a(163))}function os(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new qu),t.forEach((function(t){var r=yc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function us(e,t,n){Wu=e,ss(e,t,n)}function ss(e,t,n){for(var r=0!==(1&e.mode);null!==Wu;){var i=Wu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||zu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Bu;u=zu;var c=Bu;if(zu=o,(Bu=s)&&!c)for(Wu=i;null!==Wu;)s=(o=Wu).child,22===o.tag&&null!==o.memoizedState?fs(i):null!==s?(s.return=o,Wu=s):fs(i);for(;null!==a;)Wu=a,ss(a,t,n),a=a.sibling;Wu=i,zu=u,Bu=c}cs(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Wu=a):cs(e)}}function cs(e){for(;null!==Wu;){var t=Wu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Bu||Qu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Bu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:zi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&oa(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}oa(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}Bu||512&t.flags&&Yu(t)}catch(d){dc(t,t.return,d)}}if(t===e){Wu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Wu=n;break}Wu=t.return}}function ls(e){for(;null!==Wu;){var t=Wu;if(t===e){Wu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Wu=n;break}Wu=t.return}}function fs(e){for(;null!==Wu;){var t=Wu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Qu(4,t)}catch(s){dc(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){dc(t,i,s)}}var a=t.return;try{Yu(t)}catch(s){dc(t,a,s)}break;case 5:var o=t.return;try{Yu(t)}catch(s){dc(t,o,s)}}}catch(s){dc(t,t.return,s)}if(t===e){Wu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Wu=u;break}Wu=t.return}}var hs,ds=Math.ceil,ps=b.ReactCurrentDispatcher,vs=b.ReactCurrentOwner,ms=b.ReactCurrentBatchConfig,ys=0,gs=null,ks=null,bs=0,ws=0,xs=wi(0),_s=0,Ss=null,Is=0,Es=0,Ts=0,Cs=null,As=null,Rs=0,Ns=1/0,Ps=!1,Os=null,Ds=null,Ls=!1,Ms=null,Fs=0,Us=0,Vs=null,js=-1,zs=0;function Bs(){return 0!==(6&ys)?Xe():-1!==js?js:js=Xe()}function qs(e){return 0===(1&e.mode)?1:0!==(2&ys)&&0!==bs?bs&-bs:null!==ji.transition?(0===zs&&(e=ct,0===(4194240&(ct<<=1))&&(ct=64),zs=e),zs):0!==(e=gt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function Ws(e,t,n){if(50<Us)throw Us=0,Vs=null,Error(a(185));var r=Ks(e,t);return null===r?null:(mt(r,t,n),0!==(2&ys)&&r===gs||(r===gs&&(0===(2&ys)&&(Es|=t),4===_s&&Ys(r,bs)),Gs(r,n),1===t&&0===ys&&0===(1&e.mode)&&(Ns=Xe()+500,Mi&&Vi())),r)}function Ks(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Gs(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===gs?bs:0);if(0===r)null!==n&&$e(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&$e(n),1===t)0===e.tag?function(e){Mi=!0,Ui(e)}(Xs.bind(null,e)):Ui(Xs.bind(null,e)),ri((function(){0===ys&&Vi()})),n=null;else{switch(kt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=gc(n,Hs.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Hs(e,t){if(js=-1,zs=0,0!==(6&ys))throw Error(a(327));var n=e.callbackNode;if(fc()&&e.callbackNode!==n)return null;var r=ht(e,e===gs?bs:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=ac(e,r);else{t=r;var i=ys;ys|=2;var o=rc();for(gs===e&&bs===t||(Ns=Xe()+500,tc(e,t));;)try{uc();break}catch(s){nc(e,s)}Gi(),ps.current=o,ys=i,null!==ks?t=0:(gs=null,bs=0,t=_s)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=$s(e,i))),1===t)throw n=Ss,tc(e,0),Ys(e,r),Gs(e,Xe()),n;if(6===t)Ys(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ar(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=ac(e,r))&&(0!==(o=pt(e))&&(r=o,t=$s(e,o))),1===t))throw n=Ss,tc(e,0),Ys(e,r),Gs(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:lc(e,As);break;case 3:if(Ys(e,r),(130023424&r)===r&&10<(t=Rs+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Bs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ei(lc.bind(null,e,As),t);break}lc(e,As);break;case 4:if(Ys(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ds(r/1960))-r)){e.timeoutHandle=ei(lc.bind(null,e,As),r);break}lc(e,As);break;default:throw Error(a(329))}}}return Gs(e,Xe()),e.callbackNode===n?Hs.bind(null,e):null}function $s(e,t){var n=Cs;return e.current.memoizedState.isDehydrated&&(tc(e,t).flags|=256),2!==(e=ac(e,t))&&(t=As,As=n,null!==t&&Qs(t)),e}function Qs(e){null===As?As=e:As.push.apply(As,e)}function Ys(e,t){for(t&=~Ts,t&=~Es,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function Xs(e){if(0!==(6&ys))throw Error(a(327));fc();var t=ht(e,0);if(0===(1&t))return Gs(e,Xe()),null;var n=ac(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=$s(e,r))}if(1===n)throw n=Ss,tc(e,0),Ys(e,t),Gs(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,lc(e,As),Gs(e,Xe()),null}function Js(e,t){var n=ys;ys|=1;try{return e(t)}finally{0===(ys=n)&&(Ns=Xe()+500,Mi&&Vi())}}function Zs(e){null!==Ms&&0===Ms.tag&&0===(6&ys)&&fc();var t=ys;ys|=1;var n=ms.transition,r=gt;try{if(ms.transition=null,gt=1,e)return e()}finally{gt=r,ms.transition=n,0===(6&(ys=t))&&Vi()}}function ec(){ws=xs.current,xi(xs)}function tc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ti(n)),null!==ks)for(n=ks.return;null!==n;){var r=n;switch(Ea(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:Xa(),xi(Ei),xi(Ii),ro();break;case 5:Za(r);break;case 4:Xa();break;case 13:case 19:xi(eo);break;case 10:Hi(r.type._context);break;case 22:case 23:ec()}n=n.return}if(gs=e,ks=e=xc(e.current,null),bs=ws=t,_s=0,Ss=null,Ts=Es=Is=0,As=Cs=null,null!==Xi){for(t=0;t<Xi.length;t++)if(null!==(r=(n=Xi[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Xi=null}return e}function nc(e,t){for(;;){var n=ks;try{if(Gi(),io.current=Jo,lo){for(var r=uo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}lo=!1}if(oo=0,co=so=uo=null,fo=!1,ho=0,vs.current=null,null===n||null===n.return){_s=1,Ss=t,ks=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=bs,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=fu(u);if(null!==p){p.flags&=-257,hu(p,u,s,0,t),1&p.mode&&lu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){lu(o,l,t),ic();break e}c=Error(a(426))}else if(Aa&&1&s.mode){var y=fu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),hu(y,u,s,0,t),Ua(c);break e}}o=c,4!==_s&&(_s=2),null===Cs?Cs=[o]:Cs.push(o),c=nu(c,s),s=u;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,ia(s,su(0,c,t));break e;case 1:o=c;var g=s.type,k=s.stateNode;if(0===(128&s.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ds||!Ds.has(k)))){s.flags|=65536,t&=-t,s.lanes|=t,ia(s,cu(s,o,t));break e}}s=s.return}while(null!==s)}cc(n)}catch(b){t=b,ks===n&&null!==n&&(ks=n=n.return);continue}break}}function rc(){var e=ps.current;return ps.current=Jo,null===e?Jo:e}function ic(){0!==_s&&3!==_s&&2!==_s||(_s=4),null===gs||0===(268435455&Is)&&0===(268435455&Es)||Ys(gs,bs)}function ac(e,t){var n=ys;ys|=2;var r=rc();for(gs===e&&bs===t||tc(e,t);;)try{oc();break}catch(i){nc(e,i)}if(Gi(),ys=n,ps.current=r,null!==ks)throw Error(a(261));return gs=null,bs=0,_s}function oc(){for(;null!==ks;)sc(ks)}function uc(){for(;null!==ks&&!Qe();)sc(ks)}function sc(e){var t=hs(e.alternate,e,ws);e.memoizedProps=e.pendingProps,null===t?cc(e):ks=t,vs.current=null}function cc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=vu(n,t,ws)))return void(ks=n)}else{if(null!==(n=ju(n,t)))return n.flags&=32767,void(ks=n);if(null===e)return _s=6,void(ks=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(ks=t);ks=t=e}while(null!==t);0===_s&&(_s=5)}function lc(e,t){var n=gt,r=ms.transition;try{ms.transition=null,gt=1,function(e,t,n){do{fc()}while(null!==Ms);if(0!==(6&ys))throw Error(a(327));var r=e.finishedWork,i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===gs&&(ks=gs=null,bs=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Ls||(Ls=!0,gc(tt,(function(){return fc(),null}))),o=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||o){o=ms.transition,ms.transition=null;var u=gt;gt=1;var s=ys;ys|=4,vs.current=null,function(e,t){if(fr(e=lr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jr={focusedElem:e,selectionRange:n},Wu=t;null!==Wu;)if(e=(t=Wu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Wu=e;else for(;null!==Wu;){t=Wu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:zi(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;if(1===b.nodeType)b.textContent="";else if(9===b.nodeType){var w=b.body;null!=w&&(w.textContent="")}break;default:throw Error(a(163))}}catch(x){dc(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Wu=e;break}Wu=t.return}v=Hu,Hu=!1}(e,r),function(e,t){for(Wu=t;null!==Wu;){var n=(t=Wu).deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{is(e,i,t);var a=i.alternate;null!==a&&(a.return=null),i.return=null}catch(S){dc(i,t,S)}}if(n=t.child,0!==(12854&t.subtreeFlags)&&null!==n)n.return=t,Wu=n;else for(;null!==Wu;){t=Wu;try{var o=t.flags;if(32&o&&he(t.stateNode,""),512&o){var u=t.alternate;if(null!==u){var s=u.ref;null!==s&&("function"===typeof s?s(null):s.current=null)}}if(8192&o)switch(t.tag){case 13:if(null!==t.memoizedState){var c=t.alternate;null!==c&&null!==c.memoizedState||(Rs=Xe())}break;case 22:var l=null!==t.memoizedState,f=t.alternate,h=null!==f&&null!==f.memoizedState;e:{i=l;for(var d=null,p=r=n=t;;){if(5===p.tag){if(null===d){d=p;var v=p.stateNode;if(i){var m=v.style;"function"===typeof m.setProperty?m.setProperty("display","none","important"):m.display="none"}else{var y=p.stateNode,g=p.memoizedProps.style,k=void 0!==g&&null!==g&&g.hasOwnProperty("display")?g.display:null;y.style.display=ve("display",k)}}}else if(6===p.tag)null===d&&(p.stateNode.nodeValue=i?"":p.memoizedProps);else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===r)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===r)break;for(;null===p.sibling;){if(null===p.return||p.return===r)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}if(l&&!h&&0!==(1&n.mode)){Wu=n;for(var b=n.child;null!==b;){for(n=Wu=b;null!==Wu;){var w=(r=Wu).child;switch(r.tag){case 0:case 11:case 14:case 15:$u(4,r,r.return);break;case 1:Ku(r,r.return);var x=r.stateNode;if("function"===typeof x.componentWillUnmount){var _=r.return;try{x.props=r.memoizedProps,x.state=r.memoizedState,x.componentWillUnmount()}catch(S){dc(r,_,S)}}break;case 5:Ku(r,r.return);break;case 22:if(null!==r.memoizedState){ls(n);continue}}null!==w?(w.return=r,Wu=w):ls(n)}b=b.sibling}}}switch(4102&o){case 2:ts(t),t.flags&=-3;break;case 6:ts(t),t.flags&=-3,as(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,as(t.alternate,t);break;case 4:as(t.alternate,t)}}catch(S){dc(t,t.return,S)}if(null!==(n=t.sibling)){n.return=t.return,Wu=n;break}Wu=t.return}}}(e,r),hr(Jr),Jr=null,e.current=r,us(r,e,i),Ye(),ys=s,gt=u,ms.transition=o}else e.current=r;if(Ls&&(Ls=!1,Ms=e,Fs=i),0===(o=e.pendingLanes)&&(Ds=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),Gs(e,Xe()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(Ps)throw Ps=!1,e=Os,Os=null,e;0!==(1&Fs)&&0!==e.tag&&fc(),0!==(1&(o=e.pendingLanes))?e===Vs?Us++:(Us=0,Vs=e):Us=0,Vi()}(e,t,n)}finally{ms.transition=r,gt=n}return null}function fc(){if(null!==Ms){var e=kt(Fs),t=ms.transition,n=gt;try{if(ms.transition=null,gt=16>e?16:e,null===Ms)var r=!1;else{if(e=Ms,Ms=null,Fs=0,0!==(6&ys))throw Error(a(331));var i=ys;for(ys|=4,Wu=e.current;null!==Wu;){var o=Wu,u=o.child;if(0!==(16&Wu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Wu=l;null!==Wu;){var f=Wu;switch(f.tag){case 0:case 11:case 15:$u(8,f,o)}var h=f.child;if(null!==h)h.return=f,Wu=h;else for(;null!==Wu;){var d=(f=Wu).sibling,p=f.return;if(Ju(f),f===l){Wu=null;break}if(null!==d){d.return=p,Wu=d;break}Wu=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Wu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Wu=u;else e:for(;null!==Wu;){if(0!==(2048&(o=Wu).flags))switch(o.tag){case 0:case 11:case 15:$u(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Wu=g;break e}Wu=o.return}}var k=e.current;for(Wu=k;null!==Wu;){var b=(u=Wu).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Wu=b;else e:for(u=k;null!==Wu;){if(0!==(2048&(s=Wu).flags))try{switch(s.tag){case 0:case 11:case 15:Qu(9,s)}}catch(x){dc(s,s.return,x)}if(s===u){Wu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Wu=w;break e}Wu=s.return}}if(ys=i,Vi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{gt=n,ms.transition=t}}return!1}function hc(e,t,n){na(e,t=su(0,t=nu(n,t),1)),t=Bs(),null!==(e=Ks(e,1))&&(mt(e,1,t),Gs(e,t))}function dc(e,t,n){if(3===e.tag)hc(e,e,n);else for(;null!==t;){if(3===t.tag){hc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ds||!Ds.has(r))){na(t,e=cu(t,e=nu(n,e),1)),e=Bs(),null!==(t=Ks(t,1))&&(mt(t,1,e),Gs(t,e));break}}t=t.return}}function pc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Bs(),e.pingedLanes|=e.suspendedLanes&n,gs===e&&(bs&n)===n&&(4===_s||3===_s&&(130023424&bs)===bs&&500>Xe()-Rs?tc(e,0):Ts|=n),Gs(e,t)}function vc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=Bs();null!==(e=Ks(e,t))&&(mt(e,t,n),Gs(e,n))}function mc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),vc(e,n)}function yc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),vc(e,n)}function gc(e,t){return He(e,t)}function kc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bc(e,t,n,r){return new kc(e,t,n,r)}function wc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function xc(e,t){var n=e.alternate;return null===n?((n=bc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function _c(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)wc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case _:return Sc(n.children,i,o,t);case S:u=8,i|=8;break;case I:return(e=bc(12,n,t,2|i)).elementType=I,e.lanes=o,e;case A:return(e=bc(13,n,t,i)).elementType=A,e.lanes=o,e;case R:return(e=bc(19,n,t,i)).elementType=R,e.lanes=o,e;case O:return Ic(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:u=10;break e;case T:u=9;break e;case C:u=11;break e;case N:u=14;break e;case P:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=bc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Sc(e,t,n,r){return(e=bc(7,e,r,t)).lanes=n,e}function Ic(e,t,n,r){return(e=bc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={},e}function Ec(e,t,n){return(e=bc(6,e,null,t)).lanes=n,e}function Tc(e,t,n){return(t=bc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Cc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ac(e,t,n,r,i,a,o,u,s){return e=new Cc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=bc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null},Zi(a),e}function Rc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Nc(e){if(!e)return Si;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ai(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ai(n))return Pi(e,n,t)}return t}function Pc(e,t,n,r,i,a,o,u,s){return(e=Ac(n,r,!0,e,0,a,0,u,s)).context=Nc(null),n=e.current,(a=ta(r=Bs(),i=qs(n))).callback=void 0!==t&&null!==t?t:null,na(n,a),e.current.lanes=i,mt(e,i,r),Gs(e,r),e}function Oc(e,t,n,r){var i=t.current,a=Bs(),o=qs(i);return n=Nc(n),null===t.context?t.context=n:t.pendingContext=n,(t=ta(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),na(i,t),null!==(e=Ws(i,o,a))&&ra(e,i,o),o}function Dc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Lc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Mc(e,t){Lc(e,t),(e=e.alternate)&&Lc(e,t)}hs=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ei.current)yu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return yu=!1,function(e,t,n){switch(t.tag){case 3:Tu(t),Fa();break;case 5:Ja(t);break;case 1:Ai(t.type)&&Oi(t);break;case 4:Ya(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;_i(Bi,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(_i(eo,1&eo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Nu(e,t,n):(_i(eo,1&eo.current),null!==(e=Vu(e,t,n))?e.sibling:null);_i(eo,1&eo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Uu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),_i(eo,eo.current),r)break;return null;case 22:case 23:return t.lanes=0,xu(e,t,n)}return Vu(e,t,n)}(e,t,n);yu=0!==(131072&e.flags)}else yu=!1,Aa&&0!==(1048576&t.flags)&&Sa(t,ya,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Ci(t,Ii.current);Qi(t,n),i=yo(null,t,r,e,i,n);var o=go();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ai(r)?(o=!0,Oi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Zi(t),i.updater=ca,t.stateNode=i,i._reactInternals=t,da(t,r,e,n),t=Eu(null,t,r,!0,o,n)):(t.tag=0,Aa&&o&&Ia(t),gu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return wc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===N)return 14}return 2}(r),e=zi(r,e),i){case 0:t=Su(null,t,r,e,n);break e;case 1:t=Iu(null,t,r,e,n);break e;case 11:t=ku(null,t,r,e,n);break e;case 14:t=bu(null,t,r,zi(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Su(e,t,r,i=t.elementType===r?i:zi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Iu(e,t,r,i=t.elementType===r?i:zi(r,i),n);case 3:e:{if(Tu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,ea(e,t),aa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Cu(e,t,r,n,i=Error(a(423)));break e}if(r!==i){t=Cu(e,t,r,n,i=Error(a(424)));break e}for(Ca=oi(t.stateNode.containerInfo.firstChild),Ta=t,Aa=!0,Ra=null,n=Wa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Fa(),r===i){t=Vu(e,t,n);break e}gu(e,t,r,n)}t=t.child}return t;case 5:return Ja(t),null===e&&Da(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,Zr(r,i)?u=null:null!==o&&Zr(r,o)&&(t.flags|=32),_u(e,t),gu(e,t,u,n),t.child;case 6:return null===e&&Da(t),null;case 13:return Nu(e,t,n);case 4:return Ya(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=qa(t,null,r,n):gu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ku(e,t,r,i=t.elementType===r?i:zi(r,i),n);case 7:return gu(e,t,t.pendingProps,n),t.child;case 8:case 12:return gu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,_i(Bi,r._currentValue),r._currentValue=u,null!==o)if(ar(o.value,u)){if(o.children===i.children&&!Ei.current){t=Vu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=ta(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),$i(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),$i(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}gu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Qi(t,n),r=r(i=Yi(i)),t.flags|=1,gu(e,t,r,n),t.child;case 14:return i=zi(r=t.type,t.pendingProps),bu(e,t,r,i=zi(r.type,i),n);case 15:return wu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:zi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Ai(r)?(e=!0,Oi(t)):e=!1,Qi(t,n),fa(t,r,i),da(t,r,i,n),Eu(null,t,r,!0,e,n);case 19:return Uu(e,t,n);case 22:return xu(e,t,n)}throw Error(a(156,t.tag))};var Fc="function"===typeof reportError?reportError:function(e){console.error(e)};function Uc(e){this._internalRoot=e}function Vc(e){this._internalRoot=e}function jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Bc(){}function qc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Dc(o);u.call(e)}}Oc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Dc(o);a.call(e)}}var o=Pc(t,r,e,0,null,!1,0,"",Bc);return e._reactRootContainer=o,e[fi]=o.current,jr(8===e.nodeType?e.parentNode:e),Zs(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Dc(s);u.call(e)}}var s=Ac(e,0,!1,null,0,!1,0,"",Bc);return e._reactRootContainer=s,e[fi]=s.current,jr(8===e.nodeType?e.parentNode:e),Zs((function(){Oc(t,s,n,r)})),s}(n,t,e,i,r);return Dc(o)}Vc.prototype.render=Uc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Oc(e,t,null,null)},Vc.prototype.unmount=Uc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Zs((function(){Oc(null,e,null,null)})),t[fi]=null}},Vc.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Mt(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),Gs(t,Xe()),0===(6&ys)&&(Ns=Xe()+500,Vi()))}break;case 13:var r=Bs();Zs((function(){return Ws(e,1,r)})),Mc(e,1)}},wt=function(e){13===e.tag&&(Ws(e,134217728,Bs()),Mc(e,134217728))},xt=function(e){if(13===e.tag){var t=Bs(),n=qs(e);Ws(e,n,t),Mc(e,n)}},_t=function(){return gt},St=function(e,t){var n=gt;try{return gt=e,t()}finally{gt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=gi(r);if(!i)throw Error(a(90));H(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=Js,Ae=Zs;var Wc={usingClientEntryPoint:!1,Events:[mi,yi,gi,Ee,Te,Js]},Kc={findFiberByHostInstance:vi,bundleType:0,version:"18.0.0-fc46dba67-20220329",rendererPackageName:"react-dom"},Gc={bundleType:Kc.bundleType,version:Kc.version,rendererPackageName:Kc.rendererPackageName,rendererConfig:Kc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:Kc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hc.isDisabled&&Hc.supportsFiber)try{it=Hc.inject(Gc),at=Hc}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!jc(t))throw Error(a(200));return Rc(e,t,null,n)},t.createRoot=function(e,t){if(!jc(e))throw Error(a(299));var n=!1,r="",i=Fc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Ac(e,1,!1,null,0,n,0,r,i),e[fi]=t.current,jr(8===e.nodeType?e.parentNode:e),new Uc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return Zs(e)},t.hydrate=function(e,t,n){if(!zc(t))throw Error(a(200));return qc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!jc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Fc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=Pc(t,null,e,1,null!=n?n:null,i,0,o,u),e[fi]=t.current,jr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Vc(t)},t.render=function(e,t,n){if(!zc(t))throw Error(a(200));return qc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!zc(e))throw Error(a(40));return!!e._reactRootContainer&&(Zs((function(){qc(null,null,e,!1,(function(){e._reactRootContainer=null,e[fi]=null}))})),!0)},t.unstable_batchedUpdates=Js,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!zc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return qc(e,t,n,!1,r)},t.version="18.0.0-fc46dba67-20220329"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:_.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=A(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=A(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function R(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},O={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:O,ReactCurrentOwner:_};t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.0.0-fc46dba67-20220329"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(N){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return R()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=I(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var k={};s(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(A([])));w&&w!==n&&r.call(w,a)&&(k=w);var x=g.prototype=m.prototype=Object.create(k);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function I(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function A(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:R}}function R(){return{value:t,done:!0}}return y.prototype=g,s(x,"constructor",g),s(g,"constructor",y),y.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},_(S.prototype),s(S.prototype,o,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new S(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,O(x);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(E),E=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&D(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S=!1,I=null,E=-1,T=5,C=-1;function A(){return!(t.unstable_now()-C<T)}function R(){if(null!==I){var e=t.unstable_now();C=e;var n=!0;try{n=I(!0,e)}finally{n?_():(S=!1,I=null)}}else S=!1}if("function"===typeof k)_=function(){k(R)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,P=N.port2;N.port1.onmessage=R,_=function(){P.postMessage(null)}}else _=function(){y(R,0)};function O(e){I=e,S||(S=!0,_())}function D(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(E),E=-1):m=!0,D(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,O(x))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/instagram/",function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Oi},SDK_VERSION:function(){return Pa},_DEFAULT_ENTRY_NAME:function(){return ka},_addComponent:function(){return _a},_addOrOverwriteComponent:function(){return Sa},_apps:function(){return wa},_clearComponents:function(){return Ca},_components:function(){return xa},_getProvider:function(){return Ea},_registerComponent:function(){return Ia},_removeServiceInstance:function(){return Ta},deleteApp:function(){return Ma},getApp:function(){return Da},getApps:function(){return La},initializeApp:function(){return Oa},onLog:function(){return Va},registerVersion:function(){return Ua},setLogLevel:function(){return ja}});var t=n(791),r=n.t(t,2),i=n(250);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e){if(Array.isArray(e))return e}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){if(e){if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){return s(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||l(e,t)||f()}var d=n.p+"static/media/text-logo.a92d7f2844a5b8af8d89.png";function p(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function v(){return v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v.apply(this,arguments)}function m(e){var t,n,r="";if("string"===typeof e||"number"===typeof e)r+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=m(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function y(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=m(e))&&(r&&(r+=" "),r+=t);return r}function g(e,t,n){var r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){return r&&(n&&n[r]&&e.push(n[r]),e.push(t(r))),e}),[]).join(" ")})),r}function k(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function b(e){return function(e){if(Array.isArray(e))return c(e)}(e)||k(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var w=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},x=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,_=w((function(e){return x.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var S=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),I=Math.abs,E=String.fromCharCode,T=Object.assign;function C(e){return e.trim()}function A(e,t,n){return e.replace(t,n)}function R(e,t){return e.indexOf(t)}function N(e,t){return 0|e.charCodeAt(t)}function P(e,t,n){return e.slice(t,n)}function O(e){return e.length}function D(e){return e.length}function L(e,t){return t.push(e),e}var M=1,F=1,U=0,V=0,j=0,z="";function B(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:M,column:F,length:o,return:""}}function q(e,t){return T(B("",null,null,"",null,null,0),e,{length:-e.length},t)}function W(){return j=V>0?N(z,--V):0,F--,10===j&&(F=1,M--),j}function K(){return j=V<U?N(z,V++):0,F++,10===j&&(F=1,M++),j}function G(){return N(z,V)}function H(){return V}function $(e,t){return P(z,e,t)}function Q(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Y(e){return M=F=1,U=O(z=e),V=0,[]}function X(e){return z="",e}function J(e){return C($(V-1,te(91===e?e+2:40===e?e+1:e)))}function Z(e){for(;(j=G())&&j<33;)K();return Q(e)>2||Q(j)>3?"":" "}function ee(e,t){for(;--t&&K()&&!(j<48||j>102||j>57&&j<65||j>70&&j<97););return $(e,H()+(t<6&&32==G()&&32==K()))}function te(e){for(;K();)switch(j){case e:return V;case 34:case 39:34!==e&&39!==e&&te(j);break;case 40:41===e&&te(e);break;case 92:K()}return V}function ne(e,t){for(;K()&&e+j!==57&&(e+j!==84||47!==G()););return"/*"+$(t,V-1)+"*"+E(47===e?e:K())}function re(e){for(;!Q(G());)K();return $(e,V)}var ie="-ms-",ae="-moz-",oe="-webkit-",ue="comm",se="rule",ce="decl",le="@keyframes";function fe(e,t){for(var n="",r=D(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function he(e,t,n,r){switch(e.type){case"@import":case ce:return e.return=e.return||e.value;case ue:return"";case le:return e.return=e.value+"{"+fe(e.children,r)+"}";case se:e.value=e.props.join(",")}return O(n=fe(e.children,r))?e.return=e.value+"{"+n+"}":""}function de(e,t){switch(function(e,t){return(((t<<2^N(e,0))<<2^N(e,1))<<2^N(e,2))<<2^N(e,3)}(e,t)){case 5103:return oe+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return oe+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return oe+e+ae+e+ie+e+e;case 6828:case 4268:return oe+e+ie+e+e;case 6165:return oe+e+ie+"flex-"+e+e;case 5187:return oe+e+A(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return oe+e+ie+"flex-item-"+A(e,/flex-|-self/,"")+e;case 4675:return oe+e+ie+"flex-line-pack"+A(e,/align-content|flex-|-self/,"")+e;case 5548:return oe+e+ie+A(e,"shrink","negative")+e;case 5292:return oe+e+ie+A(e,"basis","preferred-size")+e;case 6060:return oe+"box-"+A(e,"-grow","")+oe+e+ie+A(e,"grow","positive")+e;case 4554:return oe+A(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return A(A(A(e,/(zoom-|grab)/,oe+"$1"),/(image-set)/,oe+"$1"),e,"")+e;case 5495:case 3959:return A(e,/(image-set\([^]*)/,oe+"$1$`$1");case 4968:return A(A(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+oe+e+e;case 4095:case 3583:case 4068:case 2532:return A(e,/(.+)-inline(.+)/,oe+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(O(e)-1-t>6)switch(N(e,t+1)){case 109:if(45!==N(e,t+4))break;case 102:return A(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+ae+(108==N(e,t+3)?"$3":"$2-$3"))+e;case 115:return~R(e,"stretch")?de(A(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==N(e,t+1))break;case 6444:switch(N(e,O(e)-3-(~R(e,"!important")&&10))){case 107:return A(e,":",":"+oe)+e;case 101:return A(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+oe+(45===N(e,14)?"inline-":"")+"box$3$1"+oe+"$2$3$1"+ie+"$2box$3")+e}break;case 5936:switch(N(e,t+11)){case 114:return oe+e+ie+A(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return oe+e+ie+A(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return oe+e+ie+A(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return oe+e+ie+e+e}return e}function pe(e){return X(ve("",null,null,null,[""],e=Y(e),0,[0],e))}function ve(e,t,n,r,i,a,o,u,s){for(var c=0,l=0,f=o,h=0,d=0,p=0,v=1,m=1,y=1,g=0,k="",b=i,w=a,x=r,_=k;m;)switch(p=g,g=K()){case 40:if(108!=p&&58==_.charCodeAt(f-1)){-1!=R(_+=A(J(g),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:_+=J(g);break;case 9:case 10:case 13:case 32:_+=Z(p);break;case 92:_+=ee(H()-1,7);continue;case 47:switch(G()){case 42:case 47:L(ye(ne(K(),H()),t,n),s);break;default:_+="/"}break;case 123*v:u[c++]=O(_)*y;case 125*v:case 59:case 0:switch(g){case 0:case 125:m=0;case 59+l:d>0&&O(_)-f&&L(d>32?ge(_+";",r,n,f-1):ge(A(_," ","")+";",r,n,f-2),s);break;case 59:_+=";";default:if(L(x=me(_,t,n,c,l,i,u,k,b=[],w=[],f),a),123===g)if(0===l)ve(_,t,x,x,b,a,f,u,w);else switch(h){case 100:case 109:case 115:ve(e,x,x,r&&L(me(e,x,x,0,0,i,u,k,i,b=[],f),w),i,w,f,u,r?b:w);break;default:ve(_,x,x,x,[""],w,0,u,w)}}c=l=d=0,v=y=1,k=_="",f=o;break;case 58:f=1+O(_),d=p;default:if(v<1)if(123==g)--v;else if(125==g&&0==v++&&125==W())continue;switch(_+=E(g),g*v){case 38:y=l>0?1:(_+="\f",-1);break;case 44:u[c++]=(O(_)-1)*y,y=1;break;case 64:45===G()&&(_+=J(K())),h=G(),l=f=O(k=_+=re(H())),g++;break;case 45:45===p&&2==O(_)&&(v=0)}}return a}function me(e,t,n,r,i,a,o,u,s,c,l){for(var f=i-1,h=0===i?a:[""],d=D(h),p=0,v=0,m=0;p<r;++p)for(var y=0,g=P(e,f+1,f=I(v=o[p])),k=e;y<d;++y)(k=C(v>0?h[y]+" "+g:A(g,/&\f/g,h[y])))&&(s[m++]=k);return B(e,t,n,0===i?se:u,s,c,l)}function ye(e,t,n){return B(e,t,n,ue,E(j),P(e,2,-2),0)}function ge(e,t,n,r){return B(e,t,n,ce,P(e,0,r),P(e,r+1,-1),r)}var ke=function(e,t,n){for(var r=0,i=0;r=i,i=G(),38===r&&12===i&&(t[n]=1),!Q(i);)K();return $(e,V)},be=function(e,t){return X(function(e,t){var n=-1,r=44;do{switch(Q(r)){case 0:38===r&&12===G()&&(t[n]=1),e[n]+=ke(V-1,t,n);break;case 2:e[n]+=J(r);break;case 4:if(44===r){e[++n]=58===G()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=E(r)}}while(r=K());return e}(Y(e),t))},we=new WeakMap,xe=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||we.get(n))&&!r){we.set(e,!0);for(var i=[],a=be(t,i),o=n.props,u=0,s=0;u<a.length;u++)for(var c=0;c<o.length;c++,s++)e.props[s]=i[u]?a[u].replace(/&\f/g,o[c]):o[c]+" "+a[u]}}},_e=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},Se=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case ce:e.return=de(e.value,e.length);break;case le:return fe([q(e,{value:A(e.value,"@","@"+oe)})],r);case se:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return fe([q(e,{props:[A(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return fe([q(e,{props:[A(t,/:(plac\w+)/,":-webkit-input-$1")]}),q(e,{props:[A(t,/:(plac\w+)/,":-moz-$1")]}),q(e,{props:[A(t,/:(plac\w+)/,ie+"input-$1")]})],r)}return""}))}}],Ie=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||Se;var i,a,o={},u=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;u.push(e)}));var s,c,l=[he,(c=function(e){s.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],f=function(e){var t=D(e);return function(n,r,i,a){for(var o="",u=0;u<t;u++)o+=e[u](n,r,i,a)||"";return o}}([xe,_e].concat(r,l));a=function(e,t,n,r){s=n,function(e){fe(pe(e),f)}(e?e+"{"+t.styles+"}":t.styles),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new S({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return h.sheet.hydrate(u),h};var Ee=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},Te={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ce=/[A-Z]|^ms/g,Ae=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Re=function(e){return 45===e.charCodeAt(1)},Ne=function(e){return null!=e&&"boolean"!==typeof e},Pe=w((function(e){return Re(e)?e:e.replace(Ce,"-$&").toLowerCase()})),Oe=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(Ae,(function(e,t,n){return Le={name:t,styles:n,next:Le},t}))}return 1===Te[e]||Re(e)||"number"!==typeof t||0===t?t:t+"px"};function De(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Le={name:n.name,styles:n.styles,next:Le},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)Le={name:r.name,styles:r.styles,next:Le},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=De(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":Ne(o)&&(r+=Pe(a)+":"+Oe(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var u=De(e,t,o);switch(a){case"animation":case"animationName":r+=Pe(a)+":"+u+";";break;default:r+=a+"{"+u+"}"}}else for(var s=0;s<o.length;s++)Ne(o[s])&&(r+=Pe(a)+":"+Oe(a,o[s])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=Le,a=n(e);return Le=i,De(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var Le,Me=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var Fe=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";Le=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=De(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++)i+=De(n,t,e[o]),r&&(i+=a[o]);Me.lastIndex=0;for(var u,s="";null!==(u=Me.exec(i));)s+="-"+u[1];return{name:Ee(i)+s,styles:i,next:Le}},Ue=(0,t.createContext)("undefined"!==typeof HTMLElement?Ie({key:"css"}):null);Ue.Provider;var Ve=function(e){return(0,t.forwardRef)((function(n,r){var i=(0,t.useContext)(Ue);return e(n,i,r)}))},je=(0,t.createContext)({});r.useInsertionEffect&&r.useInsertionEffect;function ze(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var Be=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},qe=function(e,t,n){Be(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0);i=i.next}while(void 0!==i)}},We=_,Ke=function(e){return"theme"!==e},Ge=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?We:Ke},He=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},$e=r.useInsertionEffect?r.useInsertionEffect:function(e){e()};var Qe=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;Be(t,n,r);$e((function(){return qe(t,n,r)}));return null},Ye=function e(n,r){var i,a,o=n.__emotion_real===n,u=o&&n.__emotion_base||n;void 0!==r&&(i=r.label,a=r.target);var s=He(n,r,o),c=s||Ge(u),l=!c("as");return function(){var f=arguments,h=o&&void 0!==n.__emotion_styles?n.__emotion_styles.slice(0):[];if(void 0!==i&&h.push("label:"+i+";"),null==f[0]||void 0===f[0].raw)h.push.apply(h,f);else{0,h.push(f[0][0]);for(var d=f.length,p=1;p<d;p++)h.push(f[p],f[0][p])}var m=Ve((function(e,n,r){var i=l&&e.as||u,o="",f=[],d=e;if(null==e.theme){for(var p in d={},e)d[p]=e[p];d.theme=(0,t.useContext)(je)}"string"===typeof e.className?o=ze(n.registered,f,e.className):null!=e.className&&(o=e.className+" ");var v=Fe(h.concat(f),n.registered,d);o+=n.key+"-"+v.name,void 0!==a&&(o+=" "+a);var m=l&&void 0===s?Ge(i):c,y={};for(var g in e)l&&"as"===g||m(g)&&(y[g]=e[g]);return y.className=o,y.ref=r,(0,t.createElement)(t.Fragment,null,(0,t.createElement)(Qe,{cache:n,serialized:v,isStringTag:"string"===typeof i}),(0,t.createElement)(i,y))}));return m.displayName=void 0!==i?i:"Styled("+("string"===typeof u?u:u.displayName||u.name||"Component")+")",m.defaultProps=n.defaultProps,m.__emotion_real=m,m.__emotion_base=u,m.__emotion_styles=h,m.__emotion_forwardProp=s,Object.defineProperty(m,"toString",{value:function(){return"."+a}}),m.withComponent=function(t,n){return e(t,v({},r,n,{shouldForwardProp:He(m,n,!0)})).apply(void 0,h)},m}},Xe=Ye.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){Xe[e]=Xe(e)}));var Je=Xe;function Ze(e,t){return Je(e,t)}function et(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function tt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?v({},e):e;return et(e)&&et(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(et(t[i])&&i in e&&et(e[i])?r[i]=tt(e[i],t[i],n):r[i]=t[i])})),r}var nt=["values","unit","step"];function rt(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,r=e.unit,i=void 0===r?"px":r,o=e.step,u=void 0===o?5:o,s=p(e,nt),c=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return v({},e,a({},t.key,t.val))}),{})}(n),l=Object.keys(c);function f(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function h(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-u/100).concat(i,")")}function d(e,t){var r=l.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[l[r]]?n[l[r]]:t)-u/100).concat(i,")")}return v({keys:l,values:c,up:f,down:h,between:d,only:function(e){return l.indexOf(e)+1<l.length?d(e,l[l.indexOf(e)+1]):f(e)},not:function(e){var t=l.indexOf(e);return 0===t?f(l[1]):t===l.length-1?h(l[t]):d(e,l[l.indexOf(e)+1]).replace("@media","@media not all and")},unit:i},s)}var it={borderRadius:4},at={xs:0,sm:600,md:900,lg:1200,xl:1536},ot={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(at[e],"px)")}};function ut(e,t,n){var r=e.theme||{};if(Array.isArray(t)){var i=r.breakpoints||ot;return t.reduce((function(e,r,a){return e[i.up(i.keys[a])]=n(t[a]),e}),{})}if("object"===typeof t){var a=r.breakpoints||ot;return Object.keys(t).reduce((function(e,r){if(-1!==Object.keys(a.values||at).indexOf(r)){e[a.up(r)]=n(t[r],r)}else{var i=r;e[i]=t[i]}return e}),{})}return n(t)}function st(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null==t||null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{});return n||{}}function ct(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function lt(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function ft(e){if("string"!==typeof e)throw new Error(lt(7));return e.charAt(0).toUpperCase()+e.slice(1)}function ht(e,t){return t&&"string"===typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}function dt(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:ht(e,n)||i,t&&(r=t(r)),r}var pt=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,o=e.transform,u=function(e){if(null==e[t])return null;var n=e[t],u=ht(e.theme,i)||{};return ut(e,n,(function(e){var n=dt(u,o,e);return e===n&&"string"===typeof e&&(n=dt(u,o,"".concat(t).concat("default"===e?"":ft(e)),e)),!1===r?n:a({},r,n)}))};return u.propTypes={},u.filterProps=[t],u};var vt=function(e,t){return t?tt(e,t,{clone:!1}):e};var mt={m:"margin",p:"padding"},yt={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},gt={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},kt=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!gt[e])return[e];e=gt[e]}var t=h(e.split(""),2),n=t[0],r=t[1],i=mt[n],a=yt[r]||"";return Array.isArray(a)?a.map((function(e){return i+e})):[i+a]})),bt=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],wt=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],xt=[].concat(bt,wt);function _t(e,t,n,r){var i=ht(e,t)||n;return"number"===typeof i?function(e){return"string"===typeof e?e:i*e}:Array.isArray(i)?function(e){return"string"===typeof e?e:i[e]}:"function"===typeof i?i:function(){}}function St(e){return _t(e,"spacing",8)}function It(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function Et(e,t,n,r){if(-1===t.indexOf(n))return null;var i=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=It(t,n),e}),{})}}(kt(n),r);return ut(e,e[n],i)}function Tt(e,t){var n=St(e.theme);return Object.keys(e).map((function(r){return Et(e,t,r,n)})).reduce(vt,{})}function Ct(e){return Tt(e,bt)}function At(e){return Tt(e,wt)}function Rt(e){return Tt(e,xt)}Ct.propTypes={},Ct.filterProps=bt,At.propTypes={},At.filterProps=wt,Rt.propTypes={},Rt.filterProps=xt;var Nt=Rt;function Pt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=St({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=0===n.length?[1]:n;return i.map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}var Ot=["breakpoints","palette","spacing","shape"];var Dt=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.spacing,o=e.shape,u=void 0===o?{}:o,s=p(e,Ot),c=rt(n),l=Pt(a),f=tt({breakpoints:c,direction:"ltr",components:{},palette:v({mode:"light"},i),spacing:l,shape:v({},it,u)},s),h=arguments.length,d=new Array(h>1?h-1:0),m=1;m<h;m++)d[m-1]=arguments[m];return f=d.reduce((function(e,t){return tt(e,t)}),f)},Lt=["variant"];function Mt(e){return 0===e.length}function Ft(e){var t=e.variant,n=p(e,Lt),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?Mt(r)?e[t]:ft(e[t]):"".concat(Mt(r)?t:ft(t)).concat(ft(e[t].toString()))})),r}var Ut=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?vt(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i};function Vt(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var jt=pt({prop:"border",themeKey:"borders",transform:Vt}),zt=pt({prop:"borderTop",themeKey:"borders",transform:Vt}),Bt=pt({prop:"borderRight",themeKey:"borders",transform:Vt}),qt=pt({prop:"borderBottom",themeKey:"borders",transform:Vt}),Wt=pt({prop:"borderLeft",themeKey:"borders",transform:Vt}),Kt=pt({prop:"borderColor",themeKey:"palette"}),Gt=pt({prop:"borderTopColor",themeKey:"palette"}),Ht=pt({prop:"borderRightColor",themeKey:"palette"}),$t=pt({prop:"borderBottomColor",themeKey:"palette"}),Qt=pt({prop:"borderLeftColor",themeKey:"palette"}),Yt=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=_t(e.theme,"shape.borderRadius",4);return ut(e,e.borderRadius,(function(e){return{borderRadius:It(t,e)}}))}return null};Yt.propTypes={},Yt.filterProps=["borderRadius"];var Xt=Ut(jt,zt,Bt,qt,Wt,Kt,Gt,Ht,$t,Qt,Yt),Jt=Ut(pt({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),pt({prop:"display"}),pt({prop:"overflow"}),pt({prop:"textOverflow"}),pt({prop:"visibility"}),pt({prop:"whiteSpace"})),Zt=Ut(pt({prop:"flexBasis"}),pt({prop:"flexDirection"}),pt({prop:"flexWrap"}),pt({prop:"justifyContent"}),pt({prop:"alignItems"}),pt({prop:"alignContent"}),pt({prop:"order"}),pt({prop:"flex"}),pt({prop:"flexGrow"}),pt({prop:"flexShrink"}),pt({prop:"alignSelf"}),pt({prop:"justifyItems"}),pt({prop:"justifySelf"})),en=function(e){if(void 0!==e.gap&&null!==e.gap){var t=_t(e.theme,"spacing",8);return ut(e,e.gap,(function(e){return{gap:It(t,e)}}))}return null};en.propTypes={},en.filterProps=["gap"];var tn=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=_t(e.theme,"spacing",8);return ut(e,e.columnGap,(function(e){return{columnGap:It(t,e)}}))}return null};tn.propTypes={},tn.filterProps=["columnGap"];var nn=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=_t(e.theme,"spacing",8);return ut(e,e.rowGap,(function(e){return{rowGap:It(t,e)}}))}return null};nn.propTypes={},nn.filterProps=["rowGap"];var rn=Ut(en,tn,nn,pt({prop:"gridColumn"}),pt({prop:"gridRow"}),pt({prop:"gridAutoFlow"}),pt({prop:"gridAutoColumns"}),pt({prop:"gridAutoRows"}),pt({prop:"gridTemplateColumns"}),pt({prop:"gridTemplateRows"}),pt({prop:"gridTemplateAreas"}),pt({prop:"gridArea"})),an=Ut(pt({prop:"position"}),pt({prop:"zIndex",themeKey:"zIndex"}),pt({prop:"top"}),pt({prop:"right"}),pt({prop:"bottom"}),pt({prop:"left"})),on=Ut(pt({prop:"color",themeKey:"palette"}),pt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),pt({prop:"backgroundColor",themeKey:"palette"})),un=pt({prop:"boxShadow",themeKey:"shadows"});function sn(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var cn=pt({prop:"width",transform:sn}),ln=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return ut(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||at[t]||sn(t)}}))}return null};ln.filterProps=["maxWidth"];var fn=pt({prop:"minWidth",transform:sn}),hn=pt({prop:"height",transform:sn}),dn=pt({prop:"maxHeight",transform:sn}),pn=pt({prop:"minHeight",transform:sn}),vn=(pt({prop:"size",cssProperty:"width",transform:sn}),pt({prop:"size",cssProperty:"height",transform:sn}),Ut(cn,ln,fn,hn,dn,pn,pt({prop:"boxSizing"}))),mn=pt({prop:"fontFamily",themeKey:"typography"}),yn=pt({prop:"fontSize",themeKey:"typography"}),gn=pt({prop:"fontStyle",themeKey:"typography"}),kn=pt({prop:"fontWeight",themeKey:"typography"}),bn=pt({prop:"letterSpacing"}),wn=pt({prop:"textTransform"}),xn=pt({prop:"lineHeight"}),_n=pt({prop:"textAlign"}),Sn=Ut(pt({prop:"typography",cssProperty:!1,themeKey:"typography"}),mn,yn,gn,kn,bn,xn,_n,wn),In={borders:Xt.filterProps,display:Jt.filterProps,flexbox:Zt.filterProps,grid:rn.filterProps,positions:an.filterProps,palette:on.filterProps,shadows:un.filterProps,sizing:vn.filterProps,spacing:Nt.filterProps,typography:Sn.filterProps},En={borders:Xt,display:Jt,flexbox:Zt,grid:rn,positions:an,palette:on,shadows:un,sizing:vn,spacing:Nt,typography:Sn},Tn=Object.keys(In).reduce((function(e,t){return In[t].forEach((function(n){e[n]=En[t]})),e}),{});function Cn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}function An(e,t){return"function"===typeof e?e(t):e}var Rn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:En,t=Object.keys(e).reduce((function(t,n){return e[n].filterProps.forEach((function(r){t[r]=e[n]})),t}),{});function n(e,n,r){var i,o=(a(i={},e,n),a(i,"theme",r),i),u=t[e];return u?u(o):a({},e,n)}function r(e){var i=e||{},o=i.sx,u=i.theme,s=void 0===u?{}:u;if(!o)return null;function c(e){var i=e;if("function"===typeof e)i=e(s);else if("object"!==typeof e)return e;if(!i)return null;var o=st(s.breakpoints),u=Object.keys(o),c=o;return Object.keys(i).forEach((function(e){var o=An(i[e],s);if(null!==o&&void 0!==o)if("object"===typeof o)if(t[e])c=vt(c,n(e,o,s));else{var u=ut({theme:s},o,(function(t){return a({},e,t)}));Cn(u,o)?c[e]=r({sx:o,theme:s}):c=vt(c,u)}else c=vt(c,n(e,o,s))})),ct(u,c)}return Array.isArray(o)?o.map(c):c(o)}return r}();Rn.filterProps=["sx"];var Nn=Rn,Pn=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],On=["theme"],Dn=["theme"];function Ln(e){return 0===Object.keys(e).length}var Mn=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},Fn=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=Ft(e.props);r[t]=e.style})),r},Un=function(e,t,n,r){var i,a,o=e.ownerState,u=void 0===o?{}:o,s=[],c=null==n||null==(i=n.components)||null==(a=i[r])?void 0:a.variants;return c&&c.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){u[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&s.push(t[Ft(n.props)])})),s};function Vn(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var jn=Dt();function zn(e,t,n){var r;return v({toolbar:(r={minHeight:56},a(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),a(r,e.up("sm"),{minHeight:64}),r)},n)}function Bn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function qn(e){if(e.type)return e;if("#"===e.charAt(0))return qn(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(lt(9,e));var r,i=e.substring(t+1,e.length-1);if("color"===n){if(r=(i=i.split(" ")).shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error(lt(10,r))}else i=i.split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)})),colorSpace:r}}function Wn(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function Kn(e){var t="hsl"===(e=qn(e)).type?qn(function(e){var t=(e=qn(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",s=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(u+="a",s.push(t[3])),Wn({type:u,values:s})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Gn(e,t){return e=qn(e),t=Bn(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,Wn(e)}function Hn(e,t){if(e=qn(e),t=Bn(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return Wn(e)}function $n(e,t){if(e=qn(e),t=Bn(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return Wn(e)}var Qn={black:"#000",white:"#fff"},Yn={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Xn={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Jn={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Zn={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},er={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},tr={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},nr={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},rr=["mode","contrastThreshold","tonalOffset"],ir={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Qn.white,default:Qn.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},ar={text:{primary:Qn.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Qn.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function or(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=$n(e.main,i):"dark"===t&&(e.dark=Hn(e.main,a)))}function ur(e){var t=e.mode,n=void 0===t?"light":t,r=e.contrastThreshold,i=void 0===r?3:r,a=e.tonalOffset,o=void 0===a?.2:a,u=p(e,rr),s=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:er[200],light:er[50],dark:er[400]}:{main:er[700],light:er[400],dark:er[800]}}(n),c=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Xn[200],light:Xn[50],dark:Xn[400]}:{main:Xn[500],light:Xn[300],dark:Xn[700]}}(n),l=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Jn[500],light:Jn[300],dark:Jn[700]}:{main:Jn[700],light:Jn[400],dark:Jn[800]}}(n),f=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:tr[400],light:tr[300],dark:tr[700]}:{main:tr[700],light:tr[500],dark:tr[900]}}(n),h=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:nr[400],light:nr[300],dark:nr[700]}:{main:nr[800],light:nr[500],dark:nr[900]}}(n),d=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Zn[400],light:Zn[300],dark:Zn[700]}:{main:"#ed6c02",light:Zn[500],dark:Zn[900]}}(n);function m(e){var t=function(e,t){var n=Kn(e),r=Kn(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,ar.text.primary)>=i?ar.text.primary:ir.text.primary;return t}var y=function(e){var t=e.color,n=e.name,r=e.mainShade,i=void 0===r?500:r,a=e.lightShade,u=void 0===a?300:a,s=e.darkShade,c=void 0===s?700:s;if(!(t=v({},t)).main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(lt(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(lt(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return or(t,"light",u,o),or(t,"dark",c,o),t.contrastText||(t.contrastText=m(t.main)),t},g={dark:ar,light:ir};return tt(v({common:Qn,mode:n,primary:y({color:s,name:"primary"}),secondary:y({color:c,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:y({color:l,name:"error"}),warning:y({color:d,name:"warning"}),info:y({color:f,name:"info"}),success:y({color:h,name:"success"}),grey:Yn,contrastThreshold:i,getContrastText:m,augmentColor:y,tonalOffset:o},g[n]),u)}var sr=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var cr={textTransform:"uppercase"},lr='"Roboto", "Helvetica", "Arial", sans-serif';function fr(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?lr:r,a=n.fontSize,o=void 0===a?14:a,u=n.fontWeightLight,s=void 0===u?300:u,c=n.fontWeightRegular,l=void 0===c?400:c,f=n.fontWeightMedium,h=void 0===f?500:f,d=n.fontWeightBold,m=void 0===d?700:d,y=n.htmlFontSize,g=void 0===y?16:y,k=n.allVariants,b=n.pxToRem,w=p(n,sr);var x=o/14,_=b||function(e){return"".concat(e/g*x,"rem")},S=function(e,t,n,r,a){return v({fontFamily:i,fontWeight:e,fontSize:_(t),lineHeight:n},i===lr?{letterSpacing:"".concat((o=r/t,Math.round(1e5*o)/1e5),"em")}:{},a,k);var o},I={h1:S(s,96,1.167,-1.5),h2:S(s,60,1.2,-.5),h3:S(l,48,1.167,0),h4:S(l,34,1.235,.25),h5:S(l,24,1.334,0),h6:S(h,20,1.6,.15),subtitle1:S(l,16,1.75,.15),subtitle2:S(h,14,1.57,.1),body1:S(l,16,1.5,.15),body2:S(l,14,1.43,.15),button:S(h,14,1.75,.4,cr),caption:S(l,12,1.66,.4),overline:S(l,12,2.66,1,cr)};return tt(v({htmlFontSize:g,pxToRem:_,fontFamily:i,fontSize:o,fontWeightLight:s,fontWeightRegular:l,fontWeightMedium:h,fontWeightBold:m},I),w,{clone:!1})}function hr(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var dr=["none",hr(0,2,1,-1,0,1,1,0,0,1,3,0),hr(0,3,1,-2,0,2,2,0,0,1,5,0),hr(0,3,3,-2,0,3,4,0,0,1,8,0),hr(0,2,4,-1,0,4,5,0,0,1,10,0),hr(0,3,5,-1,0,5,8,0,0,1,14,0),hr(0,3,5,-1,0,6,10,0,0,1,18,0),hr(0,4,5,-2,0,7,10,1,0,2,16,1),hr(0,5,5,-3,0,8,10,1,0,3,14,2),hr(0,5,6,-3,0,9,12,1,0,3,16,2),hr(0,6,6,-3,0,10,14,1,0,4,18,3),hr(0,6,7,-4,0,11,15,1,0,4,20,3),hr(0,7,8,-4,0,12,17,2,0,5,22,4),hr(0,7,8,-4,0,13,19,2,0,5,24,4),hr(0,7,9,-4,0,14,21,2,0,5,26,4),hr(0,8,9,-5,0,15,22,2,0,6,28,5),hr(0,8,10,-5,0,16,24,2,0,6,30,5),hr(0,8,11,-5,0,17,26,2,0,6,32,5),hr(0,9,11,-5,0,18,28,2,0,7,34,6),hr(0,9,12,-6,0,19,29,2,0,7,36,6),hr(0,10,13,-6,0,20,31,3,0,8,38,7),hr(0,10,13,-6,0,21,33,3,0,8,40,7),hr(0,10,14,-6,0,22,35,3,0,8,42,7),hr(0,11,14,-7,0,23,36,3,0,9,44,8),hr(0,11,15,-7,0,24,38,3,0,9,46,8)],pr=["duration","easing","delay"],vr={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},mr={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function yr(e){return"".concat(Math.round(e),"ms")}function gr(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function kr(e){var t=v({},vr,e.easing),n=v({},mr,e.duration);return v({getAutoHeightDuration:gr,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.duration,a=void 0===i?n.standard:i,o=r.easing,u=void 0===o?t.easeInOut:o,s=r.delay,c=void 0===s?0:s;p(r,pr);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof a?a:yr(a)," ").concat(u," ").concat("string"===typeof c?c:yr(c))})).join(",")}},e,{easing:t,duration:n})}var br={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},wr=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function xr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.transitions,o=void 0===a?{}:a,u=e.typography,s=void 0===u?{}:u,c=p(e,wr),l=ur(i),f=Dt(e),h=tt(f,{mixins:zn(f.breakpoints,f.spacing,n),palette:l,shadows:dr.slice(),typography:fr(l,s),transitions:kr(o),zIndex:v({},br)});h=tt(h,c);for(var d=arguments.length,m=new Array(d>1?d-1:0),y=1;y<d;y++)m[y-1]=arguments[y];return h=m.reduce((function(e,t){return tt(e,t)}),h)}var _r=xr,Sr=_r(),Ir=function(e){return Vn(e)&&"classes"!==e},Er=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?jn:t,r=e.rootShouldForwardProp,i=void 0===r?Vn:r,a=e.slotShouldForwardProp,o=void 0===a?Vn:a,u=e.styleFunctionSx,s=void 0===u?Nn:u;return function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.name,u=r.slot,c=r.skipVariantsResolver,l=r.skipSx,f=r.overridesResolver,d=p(r,Pn),m=void 0!==c?c:u&&"Root"!==u||!1,y=l||!1;var g=Vn;"Root"===u?g=i:u&&(g=o);var k=Ze(e,v({shouldForwardProp:g,label:t},d)),w=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var o=r?r.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,i=p(t,On);return e(v({theme:Ln(r)?n:r},i))}:e})):[],u=e;a&&f&&o.push((function(e){var t=Ln(e.theme)?n:e.theme,r=Mn(a,t);if(r){var i={};return Object.entries(r).forEach((function(t){var n=h(t,2),r=n[0],a=n[1];i[r]="function"===typeof a?a(e):a})),f(e,i)}return null})),a&&!m&&o.push((function(e){var t=Ln(e.theme)?n:e.theme;return Un(e,Fn(a,t),t,a)})),y||o.push((function(e){var t=Ln(e.theme)?n:e.theme;return s(v({},e,{theme:t}))}));var c=o.length-r.length;if(Array.isArray(e)&&c>0){var l=new Array(c).fill("");(u=[].concat(b(e),b(l))).raw=[].concat(b(e.raw),b(l))}else"function"===typeof e&&e.__emotion_real!==e&&(u=function(t){var r=t.theme,i=p(t,Dn);return e(v({theme:Ln(r)?n:r},i))});var d=k.apply(void 0,[u].concat(b(o)));return d};return k.withConfig&&(w.withConfig=k.withConfig),w}}({defaultTheme:Sr,rootShouldForwardProp:Ir}),Tr=Er;function Cr(e,t){var n=v({},t);return Object.keys(e).forEach((function(t){void 0===n[t]&&(n[t]=e[t])})),n}var Ar=t.createContext(null);function Rr(){return t.useContext(Ar)}function Nr(e){return 0===Object.keys(e).length}var Pr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Rr();return!t||Nr(t)?e:t},Or=Dt();var Dr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Or;return Pr(e)};function Lr(e){var t=e.props,n=e.name,r=e.defaultTheme,i=function(e){var t=e.theme,n=e.name,r=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?Cr(t.components[n].defaultProps,r):r}({theme:Dr(r),name:n,props:t});return i}function Mr(e){return Lr({props:e.props,name:e.name,defaultTheme:Sr})}var Fr=ft,Ur=function(e){return e},Vr=function(){var e=Ur;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=Ur}}}(),jr={active:"Mui-active",checked:"Mui-checked",completed:"Mui-completed",disabled:"Mui-disabled",error:"Mui-error",expanded:"Mui-expanded",focused:"Mui-focused",focusVisible:"Mui-focusVisible",required:"Mui-required",selected:"Mui-selected"};function zr(e,t){return jr[t]||"".concat(Vr.generate(e),"-").concat(t)}function Br(e,t){var n={};return t.forEach((function(t){n[t]=zr(e,t)})),n}function qr(e){return zr("MuiSvgIcon",e)}Br("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var Wr=n(184),Kr=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Gr=Tr("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat(Fr(n.color))],t["fontSize".concat(Fr(n.fontSize))]]}})((function(e){var t,n,r,i,a,o,u,s,c,l,f,h,d,p,v,m,y,g=e.theme,k=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(t=g.transitions)||null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(r=g.transitions)||null==(i=r.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(a=g.typography)||null==(o=a.pxToRem)?void 0:o.call(a,20))||"1.25rem",medium:(null==(u=g.typography)||null==(s=u.pxToRem)?void 0:s.call(u,24))||"1.5rem",large:(null==(c=g.typography)||null==(l=c.pxToRem)?void 0:l.call(c,35))||"2.1875"}[k.fontSize],color:null!=(f=null==(h=g.palette)||null==(d=h[k.color])?void 0:d.main)?f:{action:null==(p=g.palette)||null==(v=p.action)?void 0:v.active,disabled:null==(m=g.palette)||null==(y=m.action)?void 0:y.disabled,inherit:void 0}[k.color]}})),Hr=t.forwardRef((function(e,t){var n=Mr({props:e,name:"MuiSvgIcon"}),r=n.children,i=n.className,a=n.color,o=void 0===a?"inherit":a,u=n.component,s=void 0===u?"svg":u,c=n.fontSize,l=void 0===c?"medium":c,f=n.htmlColor,h=n.inheritViewBox,d=void 0!==h&&h,m=n.titleAccess,k=n.viewBox,b=void 0===k?"0 0 24 24":k,w=p(n,Kr),x=v({},n,{color:o,component:s,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:d,viewBox:b}),_={};d||(_.viewBox=b);var S=function(e){var t=e.color,n=e.fontSize,r=e.classes;return g({root:["root","inherit"!==t&&"color".concat(Fr(t)),"fontSize".concat(Fr(n))]},qr,r)}(x);return(0,Wr.jsxs)(Gr,v({as:s,className:y(S.root,i),ownerState:x,focusable:"false",color:f,"aria-hidden":!m||void 0,role:m?"img":void 0,ref:t},_,w,{children:[r,m?(0,Wr.jsx)("title",{children:m}):null]}))}));Hr.muiName="SvgIcon";var $r=Hr;var Qr=function(e,n){var r=function(t,r){return(0,Wr.jsx)($r,v({"data-testid":"".concat(n,"Icon"),ref:r},t,{children:e}))};return r.muiName=$r.muiName,t.memo(t.forwardRef(r))}((0,Wr.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function Yr(e){return zr("MuiAvatar",e)}Br("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var Xr=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],Jr=Tr("div",{name:"MuiAvatar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})((function(e){var t=e.theme,n=e.ownerState;return v({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===n.variant&&{borderRadius:t.shape.borderRadius},"square"===n.variant&&{borderRadius:0},n.colorDefault&&{color:t.palette.background.default,backgroundColor:"light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[600]})})),Zr=Tr("img",{name:"MuiAvatar",slot:"Img",overridesResolver:function(e,t){return t.img}})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),ei=Tr(Qr,{name:"MuiAvatar",slot:"Fallback",overridesResolver:function(e,t){return t.fallback}})({width:"75%",height:"75%"});var ti=t.forwardRef((function(e,n){var r=Mr({props:e,name:"MuiAvatar"}),i=r.alt,a=r.children,o=r.className,u=r.component,s=void 0===u?"div":u,c=r.imgProps,l=r.sizes,f=r.src,d=r.srcSet,m=r.variant,k=void 0===m?"circular":m,b=p(r,Xr),w=null,x=function(e){var n=e.crossOrigin,r=e.referrerPolicy,i=e.src,a=e.srcSet,o=h(t.useState(!1),2),u=o[0],s=o[1];return t.useEffect((function(){if(i||a){s(!1);var e=!0,t=new Image;return t.onload=function(){e&&s("loaded")},t.onerror=function(){e&&s("error")},t.crossOrigin=n,t.referrerPolicy=r,t.src=i,a&&(t.srcset=a),function(){e=!1}}}),[n,r,i,a]),u}(v({},c,{src:f,srcSet:d})),_=f||d,S=_&&"error"!==x,I=v({},r,{colorDefault:!S,component:s,variant:k}),E=function(e){var t=e.classes;return g({root:["root",e.variant,e.colorDefault&&"colorDefault"],img:["img"],fallback:["fallback"]},Yr,t)}(I);return w=S?(0,Wr.jsx)(Zr,v({alt:i,src:f,srcSet:d,sizes:l,ownerState:I,className:E.img},c)):null!=a?a:_&&i?i[0]:(0,Wr.jsx)(ei,{className:E.fallback}),(0,Wr.jsx)(Jr,v({as:s,ownerState:I,className:y(E.root,o),ref:n},b,{children:w}))})),ni=ti;function ri(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ii(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ai(e,t,n){return t&&ii(e.prototype,t),n&&ii(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function oi(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=l(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function ui(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function si(e,t){return si=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},si(e,t)}function ci(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&si(e,t)}function li(e){return li=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},li(e)}function fi(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function hi(e){return hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hi(e)}function di(e,t){if(t&&("object"===hi(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ui(e)}function pi(e){var t=fi();return function(){var n,r=li(e);if(t){var i=li(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return di(this,n)}}function vi(e,t,n){return vi=fi()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&si(i,n.prototype),i},vi.apply(null,arguments)}function mi(e){var t="function"===typeof Map?new Map:void 0;return mi=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return vi(e,arguments,li(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),si(n,e)},mi(e)}var yi=n(757),gi=n.n(yi),ki=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},bi={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ki(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},wi=function(e){return function(e){var t=ki(e);return bi.encodeByteArray(t,!0)}(e).replace(/\./g,"")},xi=function(e){try{return bi.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function _i(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=_i(e[n],t[n]));return e}var Si=function(){function e(){var t=this;ri(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return ai(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Ii(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[wi(JSON.stringify({alg:"none",type:"JWT"})),wi(JSON.stringify(a)),""].join(".")}function Ei(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ti(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ei())}function Ci(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function Ai(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Ri(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Ni(){var e=Ei();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Pi(){return"object"===typeof indexedDB}var Oi=function(e){ci(n,e);var t=pi(n);function n(e,r,i){var a;return ri(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(ui(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(ui(a),Di.prototype.create),a}return ai(n)}(mi(Error)),Di=function(){function e(t,n,r){ri(this,e),this.service=t,this.serviceName=n,this.errors=r}return ai(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Li(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Oi(n,a,t);return o}}]),e}();function Li(e,t){return e.replace(Mi,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Mi=/\{\$([^}]+)}/g;function Fi(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ui(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Vi(u)&&Vi(s)){if(!Ui(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Vi(e){return null!==e&&"object"===typeof e}function ji(e){for(var t=[],n=function(){var e=h(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function zi(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=h(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Bi(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function qi(e,t){var n=new Wi(e,t);return n.subscribe.bind(n)}var Wi=function(){function e(t,n){var r=this;ri(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return ai(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=oi(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Ki),void 0===r.error&&(r.error=Ki),void 0===r.complete&&(r.complete=Ki);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Ki(){}function Gi(e){return e&&e._delegate?e._delegate:e}function Hi(e,t){return new Promise((function(n,r){e.onsuccess=function(e){n(e.target.result)},e.onerror=function(e){var n;r("".concat(t,": ").concat(null===(n=e.target.error)||void 0===n?void 0:n.message))}}))}var $i=function(){function e(t){ri(this,e),this._db=t,this.objectStoreNames=this._db.objectStoreNames}return ai(e,[{key:"transaction",value:function(e,t){return new Qi(this._db.transaction.call(this._db,e,t))}},{key:"createObjectStore",value:function(e,t){return new Yi(this._db.createObjectStore(e,t))}},{key:"close",value:function(){this._db.close()}}]),e}(),Qi=function(){function e(t){var n=this;ri(this,e),this._transaction=t,this.complete=new Promise((function(e,t){n._transaction.oncomplete=function(){e()},n._transaction.onerror=function(){t(n._transaction.error)},n._transaction.onabort=function(){t(n._transaction.error)}}))}return ai(e,[{key:"objectStore",value:function(e){return new Yi(this._transaction.objectStore(e))}}]),e}(),Yi=function(){function e(t){ri(this,e),this._store=t}return ai(e,[{key:"index",value:function(e){return new Xi(this._store.index(e))}},{key:"createIndex",value:function(e,t,n){return new Xi(this._store.createIndex(e,t,n))}},{key:"get",value:function(e){return Hi(this._store.get(e),"Error reading from IndexedDB")}},{key:"put",value:function(e,t){return Hi(this._store.put(e,t),"Error writing to IndexedDB")}},{key:"delete",value:function(e){return Hi(this._store.delete(e),"Error deleting from IndexedDB")}},{key:"clear",value:function(){return Hi(this._store.clear(),"Error clearing IndexedDB object store")}}]),e}(),Xi=function(){function e(t){ri(this,e),this._index=t}return ai(e,[{key:"get",value:function(e){return Hi(this._index.get(e),"Error reading from IndexedDB")}}]),e}();function Ji(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Zi(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Ji(a,r,i,o,u,"next",e)}function u(e){Ji(a,r,i,o,u,"throw",e)}o(void 0)}))}}var ea=function(){function e(t,n,r){ri(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return ai(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),ta="[DEFAULT]",na=function(){function e(t,n){ri(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return ai(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Si;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ta})}catch(s){}var t,n=oi(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=h(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ta;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Zi(yi.mark((function e(){var t;return yi.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(b(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),b(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ta;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ta;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=oi(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=h(i.value,2),s=u[0],c=u[1],l=this.normalizeInstanceIdentifier(s);r===l&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=oi(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(zE){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:ra(t),options:r}),this.instances.set(t,i),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(zE){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ta;return this.component?this.component.multipleInstances?e:ta:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();function ra(e){return e===ta?void 0:e}var ia,aa,oa=function(){function e(t){ri(this,e),this.name=t,this.providers=new Map}return ai(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new na(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),ua=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(aa||(aa={}));var sa,ca,la={debug:aa.DEBUG,verbose:aa.VERBOSE,info:aa.INFO,warn:aa.WARN,error:aa.ERROR,silent:aa.SILENT},fa=aa.INFO,ha=(a(ia={},aa.DEBUG,"log"),a(ia,aa.VERBOSE,"log"),a(ia,aa.INFO,"info"),a(ia,aa.WARN,"warn"),a(ia,aa.ERROR,"error"),ia),da=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=ha[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},pa=function(){function e(t){ri(this,e),this.name=t,this._logLevel=fa,this._logHandler=da,this._userLogHandler=null,ua.push(this)}return ai(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in aa))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?la[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,aa.DEBUG].concat(t)),this._logHandler.apply(this,[this,aa.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,aa.VERBOSE].concat(t)),this._logHandler.apply(this,[this,aa.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,aa.INFO].concat(t)),this._logHandler.apply(this,[this,aa.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,aa.WARN].concat(t)),this._logHandler.apply(this,[this,aa.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,aa.ERROR].concat(t)),this._logHandler.apply(this,[this,aa.ERROR].concat(t))}}]),e}();var va=function(){function e(t){ri(this,e),this.container=t}return ai(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var ma="@firebase/app",ya="0.7.20",ga=new pa("@firebase/app"),ka="[DEFAULT]",ba=(a(sa={},ma,"fire-core"),a(sa,"@firebase/app-compat","fire-core-compat"),a(sa,"@firebase/analytics","fire-analytics"),a(sa,"@firebase/analytics-compat","fire-analytics-compat"),a(sa,"@firebase/app-check","fire-app-check"),a(sa,"@firebase/app-check-compat","fire-app-check-compat"),a(sa,"@firebase/auth","fire-auth"),a(sa,"@firebase/auth-compat","fire-auth-compat"),a(sa,"@firebase/database","fire-rtdb"),a(sa,"@firebase/database-compat","fire-rtdb-compat"),a(sa,"@firebase/functions","fire-fn"),a(sa,"@firebase/functions-compat","fire-fn-compat"),a(sa,"@firebase/installations","fire-iid"),a(sa,"@firebase/installations-compat","fire-iid-compat"),a(sa,"@firebase/messaging","fire-fcm"),a(sa,"@firebase/messaging-compat","fire-fcm-compat"),a(sa,"@firebase/performance","fire-perf"),a(sa,"@firebase/performance-compat","fire-perf-compat"),a(sa,"@firebase/remote-config","fire-rc"),a(sa,"@firebase/remote-config-compat","fire-rc-compat"),a(sa,"@firebase/storage","fire-gcs"),a(sa,"@firebase/storage-compat","fire-gcs-compat"),a(sa,"@firebase/firestore","fire-fst"),a(sa,"@firebase/firestore-compat","fire-fst-compat"),a(sa,"fire-js","fire-js"),a(sa,"firebase","fire-js-all"),sa),wa=new Map,xa=new Map;function _a(e,t){try{e.container.addComponent(t)}catch(n){ga.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Sa(e,t){e.container.addOrOverwriteComponent(t)}function Ia(e){var t=e.name;if(xa.has(t))return ga.debug("There were multiple attempts to register component ".concat(t,".")),!1;xa.set(t,e);var n,r=oi(wa.values());try{for(r.s();!(n=r.n()).done;){_a(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Ea(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ta(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ka;Ea(e,t).clearInstance(n)}function Ca(){xa.clear()}var Aa=(a(ca={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),a(ca,"bad-app-name","Illegal App name: '{$appName}"),a(ca,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),a(ca,"app-deleted","Firebase App named '{$appName}' already deleted"),a(ca,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),a(ca,"invalid-log-argument","First argument to `onLog` must be null or a function."),a(ca,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),a(ca,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),a(ca,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),a(ca,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),ca),Ra=new Di("app","Firebase",Aa),Na=function(){function e(t,n,r){var i=this;ri(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ea("app",(function(){return i}),"PUBLIC"))}return ai(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Ra.create("app-deleted",{appName:this._name})}}]),e}(),Pa="9.6.10";function Oa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:ka,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Ra.create("bad-app-name",{appName:String(i)});var a=wa.get(i);if(a){if(Ui(e,a.options)&&Ui(r,a.config))return a;throw Ra.create("duplicate-app",{appName:i})}var o,u=new oa(i),s=oi(xa.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new Na(e,r,u);return wa.set(i,l),l}function Da(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ka,t=wa.get(e);if(!t)throw Ra.create("no-app",{appName:e});return t}function La(){return Array.from(wa.values())}function Ma(e){return Fa.apply(this,arguments)}function Fa(){return(Fa=Zi(yi.mark((function e(t){var n;return yi.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!wa.has(n)){e.next=6;break}return wa.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ua(e,t,n){var r,i=null!==(r=ba[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void ga.warn(u.join(" "))}Ia(new ea("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Va(e,t){if(null!==e&&"function"!==typeof e)throw Ra.create("invalid-log-argument");!function(e,t){var n,r=oi(ua);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=la[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:aa[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function ja(e){var t;t=e,ua.forEach((function(e){e.setLogLevel(t)}))}var za="firebase-heartbeat-store",Ba=null;function qa(){var e,t,n;return Ba||(Ba=(e="firebase-heartbeat-database",t=1,n=function(e,t){0===t&&e.createObjectStore(za)},new Promise((function(r,i){try{var a=indexedDB.open(e,t);a.onsuccess=function(e){r(new $i(e.target.result))},a.onerror=function(e){var t;i("Error opening indexedDB: ".concat(null===(t=e.target.error)||void 0===t?void 0:t.message))},a.onupgradeneeded=function(e){n(new $i(a.result),e.oldVersion,e.newVersion,new Qi(a.transaction))}}catch(o){i("Error opening indexedDB: ".concat(o.message))}}))).catch((function(e){throw Ra.create("storage-open",{originalErrorMessage:e.message})}))),Ba}function Wa(e){return Ka.apply(this,arguments)}function Ka(){return Ka=Zi(yi.mark((function e(t){var n;return yi.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,qa();case 3:return n=e.sent,e.abrupt("return",n.transaction(za).objectStore(za).get($a(t)));case 7:throw e.prev=7,e.t0=e.catch(0),Ra.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Ka.apply(this,arguments)}function Ga(e,t){return Ha.apply(this,arguments)}function Ha(){return Ha=Zi(yi.mark((function e(t,n){var r,i,a;return yi.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,qa();case 3:return r=e.sent,i=r.transaction(za,"readwrite"),a=i.objectStore(za),e.next=8,a.put(n,$a(t));case 8:return e.abrupt("return",i.complete);case 11:throw e.prev=11,e.t0=e.catch(0),Ra.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Ha.apply(this,arguments)}function $a(e){return"".concat(e.name,"!").concat(e.options.appId)}var Qa=function(){function e(t){var n=this;ri(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new eo(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return ai(e,[{key:"triggerHeartbeat",value:function(){var e=Zi(yi.mark((function e(){var t,n,r;return yi.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Ya(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Zi(yi.mark((function e(){var t,n,r,i,a;return yi.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Ya(),n=Xa(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=wi(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ya(){return(new Date).toISOString().substring(0,10)}function Xa(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=oi(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),to(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),to(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Ja,Za,eo=function(){function e(t){ri(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return ai(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Zi(yi.mark((function e(){return yi.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Pi()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Zi(yi.mark((function e(){var t;return yi.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Wa(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Zi(yi.mark((function e(t){var n,r;return yi.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ga(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Zi(yi.mark((function e(t){var n,r;return yi.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ga(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(b(r.heartbeats),b(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function to(e){return wi(JSON.stringify({version:2,heartbeats:e})).length}Ja="",Ia(new ea("platform-logger",(function(e){return new va(e)}),"PRIVATE")),Ia(new ea("heartbeat",(function(e){return new Qa(e)}),"PRIVATE")),Ua(ma,ya,Ja),Ua(ma,ya,"esm2017"),Ua("fire-js","");var no=function(){function e(t,n){var r=this;ri(this,e),this._delegate=t,this.firebase=n,_a(t,new ea("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return ai(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Ma(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ka;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ka;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){_a(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Sa(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),ro=(a(Za={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),a(Za,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Za),io=new Di("app-compat","Firebase",ro);var ao=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Oa(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Fi(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Ua,setLogLevel:ja,onLog:Va,apps:null,SDK_VERSION:Pa,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Ia(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw io.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&_i(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Fi(n,e=e||ka))throw io.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(no);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){_i(n,e)},createSubscribe:qi,ErrorFactory:Di,deepExtend:_i}),n}(),oo=new pa("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){oo.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var uo=self.firebase.SDK_VERSION;uo&&uo.indexOf("LITE")>=0&&oo.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var so=ao;!function(e){Ua("@firebase/app-compat","0.1.21",e)}();function co(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=li(e)););return e}function lo(){return lo="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=co(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},lo.apply(this,arguments)}so.registerVersion("firebase","9.6.10","app-compat");function fo(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var ho;Object.create;var po="facebook.com",vo="github.com",mo="google.com",yo="password",go="twitter.com",ko="EMAIL_SIGNIN",bo="PASSWORD_RESET",wo="RECOVER_EMAIL",xo="REVERT_SECOND_FACTOR_ADDITION",_o="VERIFY_AND_CHANGE_EMAIL",So="VERIFY_EMAIL";function Io(){return a({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Eo=function(){var e;return a(e={},"admin-restricted-operation","This operation is restricted to administrators only."),a(e,"argument-error",""),a(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),a(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),a(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),a(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),a(e,"cordova-not-ready","Cordova framework is not ready."),a(e,"cors-unsupported","This browser is not supported."),a(e,"credential-already-in-use","This credential is already associated with a different user account."),a(e,"custom-token-mismatch","The custom token corresponds to a different audience."),a(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),a(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),a(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),a(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),a(e,"email-already-in-use","The email address is already in use by another account."),a(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),a(e,"expired-action-code","The action code has expired."),a(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),a(e,"internal-error","An internal AuthError has occurred."),a(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),a(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),a(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),a(e,"invalid-auth-event","An internal AuthError has occurred."),a(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),a(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),a(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),a(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),a(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),a(e,"invalid-email","The email address is badly formatted."),a(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),a(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),a(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),a(e,"invalid-credential","The supplied auth credential is malformed or has expired."),a(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),a(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),a(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),a(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),a(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),a(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),a(e,"wrong-password","The password is invalid or the user does not have a password."),a(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),a(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),a(e,"invalid-provider-id","The specified provider ID is invalid."),a(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),a(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),a(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),a(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),a(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),a(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),a(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),a(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),a(e,"missing-continue-uri","A continue URL must be provided in the request."),a(e,"missing-iframe-start","An internal AuthError has occurred."),a(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),a(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),a(e,"missing-multi-factor-info","No second factor identifier is provided."),a(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),a(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),a(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),a(e,"app-deleted","This instance of FirebaseApp has been deleted."),a(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),a(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),a(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),a(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),a(e,"no-auth-event","An internal AuthError has occurred."),a(e,"no-such-provider","User was not linked to an account with the given provider."),a(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),a(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),a(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),a(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),a(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),a(e,"provider-already-linked","User can only be linked to one identity for the given provider."),a(e,"quota-exceeded","The project's quota for this operation has been exceeded."),a(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),a(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),a(e,"rejected-credential","The request contains malformed or mismatching credentials."),a(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),a(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),a(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),a(e,"timeout","The operation has timed out."),a(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),a(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),a(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),a(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),a(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),a(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),a(e,"unverified-email","The operation requires a verified email."),a(e,"user-cancelled","The user did not grant your application the permissions it requested."),a(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),a(e,"user-disabled","The user account has been disabled by an administrator."),a(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),a(e,"user-signed-out",""),a(e,"weak-password","The password must be 6 characters long or more."),a(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),a(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},To=Io,Co=new Di("auth","Firebase",Io()),Ao=new pa("@firebase/auth");function Ro(e){if(Ao.logLevel<=aa.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ao.error.apply(Ao,["Auth (".concat(Pa,"): ").concat(e)].concat(n))}}function No(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Lo.apply(void 0,[e].concat(n))}function Po(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Lo.apply(void 0,[e].concat(n))}function Oo(e,t,n){var r=Object.assign(Object.assign({},To()),a({},t,n));return new Di("auth","Firebase",r).create(t,{appName:e.name})}function Do(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&No(e,"argument-error"),Oo(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Lo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=b(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(b(o)))}return Co.create.apply(Co,[e].concat(n))}function Mo(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Lo.apply(void 0,[t].concat(r))}}function Fo(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Ro(t),new Error(t)}function Uo(e,t){e||Fo(t)}var Vo=new Map;function jo(e){Uo(e instanceof Function,"Expected a class definition");var t=Vo.get(e);return t?(Uo(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Vo.set(e,t),t)}function zo(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Bo(){return"http:"===qo()||"https:"===qo()}function qo(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Wo=function(){function e(t,n){ri(this,e),this.shortDelay=t,this.longDelay=n,Uo(n>t,"Short delay should be less than long delay!"),this.isMobile=Ti()||Ri()}return ai(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Bo()||Ai()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Ko(e,t){Uo(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Go=function(){function e(){ri(this,e)}return ai(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Fo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Fo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Fo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Ho=(a(ho={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),a(ho,"MISSING_CUSTOM_TOKEN","internal-error"),a(ho,"INVALID_IDENTIFIER","invalid-email"),a(ho,"MISSING_CONTINUE_URI","internal-error"),a(ho,"INVALID_PASSWORD","wrong-password"),a(ho,"MISSING_PASSWORD","internal-error"),a(ho,"EMAIL_EXISTS","email-already-in-use"),a(ho,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),a(ho,"INVALID_IDP_RESPONSE","invalid-credential"),a(ho,"INVALID_PENDING_TOKEN","invalid-credential"),a(ho,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),a(ho,"MISSING_REQ_TYPE","internal-error"),a(ho,"EMAIL_NOT_FOUND","user-not-found"),a(ho,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),a(ho,"EXPIRED_OOB_CODE","expired-action-code"),a(ho,"INVALID_OOB_CODE","invalid-action-code"),a(ho,"MISSING_OOB_CODE","internal-error"),a(ho,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),a(ho,"INVALID_ID_TOKEN","invalid-user-token"),a(ho,"TOKEN_EXPIRED","user-token-expired"),a(ho,"USER_NOT_FOUND","user-token-expired"),a(ho,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),a(ho,"INVALID_CODE","invalid-verification-code"),a(ho,"INVALID_SESSION_INFO","invalid-verification-id"),a(ho,"INVALID_TEMPORARY_PROOF","invalid-credential"),a(ho,"MISSING_SESSION_INFO","missing-verification-id"),a(ho,"SESSION_EXPIRED","code-expired"),a(ho,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),a(ho,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),a(ho,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),a(ho,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),a(ho,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),a(ho,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),a(ho,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),a(ho,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),a(ho,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),a(ho,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),a(ho,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),ho),$o=new Wo(3e4,6e4);function Qo(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Yo(e,t,n,r){return Xo.apply(this,arguments)}function Xo(){return Xo=Zi(gi().mark((function e(t,n,r,i){var a,o=arguments;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Jo(t,a,Zi(gi().mark((function e(){var a,o,u,s;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=ji(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Go.fetch()(nu(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Xo.apply(this,arguments)}function Jo(e,t,n){return Zo.apply(this,arguments)}function Zo(){return Zo=Zi(gi().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d,p;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Ho),n),e.prev=2,a=new ru(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw iu(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=h(c,2),f=l[0],d=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw iu(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=25;break}throw iu(t,"email-already-in-use",u);case 25:if(p=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw Oo(t,p,d);case 30:No(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof Oi)){e.next=37;break}throw e.t0;case 37:No(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])}))),Zo.apply(this,arguments)}function eu(e,t,n,r){return tu.apply(this,arguments)}function tu(){return tu=Zi(gi().mark((function e(t,n,r,i){var a,o,u=arguments;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Yo(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&No(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),tu.apply(this,arguments)}function nu(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Ko(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var ru=function(){function e(t){var n=this;ri(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Po(n.auth,"network-request-failed"))}),$o.get())}))}return ai(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function iu(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Po(e,t,r);return i.customData._tokenResponse=n,i}function au(e,t){return ou.apply(this,arguments)}function ou(){return ou=Zi(gi().mark((function e(t,n){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yo(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),ou.apply(this,arguments)}function uu(e,t){return su.apply(this,arguments)}function su(){return su=Zi(gi().mark((function e(t,n){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yo(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),su.apply(this,arguments)}function cu(e,t){return lu.apply(this,arguments)}function lu(){return lu=Zi(gi().mark((function e(t,n){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yo(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),lu.apply(this,arguments)}function fu(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function hu(){return hu=Zi(gi().mark((function e(t){var n,r,i,a,o,u,s=arguments;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Gi(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Mo((a=pu(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:fu(du(a.auth_time)),issuedAtTime:fu(du(a.iat)),expirationTime:fu(du(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),hu.apply(this,arguments)}function du(e){return 1e3*Number(e)}function pu(e){var t=h(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Ro("JWT malformed, contained fewer than 3 sections"),null;try{var a=xi(r);return a?JSON.parse(a):(Ro("Failed to decode base64 JWT payload"),null)}catch(o){return Ro("Caught error parsing JWT payload as JSON",o),null}}function vu(e,t){return mu.apply(this,arguments)}function mu(){return mu=Zi(gi().mark((function e(t,n){var r=arguments;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Oi&&yu(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),mu.apply(this,arguments)}function yu(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var gu=function(){function e(t){ri(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return ai(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Zi(gi().mark((function t(){return gi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Zi(gi().mark((function e(){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),ku=function(){function e(t,n){ri(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return ai(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=fu(this.lastLoginAt),this.creationTime=fu(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function bu(e){return wu.apply(this,arguments)}function wu(){return wu=Zi(gi().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,vu(t,cu(r,{idToken:i}));case 6:Mo(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Su(o.providerUserInfo):[],s=_u(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new ku(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),wu.apply(this,arguments)}function xu(){return(xu=Zi(gi().mark((function e(t){var n;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Gi(t),e.next=3,bu(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _u(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(b(n),b(t))}function Su(e){return e.map((function(e){var t=e.providerId,n=fo(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Iu(e,t){return Eu.apply(this,arguments)}function Eu(){return Eu=Zi(gi().mark((function e(t,n){var r;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jo(t,{},Zi(gi().mark((function e(){var r,i,a,o,u,s;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ji({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=nu(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Go.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Eu.apply(this,arguments)}var Tu=function(){function e(){ri(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return ai(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Mo(e.idToken,"internal-error"),Mo("undefined"!==typeof e.idToken,"internal-error"),Mo("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=pu(e);return Mo(t,"internal-error"),Mo("undefined"!==typeof t.exp,"internal-error"),Mo("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Zi(gi().mark((function e(t){var n,r=arguments;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Mo(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Zi(gi().mark((function e(t,n){var r,i,a,o;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Iu(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Fo("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Mo("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Mo("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Mo("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Cu(e,t){Mo("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Au=function(){function e(t){ri(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=fo(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gu(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?b(a.providerData):[],this.metadata=new ku(a.createdAt||void 0,a.lastLoginAt||void 0)}return ai(e,[{key:"getIdToken",value:function(){var e=Zi(gi().mark((function e(t){var n;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vu(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Mo(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return hu.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return xu.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Mo(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Mo(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Zi(gi().mark((function e(t){var n,r,i=arguments;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,bu(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Zi(gi().mark((function e(){var t;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,vu(this,au(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;Mo(k&&_,t,"internal-error");var S=Tu.fromJSON(this.name,_);Mo("string"===typeof k,t,"internal-error"),Cu(f,t.name),Cu(h,t.name),Mo("boolean"===typeof b,t,"internal-error"),Mo("boolean"===typeof w,t,"internal-error"),Cu(d,t.name),Cu(p,t.name),Cu(v,t.name),Cu(m,t.name),Cu(y,t.name),Cu(g,t.name);var I=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(I.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(I._redirectEventId=m),I}},{key:"_fromIdTokenResponse",value:function(){var t=Zi(gi().mark((function t(n,r){var i,a,o,u=arguments;return gi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new Tu).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,bu(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Ru=function(){function e(){ri(this,e),this.type="NONE",this.storage={}}return ai(e,[{key:"_isAvailable",value:function(){var e=Zi(gi().mark((function e(){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Zi(gi().mark((function e(t,n){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Zi(gi().mark((function e(t){var n;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Zi(gi().mark((function e(t){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Ru.type="NONE";var Nu=Ru;function Pu(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Ou=function(){function e(t,n,r){ri(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Pu(this.userKey,a.apiKey,o),this.fullPersistenceKey=Pu("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return ai(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Zi(gi().mark((function e(){var t;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Au._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Zi(gi().mark((function e(t){var n;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Zi(gi().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return gi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(jo(Nu),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Zi(gi().mark((function e(t){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||jo(Nu),u=Pu(i,n.config.apiKey,n.name),s=null,c=oi(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=Au._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Zi(gi().mark((function e(t){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Du(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Uu(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Lu(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ju(t))return"Blackberry";if(zu(t))return"Webos";if(Mu(t))return"Safari";if((t.includes("chrome/")||Fu(t))&&!t.includes("edge/"))return"Chrome";if(Vu(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Lu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ei();return/firefox\//i.test(e)}function Mu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ei(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Fu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ei();return/crios\//i.test(e)}function Uu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ei();return/iemobile/i.test(e)}function Vu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ei();return/android/i.test(e)}function ju(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ei();return/blackberry/i.test(e)}function zu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ei();return/webos/i.test(e)}function Bu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ei();return/iphone|ipad|ipod/i.test(e)}function qu(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ei();return Bu(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Wu(){return Ni()&&10===document.documentMode}function Ku(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ei();return Bu(e)||Vu(e)||zu(e)||ju(e)||/windows phone/i.test(e)||Uu(e)}function Gu(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Du(Ei());break;case"Worker":t="".concat(Du(Ei()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Pa,"/").concat(r)}var Hu=function(){function e(t,n,r){ri(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qu(this),this.idTokenSubscription=new Qu(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Co,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return ai(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=jo(t)),this._initializationPromise=this.queue(Zi(gi().mark((function r(){var i,a;return gi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Ou.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Zi(gi().mark((function e(){var t;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Zi(gi().mark((function e(t){var n,r,i,a,o;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return Mo(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Zi(gi().mark((function e(t){var n;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Zi(gi().mark((function e(t){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,bu(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Zi(gi().mark((function e(){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Zi(gi().mark((function e(t){var n;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Gi(t):null)&&Mo(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Zi(gi().mark((function e(t){var n=this;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&Mo(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(Zi(gi().mark((function e(){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Zi(gi().mark((function e(){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Zi(gi().mark((function n(){return gi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(jo(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Di("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Zi(gi().mark((function e(t,n){var r;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Zi(gi().mark((function e(t){var n;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Mo(n=t&&jo(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Ou.create(this,[jo(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Zi(gi().mark((function e(t){var n,r;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Zi(gi().mark((function e(){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Zi(gi().mark((function e(t){var n=this;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Zi(gi().mark((function e(){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Mo(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Zi(gi().mark((function e(t){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Mo(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Gu(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Zi(gi().mark((function e(){var t,n,r;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function $u(e){return Gi(e)}var Qu=function(){function e(t){var n=this;ri(this,e),this.auth=t,this.observer=null,this.addObserver=qi((function(e){return n.observer=e}))}return ai(e,[{key:"next",get:function(){return Mo(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Yu(e,t,n){var r=$u(e);Mo(r._canInitEmulator,r,"emulator-config-failed"),Mo(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Xu(t),o=function(e){var t=Xu(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Ju(r.substr(a.length+1))}}var o=h(r.split(":"),2);return{host:o[0],port:Ju(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Xu(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ju(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Zu=function(){function e(t,n){ri(this,e),this.providerId=t,this.signInMethod=n}return ai(e,[{key:"toJSON",value:function(){return Fo("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Fo("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Fo("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Fo("not implemented")}}]),e}();function es(e,t){return ts.apply(this,arguments)}function ts(){return ts=Zi(gi().mark((function e(t,n){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yo(t,"POST","/v1/accounts:resetPassword",Qo(t,n)));case 1:case"end":return e.stop()}}),e)}))),ts.apply(this,arguments)}function ns(e,t){return rs.apply(this,arguments)}function rs(){return rs=Zi(gi().mark((function e(t,n){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yo(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),rs.apply(this,arguments)}function is(e,t){return as.apply(this,arguments)}function as(){return as=Zi(gi().mark((function e(t,n){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yo(t,"POST","/v1/accounts:update",Qo(t,n)));case 1:case"end":return e.stop()}}),e)}))),as.apply(this,arguments)}function os(e,t){return us.apply(this,arguments)}function us(){return us=Zi(gi().mark((function e(t,n){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",eu(t,"POST","/v1/accounts:signInWithPassword",Qo(t,n)));case 1:case"end":return e.stop()}}),e)}))),us.apply(this,arguments)}function ss(e,t){return cs.apply(this,arguments)}function cs(){return cs=Zi(gi().mark((function e(t,n){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yo(t,"POST","/v1/accounts:sendOobCode",Qo(t,n)));case 1:case"end":return e.stop()}}),e)}))),cs.apply(this,arguments)}function ls(e,t){return fs.apply(this,arguments)}function fs(){return fs=Zi(gi().mark((function e(t,n){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ss(t,n));case 1:case"end":return e.stop()}}),e)}))),fs.apply(this,arguments)}function hs(e,t){return ds.apply(this,arguments)}function ds(){return ds=Zi(gi().mark((function e(t,n){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ss(t,n));case 1:case"end":return e.stop()}}),e)}))),ds.apply(this,arguments)}function ps(e,t){return vs.apply(this,arguments)}function vs(){return vs=Zi(gi().mark((function e(t,n){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ss(t,n));case 1:case"end":return e.stop()}}),e)}))),vs.apply(this,arguments)}function ms(e,t){return ys.apply(this,arguments)}function ys(){return ys=Zi(gi().mark((function e(t,n){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ss(t,n));case 1:case"end":return e.stop()}}),e)}))),ys.apply(this,arguments)}function gs(e,t){return ks.apply(this,arguments)}function ks(){return ks=Zi(gi().mark((function e(t,n){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",eu(t,"POST","/v1/accounts:signInWithEmailLink",Qo(t,n)));case 1:case"end":return e.stop()}}),e)}))),ks.apply(this,arguments)}function bs(e,t){return ws.apply(this,arguments)}function ws(){return ws=Zi(gi().mark((function e(t,n){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",eu(t,"POST","/v1/accounts:signInWithEmailLink",Qo(t,n)));case 1:case"end":return e.stop()}}),e)}))),ws.apply(this,arguments)}var xs=function(e){ci(n,e);var t=pi(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return ri(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return ai(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Zi(gi().mark((function e(t){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",os(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",gs(t,{email:this._email,oobCode:this._password}));case 5:No(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Zi(gi().mark((function e(t,n){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",ns(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",bs(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:No(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Zu);function _s(e,t){return Ss.apply(this,arguments)}function Ss(){return Ss=Zi(gi().mark((function e(t,n){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",eu(t,"POST","/v1/accounts:signInWithIdp",Qo(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ss.apply(this,arguments)}var Is=function(e){ci(n,e);var t=pi(n);function n(){var e;return ri(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return ai(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return _s(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,_s(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,_s(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ji(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):No("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=fo(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Zu);function Es(e,t){return Ts.apply(this,arguments)}function Ts(){return Ts=Zi(gi().mark((function e(t,n){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yo(t,"POST","/v1/accounts:sendVerificationCode",Qo(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ts.apply(this,arguments)}function Cs(){return Cs=Zi(gi().mark((function e(t,n){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",eu(t,"POST","/v1/accounts:signInWithPhoneNumber",Qo(t,n)));case 1:case"end":return e.stop()}}),e)}))),Cs.apply(this,arguments)}function As(){return As=Zi(gi().mark((function e(t,n){var r;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eu(t,"POST","/v1/accounts:signInWithPhoneNumber",Qo(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw iu(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),As.apply(this,arguments)}var Rs=a({},"USER_NOT_FOUND","user-not-found");function Ns(){return Ns=Zi(gi().mark((function e(t,n){var r;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",eu(t,"POST","/v1/accounts:signInWithPhoneNumber",Qo(t,r),Rs));case 2:case"end":return e.stop()}}),e)}))),Ns.apply(this,arguments)}var Ps=function(e){ci(n,e);var t=pi(n);function n(e){var r;return ri(this,n),(r=t.call(this,"phone","phone")).params=e,r}return ai(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Cs.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return As.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Ns.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Zu);var Os=function(){function e(t){var n,r,i,a,o,u;ri(this,e);var s=zi(Bi(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);Mo(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return ai(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=zi(Bi(e)).link,n=t?zi(Bi(t)).deep_link_id:null,r=zi(Bi(e)).deep_link_id;return(r?zi(Bi(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(zE){return null}}}]),e}();var Ds=function(){function e(){ri(this,e),this.providerId=e.PROVIDER_ID}return ai(e,null,[{key:"credential",value:function(e,t){return xs._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Os.parseLink(t);return Mo(n,"argument-error"),xs._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Ds.PROVIDER_ID="password",Ds.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ds.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Ls=function(){function e(t){ri(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return ai(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Ms=function(e){ci(n,e);var t=pi(n);function n(){var e;return ri(this,n),(e=t.apply(this,arguments)).scopes=[],e}return ai(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return b(this.scopes)}}]),n}(Ls),Fs=function(e){ci(n,e);var t=pi(n);function n(){return ri(this,n),t.apply(this,arguments)}return ai(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Mo(e.idToken||e.accessToken,"argument-error"),Is._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Mo("providerId"in t&&"signInMethod"in t,"argument-error"),Is._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(Ms),Us=function(e){ci(n,e);var t=pi(n);function n(){return ri(this,n),t.call(this,"facebook.com")}return ai(n,null,[{key:"credential",value:function(e){return Is._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(zE){return null}}}]),n}(Ms);Us.FACEBOOK_SIGN_IN_METHOD="facebook.com",Us.PROVIDER_ID="facebook.com";var Vs=function(e){ci(n,e);var t=pi(n);function n(){var e;return ri(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return ai(n,null,[{key:"credential",value:function(e,t){return Is._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(zE){return null}}}]),n}(Ms);Vs.GOOGLE_SIGN_IN_METHOD="google.com",Vs.PROVIDER_ID="google.com";var js=function(e){ci(n,e);var t=pi(n);function n(){return ri(this,n),t.call(this,"github.com")}return ai(n,null,[{key:"credential",value:function(e){return Is._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(zE){return null}}}]),n}(Ms);js.GITHUB_SIGN_IN_METHOD="github.com",js.PROVIDER_ID="github.com";var zs=function(e){ci(n,e);var t=pi(n);function n(e,r){var i;return ri(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return ai(n,[{key:"_getIdTokenResponse",value:function(e){return _s(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,_s(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,_s(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Zu),Bs=function(e){ci(n,e);var t=pi(n);function n(e){return ri(this,n),Mo(e.startsWith("saml."),"argument-error"),t.call(this,e)}return ai(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=zs.fromJSON(e);return Mo(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return zs._create(r,n)}catch(i){return null}}}]),n}(Ls),qs=function(e){ci(n,e);var t=pi(n);function n(){return ri(this,n),t.call(this,"twitter.com")}return ai(n,null,[{key:"credential",value:function(e,t){return Is._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(zE){return null}}}]),n}(Ms);function Ws(e,t){return Ks.apply(this,arguments)}function Ks(){return Ks=Zi(gi().mark((function e(t,n){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",eu(t,"POST","/v1/accounts:signUp",Qo(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ks.apply(this,arguments)}qs.TWITTER_SIGN_IN_METHOD="twitter.com",qs.PROVIDER_ID="twitter.com";var Gs=function(){function e(t){ri(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return ai(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Zi(gi().mark((function t(n,r,i){var a,o,u,s,c=arguments;return gi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Au._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Hs(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Zi(gi().mark((function t(n,r,i){var a;return gi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Hs(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Hs(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function $s(){return $s=Zi(gi().mark((function e(t){var n,r,i,a;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$u(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Gs({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Ws(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Gs._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),$s.apply(this,arguments)}var Qs=function(e){ci(n,e);var t=pi(n);function n(e,r,i,a){var o,u;return ri(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(ui(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return ai(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Oi);function Ys(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Qs._fromErrorAndOperation(e,n,t,r);throw n}))}function Xs(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Js(e,t){return Zs.apply(this,arguments)}function Zs(){return Zs=Zi(gi().mark((function e(t,n){var r,i,a,o;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Gi(t),e.next=3,nc(!0,r,n);case 3:return e.t0=uu,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Xs(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Zs.apply(this,arguments)}function ec(e,t){return tc.apply(this,arguments)}function tc(){return tc=Zi(gi().mark((function e(t,n){var r,i,a=arguments;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=vu,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Gs._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),tc.apply(this,arguments)}function nc(e,t,n){return rc.apply(this,arguments)}function rc(){return(rc=Zi(gi().mark((function e(t,n,r){var i,a;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bu(n);case 2:i=Xs(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Mo(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ic(e,t){return ac.apply(this,arguments)}function ac(){return ac=Zi(gi().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,vu(t,Ys(i,a,n,t),r);case 6:return Mo((o=e.sent).idToken,i,"internal-error"),Mo(u=pu(o.idToken),i,"internal-error"),s=u.sub,Mo(t.uid===s,i,"user-mismatch"),e.abrupt("return",Gs._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&No(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),ac.apply(this,arguments)}function oc(e,t){return uc.apply(this,arguments)}function uc(){return uc=Zi(gi().mark((function e(t,n){var r,i,a,o,u=arguments;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Ys(t,i,n);case 4:return a=e.sent,e.next=7,Gs._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),uc.apply(this,arguments)}function sc(e,t){return cc.apply(this,arguments)}function cc(){return cc=Zi(gi().mark((function e(t,n){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oc($u(t),n));case 1:case"end":return e.stop()}}),e)}))),cc.apply(this,arguments)}function lc(e,t){return fc.apply(this,arguments)}function fc(){return(fc=Zi(gi().mark((function e(t,n){var r;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Gi(t),e.next=3,nc(!1,r,n.providerId);case 3:return e.abrupt("return",ec(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hc(e,t){return dc.apply(this,arguments)}function dc(){return(dc=Zi(gi().mark((function e(t,n){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ic(Gi(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pc(e,t){return vc.apply(this,arguments)}function vc(){return vc=Zi(gi().mark((function e(t,n){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",eu(t,"POST","/v1/accounts:signInWithCustomToken",Qo(t,n)));case 1:case"end":return e.stop()}}),e)}))),vc.apply(this,arguments)}function mc(){return mc=Zi(gi().mark((function e(t,n){var r,i,a;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$u(t),e.next=3,pc(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Gs._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),mc.apply(this,arguments)}var yc=function(){function e(t,n){ri(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return ai(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?gc._fromServerResponse(e,t):No(e,"internal-error")}}]),e}(),gc=function(e){ci(n,e);var t=pi(n);function n(e){var r;return ri(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return ai(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(yc);function kc(e,t,n){var r;Mo((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Mo("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Mo(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Mo(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function bc(){return bc=Zi(gi().mark((function e(t,n,r){var i,a;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Gi(t),a={requestType:"PASSWORD_RESET",email:n},r&&kc(i,a,r),e.next=5,hs(i,a);case 5:case"end":return e.stop()}}),e)}))),bc.apply(this,arguments)}function wc(){return wc=Zi(gi().mark((function e(t,n,r){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,es(Gi(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),wc.apply(this,arguments)}function xc(){return xc=Zi(gi().mark((function e(t,n){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,is(Gi(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),xc.apply(this,arguments)}function _c(e,t){return Sc.apply(this,arguments)}function Sc(){return Sc=Zi(gi().mark((function e(t,n){var r,i,a,o;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Gi(t),e.next=3,es(r,{oobCode:n});case 3:i=e.sent,Mo(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Mo(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Mo(i.mfaInfo,r,"internal-error");case 13:Mo(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=yc._fromServerResponse($u(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),Sc.apply(this,arguments)}function Ic(){return Ic=Zi(gi().mark((function e(t,n){var r,i;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_c(Gi(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),Ic.apply(this,arguments)}function Ec(e,t,n){return Tc.apply(this,arguments)}function Tc(){return Tc=Zi(gi().mark((function e(t,n,r){var i,a,o;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=$u(t),e.next=3,Ws(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Gs._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),Tc.apply(this,arguments)}function Cc(){return Cc=Zi(gi().mark((function e(t,n,r){var i,a;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Gi(t),a={requestType:"EMAIL_SIGNIN",email:n},Mo(r.handleCodeInApp,i,"argument-error"),r&&kc(i,a,r),e.next=6,ps(i,a);case 6:case"end":return e.stop()}}),e)}))),Cc.apply(this,arguments)}function Ac(){return Ac=Zi(gi().mark((function e(t,n,r){var i,a;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Gi(t),Mo((a=Ds.credentialWithLink(n,r||zo()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",sc(i,a));case 4:case"end":return e.stop()}}),e)}))),Ac.apply(this,arguments)}function Rc(e,t){return Nc.apply(this,arguments)}function Nc(){return Nc=Zi(gi().mark((function e(t,n){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yo(t,"POST","/v1/accounts:createAuthUri",Qo(t,n)));case 1:case"end":return e.stop()}}),e)}))),Nc.apply(this,arguments)}function Pc(){return Pc=Zi(gi().mark((function e(t,n){var r,i,a,o;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Bo()?zo():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Rc(Gi(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),Pc.apply(this,arguments)}function Oc(){return(Oc=Zi(gi().mark((function e(t,n){var r,i,a,o;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Gi(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&kc(r.auth,a,n),e.next=8,ls(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dc(){return(Dc=Zi(gi().mark((function e(t,n,r){var i,a,o,u;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Gi(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&kc(i.auth,o,r),e.next=8,ms(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lc(e,t){return Mc.apply(this,arguments)}function Mc(){return Mc=Zi(gi().mark((function e(t,n){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yo(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Mc.apply(this,arguments)}function Fc(){return(Fc=Zi(gi().mark((function e(t,n){var r,i,a,o,u,s,c;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Gi(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,vu(a,Lc(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Uc(e,t,n){return Vc.apply(this,arguments)}function Vc(){return Vc=Zi(gi().mark((function e(t,n,r){var i,a,o,u;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,vu(t,ns(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),Vc.apply(this,arguments)}var jc=ai((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ri(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),zc=function(e){ci(n,e);var t=pi(n);function n(e,r,i,a){var o;return ri(this,n),(o=t.call(this,e,r,i)).username=a,o}return ai(n)}(jc),Bc=function(e){ci(n,e);var t=pi(n);function n(e,r){return ri(this,n),t.call(this,e,"facebook.com",r)}return ai(n)}(jc),qc=function(e){ci(n,e);var t=pi(n);function n(e,r){return ri(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return ai(n)}(zc),Wc=function(e){ci(n,e);var t=pi(n);function n(e,r){return ri(this,n),t.call(this,e,"google.com",r)}return ai(n)}(jc),Kc=function(e){ci(n,e);var t=pi(n);function n(e,r,i){return ri(this,n),t.call(this,e,"twitter.com",r,i)}return ai(n)}(zc);function Gc(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=pu(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new jc(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Bc(a,i);case"github.com":return new qc(a,i);case"google.com":return new Wc(a,i);case"twitter.com":return new Kc(a,i,e.screenName||null);case"custom":case"anonymous":return new jc(a,null);default:return new jc(a,r,i)}}(n)}var Hc=function(){function e(t,n){ri(this,e),this.type=t,this.credential=n}return ai(e,[{key:"toJSON",value:function(){return{multiFactorSession:a({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),$c=function(){function e(t,n,r){ri(this,e),this.session=t,this.hints=n,this.signInResolver=r}return ai(e,[{key:"resolveSignIn",value:function(){var e=Zi(gi().mark((function e(t){var n;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=$u(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return yc._fromServerResponse(r,e)}));Mo(i.mfaPendingCredential,r,"internal-error");var o=Hc._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Zi(gi().mark((function e(t){var a,u,s;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Gs._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return Mo(n.user,r,"internal-error"),e.abrupt("return",Gs._forOperation(n.user,n.operationType,u));case 17:No(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Qc(e,t){return Yo(e,"POST","/v2/accounts/mfaEnrollment:start",Qo(e,t))}function Yc(e,t){return Yo(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Qo(e,t))}var Xc=function(){function e(t){var n=this;ri(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return yc._fromServerResponse(t.auth,e)})))}))}return ai(e,[{key:"getSession",value:function(){var e=Zi(gi().mark((function e(){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Hc,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Zi(gi().mark((function e(t,n){var r,i,a;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,vu(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Zi(gi().mark((function e(t){var n,r,i;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,vu(this.user,Yc(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Jc=new WeakMap;var Zc="__sak",el=function(){function e(t,n){ri(this,e),this.storageRetriever=t,this.type=n}return ai(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Zc,"1"),this.storage.removeItem(Zc),Promise.resolve(!0)):Promise.resolve(!1)}catch(zE){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var tl=function(e){ci(n,e);var t=pi(n);function n(){var e;return ri(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Ei();return Mu(e)||Bu(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Ku(),e._shouldAllowMigration=!0,e}return ai(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Wu()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Zi(gi().mark((function e(t,r){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lo(li(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Zi(gi().mark((function e(t){var r;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lo(li(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Zi(gi().mark((function e(t){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lo(li(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(el);tl.type="LOCAL";var nl=tl,rl=function(e){ci(n,e);var t=pi(n);function n(){return ri(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return ai(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(el);rl.type="SESSION";var il=rl;function al(e){return Promise.all(e.map(function(){var e=Zi(gi().mark((function e(t){var n;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var ol=function(){function e(t){ri(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return ai(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Zi(gi().mark((function e(t){var n,r,i,a,o,u,s,c;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Zi(gi().mark((function e(t){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,al(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function ul(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}ol.receivers=[];var sl=function(){function e(t){ri(this,e),this.target=t,this.handlers=new Set}return ai(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Zi(gi().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=ul("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function cl(){return window}function ll(){return"undefined"!==typeof cl().WorkerGlobalScope&&"function"===typeof cl().importScripts}function fl(){return hl.apply(this,arguments)}function hl(){return(hl=Zi(gi().mark((function e(){var t;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function dl(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var pl="firebaseLocalStorageDb",vl="firebaseLocalStorage",ml="fbase_key",yl=function(){function e(t){ri(this,e),this.request=t}return ai(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function gl(e,t){return e.transaction([vl],t?"readwrite":"readonly").objectStore(vl)}function kl(){var e=indexedDB.deleteDatabase(pl);return new yl(e).toPromise()}function bl(){var e=indexedDB.open(pl,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(vl,{keyPath:ml})}catch(r){n(r)}})),e.addEventListener("success",Zi(gi().mark((function n(){var r;return gi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(vl)){n.next=12;break}return r.close(),n.next=5,kl();case 5:return n.t0=t,n.next=8,bl();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function wl(e,t,n){return xl.apply(this,arguments)}function xl(){return xl=Zi(gi().mark((function e(t,n,r){var i,o;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=gl(t,!0).put((a(i={},ml,n),a(i,"value",r),i)),e.abrupt("return",new yl(o).toPromise());case 2:case"end":return e.stop()}}),e)}))),xl.apply(this,arguments)}function _l(e,t){return Sl.apply(this,arguments)}function Sl(){return Sl=Zi(gi().mark((function e(t,n){var r,i;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gl(t,!1).get(n),e.next=3,new yl(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Sl.apply(this,arguments)}function Il(e,t){var n=gl(e,!0).delete(t);return new yl(n).toPromise()}var El=function(){function e(){ri(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return ai(e,[{key:"_openDb",value:function(){var e=Zi(gi().mark((function e(){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,bl();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Zi(gi().mark((function e(t){var n,r;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Zi(gi().mark((function e(){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ll()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Zi(gi().mark((function e(){var t=this;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=ol._getInstance(ll()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Zi(gi().mark((function e(n,r){var i;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Zi(gi().mark((function e(t,n){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Zi(gi().mark((function e(){var t,n,r;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fl();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new sl(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Zi(gi().mark((function e(t){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&dl()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Zi(gi().mark((function e(){var t;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,bl();case 5:return t=e.sent,e.next=8,wl(t,Zc,"1");case 8:return e.next=10,Il(t,Zc);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Zi(gi().mark((function e(t){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Zi(gi().mark((function e(t,n){var r=this;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Zi(gi().mark((function e(){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return wl(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Zi(gi().mark((function e(t){var n;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return _l(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Zi(gi().mark((function e(t){var n=this;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Zi(gi().mark((function e(){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Il(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Zi(gi().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=gl(e,!1).getAll();return new yl(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=oi(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Zi(gi().mark((function t(){return gi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();El.type="LOCAL";var Tl=El;function Cl(e,t){return Yo(e,"POST","/v2/accounts/mfaSignIn:start",Qo(e,t))}function Al(e){return Rl.apply(this,arguments)}function Rl(){return Rl=Zi(gi().mark((function e(t){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yo(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),Rl.apply(this,arguments)}function Nl(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Po("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Pl(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Ol=1e12,Dl=function(){function e(t){ri(this,e),this.auth=t,this.counter=Ol,this._widgets=new Map}return ai(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Ll(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Ol;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Ol;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Zi(gi().mark((function e(t){var n,r;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Ol,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ll=function(){function e(t,n,r){var i=this;ri(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Mo(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return ai(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Ml=Pl("rcb"),Fl=new Wo(3e4,6e4),Ul="https://www.google.com/recaptcha/api.js?",Vl=function(){function e(){ri(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!cl().grecaptcha}return ai(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Mo(jl(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(cl().grecaptcha):new Promise((function(r,i){var a=cl().setTimeout((function(){i(Po(e,"network-request-failed"))}),Fl.get());cl()[Ml]=function(){cl().clearTimeout(a),delete cl()[Ml];var o=cl().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Po(e,"internal-error"))},Nl("".concat(Ul,"?").concat(ji({onload:Ml,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Po(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!cl().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function jl(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var zl=function(){function e(){ri(this,e)}return ai(e,[{key:"load",value:function(){var e=Zi(gi().mark((function e(t){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Dl(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Bl="recaptcha",ql={theme:"light",type:"image"},Wl=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},ql),r=arguments.length>2?arguments[2]:void 0;ri(this,e),this.parameters=n,this.type=Bl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=$u(r),this.isInvisible="invisible"===this.parameters.size,Mo("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Mo(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new zl:new Vl,this.validateStartingState()}return ai(e,[{key:"verify",value:function(){var e=Zi(gi().mark((function e(){var t,n,r,i=this;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Mo(!this.parameters.sitekey,this.auth,"argument-error"),Mo(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Mo("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=cl()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Mo(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Zi(gi().mark((function e(){var t,n;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Zi(gi().mark((function e(){var t;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Mo(Bo()&&!ll(),this.auth,"internal-error"),e.next=3,Kl();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Al(this.auth);case 8:Mo(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Mo(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Kl(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Gl=function(){function e(t,n){ri(this,e),this.verificationId=t,this.onConfirmation=n}return ai(e,[{key:"confirm",value:function(e){var t=Ps._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Hl(){return Hl=Zi(gi().mark((function e(t,n,r){var i,a;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=$u(t),e.next=3,Xl(i,n,Gi(r));case 3:return a=e.sent,e.abrupt("return",new Gl(a,(function(e){return sc(i,e)})));case 5:case"end":return e.stop()}}),e)}))),Hl.apply(this,arguments)}function $l(e,t,n){return Ql.apply(this,arguments)}function Ql(){return(Ql=Zi(gi().mark((function e(t,n,r){var i,a;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Gi(t),e.next=3,nc(!1,i,"phone");case 3:return e.next=5,Xl(i.auth,n,Gi(r));case 5:return a=e.sent,e.abrupt("return",new Gl(a,(function(e){return lc(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yl(){return(Yl=Zi(gi().mark((function e(t,n,r){var i,a;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Gi(t),e.next=3,Xl(i.auth,n,Gi(r));case 3:return a=e.sent,e.abrupt("return",new Gl(a,(function(e){return hc(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xl(e,t,n){return Jl.apply(this,arguments)}function Jl(){return Jl=Zi(gi().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Mo("string"===typeof a,t,"argument-error"),Mo(r.type===Bl,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Mo("enroll"===u.type,t,"internal-error"),e.next=13,Qc(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Mo("signin"===u.type,t,"internal-error"),Mo(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Cl(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Es(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Jl.apply(this,arguments)}function Zl(){return(Zl=Zi(gi().mark((function e(t,n){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ec(Gi(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ef=function(){function e(t){ri(this,e),this.providerId=e.PROVIDER_ID,this.auth=$u(t)}return ai(e,[{key:"verifyPhoneNumber",value:function(e,t){return Xl(this.auth,e,Gi(t))}}],[{key:"credential",value:function(e,t){return Ps._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Ps._fromTokenResponse(n,r):null}}]),e}();function tf(e,t){return t?jo(t):(Mo(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}ef.PROVIDER_ID="phone",ef.PHONE_SIGN_IN_METHOD="phone";var nf=function(e){ci(n,e);var t=pi(n);function n(e){var r;return ri(this,n),(r=t.call(this,"custom","custom")).params=e,r}return ai(n,[{key:"_getIdTokenResponse",value:function(e){return _s(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return _s(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return _s(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Zu);function rf(e){return oc(e.auth,new nf(e),e.bypassAuthState)}function af(e){var t=e.auth,n=e.user;return Mo(n,t,"internal-error"),ic(n,new nf(e),e.bypassAuthState)}function of(e){return uf.apply(this,arguments)}function uf(){return uf=Zi(gi().mark((function e(t){var n,r;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Mo(r=t.user,n,"internal-error"),e.abrupt("return",ec(r,new nf(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),uf.apply(this,arguments)}var sf=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];ri(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return ai(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Zi(gi().mark((function t(n,r){return gi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Zi(gi().mark((function e(t){var n,r,i,a,o,u,s;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rf;case"linkViaPopup":case"linkViaRedirect":return of;case"reauthViaPopup":case"reauthViaRedirect":return af;default:No(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Uo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Uo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),cf=new Wo(2e3,1e4);function lf(e,t,n){return ff.apply(this,arguments)}function ff(){return ff=Zi(gi().mark((function e(t,n,r){var i,a,o;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=$u(t),Do(t,n,Ls),a=tf(i,r),o=new vf(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),ff.apply(this,arguments)}function hf(){return(hf=Zi(gi().mark((function e(t,n,r){var i,a,o;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Do((i=Gi(t)).auth,n,Ls),a=tf(i.auth,r),o=new vf(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function df(e,t,n){return pf.apply(this,arguments)}function pf(){return(pf=Zi(gi().mark((function e(t,n,r){var i,a,o;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Do((i=Gi(t)).auth,n,Ls),a=tf(i.auth,r),o=new vf(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var vf=function(e){ci(n,e);var t=pi(n);function n(e,r,i,a,o){var u;return ri(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=ui(u),u}return ai(n,[{key:"executeNotNull",value:function(){var e=Zi(gi().mark((function e(){var t;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Mo(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Zi(gi().mark((function e(){var t,n=this;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Uo(1===this.filter.length,"Popup operations only handle one event"),t=ul(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Po(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Po(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Po(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,cf.get())}()}}]),n}(sf);vf.currentPopupAction=null;var mf=new Map,yf=function(e){ci(n,e);var t=pi(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return ri(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return ai(n,[{key:"execute",value:function(){var e=Zi(gi().mark((function e(){var t,r;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=mf.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,gf(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,lo(li(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:mf.set(this.auth._key(),t);case 21:return this.bypassAuthState||mf.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Zi(gi().mark((function e(t){var r;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",lo(li(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",lo(li(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Zi(gi().mark((function e(){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(sf);function gf(e,t){return kf.apply(this,arguments)}function kf(){return kf=Zi(gi().mark((function e(t,n){var r,i,a;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_f(n),i=xf(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),kf.apply(this,arguments)}function bf(e,t){return wf.apply(this,arguments)}function wf(){return wf=Zi(gi().mark((function e(t,n){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xf(t)._set(_f(n),"true"));case 1:case"end":return e.stop()}}),e)}))),wf.apply(this,arguments)}function xf(e){return jo(e._redirectPersistence)}function _f(e){return Pu("pendingRedirect",e.config.apiKey,e.name)}function Sf(e,t,n){return function(e,t,n){return If.apply(this,arguments)}(e,t,n)}function If(){return If=Zi(gi().mark((function e(t,n,r){var i,a;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=$u(t),Do(t,n,Ls),a=tf(i,r),e.next=5,bf(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),If.apply(this,arguments)}function Ef(e,t,n){return function(e,t,n){return Tf.apply(this,arguments)}(e,t,n)}function Tf(){return(Tf=Zi(gi().mark((function e(t,n,r){var i,a,o;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Do((i=Gi(t)).auth,n,Ls),a=tf(i.auth,r),e.next=5,bf(a,i.auth);case 5:return e.next=7,Df(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cf(e,t,n){return function(e,t,n){return Af.apply(this,arguments)}(e,t,n)}function Af(){return(Af=Zi(gi().mark((function e(t,n,r){var i,a,o;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Do((i=Gi(t)).auth,n,Ls),a=tf(i.auth,r),e.next=5,nc(!1,i,n.providerId);case 5:return e.next=7,bf(a,i.auth);case 7:return e.next=9,Df(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rf(e,t){return Nf.apply(this,arguments)}function Nf(){return Nf=Zi(gi().mark((function e(t,n){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$u(t)._initializationPromise;case 2:return e.abrupt("return",Pf(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),Nf.apply(this,arguments)}function Pf(e,t){return Of.apply(this,arguments)}function Of(){return Of=Zi(gi().mark((function e(t,n){var r,i,a,o,u,s=arguments;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=$u(t),a=tf(i,n),o=new yf(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),Of.apply(this,arguments)}function Df(e){return Lf.apply(this,arguments)}function Lf(){return(Lf=Zi(gi().mark((function e(t){var n;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ul("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Mf=function(){function e(t){ri(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return ai(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Uf(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Uf(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Po(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ff(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Ff(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Ff(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Uf(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Vf(e){return jf.apply(this,arguments)}function jf(){return jf=Zi(gi().mark((function e(t){var n,r=arguments;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Yo(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),jf.apply(this,arguments)}var zf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Bf=/^https?/;function qf(){return qf=Zi(gi().mark((function e(t){var n,r,i,a,o;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Vf(t);case 4:n=e.sent,r=n.authorizedDomains,i=oi(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Wf(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:No(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),qf.apply(this,arguments)}function Wf(e){var t=zo(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Bf.test(r))return!1;if(zf.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Kf=new Wo(3e4,6e4);function Gf(){var e=cl().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=b(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Hf=null;function $f(e){return Hf=Hf||function(e){return new Promise((function(t,n){var r,i,a;function o(){Gf(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Gf(),n(Po(e,"network-request-failed"))},timeout:Kf.get()})}if(null===(i=null===(r=cl().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=cl().gapi)||void 0===a?void 0:a.load)){var u=Pl("iframefcb");return cl()[u]=function(){gapi.load?o():n(Po(e,"network-request-failed"))},Nl("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Hf=null,e}))}(e),Hf}var Qf=new Wo(5e3,15e3),Yf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Xf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Jf(e){var t=e.config;Mo(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Ko(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Pa},i=Xf.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(ji(r).slice(1))}function Zf(e){return eh.apply(this,arguments)}function eh(){return eh=Zi(gi().mark((function e(t){var n,r;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$f(t);case 2:return n=e.sent,Mo(r=cl().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Jf(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Yf,dontclear:!0},(function(e){return new Promise(function(){var n=Zi(gi().mark((function n(r,i){var a,o,u;return gi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){cl().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Po(t,"network-request-failed"),o=cl().setTimeout((function(){i(a)}),Qf.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),eh.apply(this,arguments)}var th={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nh="_blank",rh="http://localhost",ih=function(){function e(t){ri(this,e),this.window=t,this.associatedEvent=null}return ai(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function ah(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},th),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Ei().toLowerCase();n&&(u=Fu(c)?nh:n),Lu(c)&&(t=t||rh,s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=h(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(qu(c)&&"_self"!==u)return oh(t||"",u),new ih(null);var f=window.open(t||"",u,l);Mo(f,e,"popup-blocked");try{f.focus()}catch(d){}return new ih(f)}function oh(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var uh="__/auth/handler",sh="emulator/auth/handler";function ch(e,t,n,r,i,a){Mo(e.config.authDomain,e,"auth-domain-config-required"),Mo(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Pa,eventId:i};if(t instanceof Ls){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=h(s[u],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof Ms){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(uh);return Ko(t,sh)}(e),"?").concat(ji(p).slice(1))}var lh="webStorageSupport",fh=function(){function e(){ri(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=il,this._completeRedirectFn=Pf}return ai(e,[{key:"_openPopup",value:function(){var e=Zi(gi().mark((function e(t,n,r,i){var a,o;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Uo(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=ch(t,n,r,zo(),i),e.abrupt("return",ah(t,o,ul()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Zi(gi().mark((function e(t,n,r,i){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=ch(t,n,r,zo(),i),cl().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Uo(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Zi(gi().mark((function e(t){var n,r;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zf(t);case 2:return n=e.sent,r=new Mf(t),n.register("authEvent",(function(e){return Mo(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(lh,{type:lh},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),No(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return qf.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Ku()||Mu()||Bu()}}]),e}(),hh=fh,dh=function(){function e(t){ri(this,e),this.factorId=t}return ai(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Fo("unexpected MultiFactorSessionType")}}}]),e}(),ph=function(e){ci(n,e);var t=pi(n);function n(e){var r;return ri(this,n),(r=t.call(this,"phone")).credential=e,r}return ai(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Yo(e,"POST","/v2/accounts/mfaEnrollment:finalize",Qo(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Yo(e,"POST","/v2/accounts/mfaSignIn:finalize",Qo(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(dh),vh=function(){function e(){ri(this,e)}return ai(e,null,[{key:"assertion",value:function(e){return ph._fromCredential(e)}}]),e}();vh.FACTOR_ID="phone";var mh,yh="@firebase/auth",gh="0.19.11",kh=function(){function e(t){ri(this,e),this.auth=t,this.internalListeners=new Map}return ai(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Zi(gi().mark((function e(t){var n;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Mo(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function bh(){return window}mh="Browser",Ia(new ea("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){Mo(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),Mo(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:mh,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Gu(mh)},i=new Hu(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(jo);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Ia(new ea("auth-internal",(function(e){return function(e){return new kh(e)}($u(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Ua(yh,gh,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(mh)),Ua(yh,gh,"esm2017");function wh(e,t,n){return xh.apply(this,arguments)}function xh(){return xh=Zi(gi().mark((function e(t,n,r){var i,a,o,u,s;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=bh(),o=a.BuildInfo,Uo(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Ch(n.sessionId);case 4:return u=e.sent,s={},Bu()?s.ibi=o.packageName:Vu()?s.apn=o.packageName:No(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",ch(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),xh.apply(this,arguments)}function _h(){return _h=Zi(gi().mark((function e(t){var n,r,i;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=bh(),r=n.BuildInfo,i={},Bu()?i.iosBundleId=r.packageName:Vu()?i.androidPackageName=r.packageName:No(t,"operation-not-supported-in-this-environment"),e.next=5,Vf(t,i);case 5:case"end":return e.stop()}}),e)}))),_h.apply(this,arguments)}function Sh(e){var t=bh().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ei();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Ih(e,t,n){return Eh.apply(this,arguments)}function Eh(){return Eh=Zi(gi().mark((function e(t,n,r){var i,a,o;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=bh(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(Po(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Vu()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),Eh.apply(this,arguments)}function Th(e){var t,n,r,i,a,o,u,s,c,l,f=bh();Mo("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Mo("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Mo("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Mo("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Mo("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Ch(e){return Ah.apply(this,arguments)}function Ah(){return(Ah=Zi(gi().mark((function e(t){var n,r,i;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Rh(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rh(e){if(Uo(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Nh=function(e){ci(n,e);var t=pi(n);function n(){var e;return ri(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return ai(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),lo(li(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Zi(gi().mark((function e(){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Mf);function Ph(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:Fh(),postBody:null,tenantId:e.tenantId,error:Po(e,"no-auth-event")}}function Oh(e,t){return Uh()._set(Vh(e),t)}function Dh(e){return Lh.apply(this,arguments)}function Lh(){return Lh=Zi(gi().mark((function e(t){var n;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uh()._get(Vh(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Uh()._remove(Vh(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),Lh.apply(this,arguments)}function Mh(e,t){var n,r,i=function(e){var t=jh(e),n=t.link?decodeURIComponent(t.link):void 0,r=jh(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return jh(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=jh(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?Po(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Fh(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function Uh(){return jo(nl)}function Vh(e){return Pu("authEvent",e.config.apiKey,e.name)}function jh(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=s(t=n)||k(t)||l(t)||f();r[0];return zi(r.slice(1).join("?"))}var zh=function(){function e(){ri(this,e),this._redirectPersistence=il,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Pf}return ai(e,[{key:"_initialize",value:function(){var e=Zi(gi().mark((function e(t){var n,r;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Nh(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){No(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Zi(gi().mark((function e(t,n,r,i){var a,o,u,s;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Th(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),mf.clear(),e.next=10,this._originValidation(t);case 10:return o=Ph(t,r,i),e.next=13,Oh(t,o);case 13:return e.next=15,wh(t,o,n);case 15:return u=e.sent,e.next=18,Sh(u);case 18:return s=e.sent,e.abrupt("return",Ih(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return _h.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=bh(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Zi(gi().mark((function n(){return gi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dh(e);case 2:t.onEvent(qh());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Zi(gi().mark((function n(r){var i,a;return gi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Dh(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Mh(i,r.url)),t.onEvent(a||qh());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");bh().handleOpenURL=function(){var e=Zi(gi().mark((function e(t){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Bh=zh;function qh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Po("no-auth-event")}}function Wh(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Kh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ei();return!("file:"!==Wh()&&"ionic:"!==Wh()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Gh(){return Ni()&&11===(null===document||void 0===document?void 0:document.documentMode)}function Hh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ei();return/Edge\/\d+/.test(e)}function $h(){try{var e=self.localStorage,t=ul();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ei();return Gh()||Hh(e)}()||Pi()}catch(n){return Qh()&&Pi()}return!1}function Qh(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Yh(){return("http:"===Wh()||"https:"===Wh()||Ai()||Kh())&&!(Ri()||Ci())&&$h()&&!Qh()}function Xh(){return Kh()&&"undefined"!==typeof document}function Jh(){return Zh.apply(this,arguments)}function Zh(){return(Zh=Zi(gi().mark((function e(){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Xh()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ed={LOCAL:"local",NONE:"none",SESSION:"session"},td=Mo,nd="persistence";function rd(e,t){td(Object.values(ed).includes(t),e,"invalid-persistence-type"),Ri()?td(t!==ed.SESSION,e,"unsupported-persistence-type"):Ci()?td(t===ed.NONE,e,"unsupported-persistence-type"):Qh()?td(t===ed.NONE||t===ed.LOCAL&&Pi(),e,"unsupported-persistence-type"):td(t===ed.NONE||$h(),e,"unsupported-persistence-type")}function id(e){return ad.apply(this,arguments)}function ad(){return ad=Zi(gi().mark((function e(t){var n,r;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=od(),r=Pu(nd,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),ad.apply(this,arguments)}function od(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var ud=Mo,sd=function(){function e(){ri(this,e),this.browserResolver=jo(hh),this.cordovaResolver=jo(Bh),this.underlyingResolver=null,this._redirectPersistence=il,this._completeRedirectFn=Pf}return ai(e,[{key:"_initialize",value:function(){var e=Zi(gi().mark((function e(t){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Zi(gi().mark((function e(t,n,r,i){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Zi(gi().mark((function e(t,n,r,i){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Xh()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return ud(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Zi(gi().mark((function e(){var t;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Jh();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function cd(e){return e.unwrap()}function ld(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new vd(e,function(e,t){var n,r=Gi(e),i=t;return Mo(t.customData.operationType,r,"argument-error"),Mo(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),$c._fromError(r,i)}(e,t));else if(r){var i=fd(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function fd(e){var t=(e instanceof Oi?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Oi)&&"temporaryProof"in t&&"phoneNumber"in t)return ef.credentialFromResult(e);var n,r=t.providerId;if(!r||r===yo)return null;switch(r){case mo:n=Vs;break;case po:n=Us;break;case vo:n=js;break;case go:n=qs;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?zs._create(r,u):Is._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new Fs(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof Oi?n.credentialFromError(e):n.credentialFromResult(e)}function hd(e,t){return t.catch((function(t){throw t instanceof Oi&&ld(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,fd(t)),additionalUserInfo:Gc(e),user:md.getOrCreate(r)}}))}function dd(e,t){return pd.apply(this,arguments)}function pd(){return pd=Zi(gi().mark((function e(t,n){var r;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return hd(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),pd.apply(this,arguments)}var vd=function(){function e(t,n){ri(this,e),this.resolver=n,this.auth=t.wrapped()}return ai(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return hd(cd(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),md=function(){function e(t){ri(this,e),this._delegate=t,this.multiFactor=function(e){var t=Gi(e);return Jc.has(t)||Jc.set(t,Xc._fromUser(t)),Jc.get(t)}(t)}return ai(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Zi(gi().mark((function e(t){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hd(this.auth,lc(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Zi(gi().mark((function e(t,n){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dd(this.auth,$l(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Zi(gi().mark((function e(t){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hd(this.auth,df(this._delegate,t,sd)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Zi(gi().mark((function e(t){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,id($u(this.auth));case 2:return e.abrupt("return",Cf(this._delegate,t,sd));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Zi(gi().mark((function e(t){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hd(this.auth,hc(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return dd(this.auth,function(e,t,n){return Yl.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return hd(this.auth,function(e,t,n){return hf.apply(this,arguments)}(this._delegate,e,sd))}},{key:"reauthenticateWithRedirect",value:function(){var e=Zi(gi().mark((function e(t){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,id($u(this.auth));case 2:return e.abrupt("return",Ef(this._delegate,t,sd));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Oc.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Zi(gi().mark((function e(t){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Js(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Uc(Gi(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Uc(Gi(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Zl.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Fc.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Dc.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();md.USER_MAP=new WeakMap;var yd=Mo,gd=function(){function e(t,n){if(ri(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;yd(r,"invalid-api-key",{appName:t.name}),yd(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?sd:void 0;this._delegate=n.initialize({options:{persistence:bd(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Eo),this.linkUnderlyingAuth()}return ai(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?md.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Yu(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return xc.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return _c(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return wc.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Zi(gi().mark((function e(t,n){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hd(this._delegate,Ec(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Pc.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Os.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Zi(gi().mark((function e(){var t;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yd(Yh(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Rf(this._delegate,sd);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",hd(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){$u(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=kd(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=kd(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Cc.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return bc.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Zi(gi().mark((function e(t){var n,r;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:rd(this._delegate,t),e.t0=t,e.next=e.t0===ed.SESSION?4:e.t0===ed.LOCAL?6:e.t0===ed.NONE?11:13;break;case 4:return n=il,e.abrupt("break",14);case 6:return e.next=8,jo(Tl)._isAvailable();case 8:return r=e.sent,n=r?Tl:nl,e.abrupt("break",14);case 11:return n=Nu,e.abrupt("break",14);case 13:return e.abrupt("return",No("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return hd(this._delegate,function(e){return $s.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return hd(this._delegate,sc(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return hd(this._delegate,function(e,t){return mc.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return hd(this._delegate,function(e,t,n){return sc(Gi(e),Ds.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return hd(this._delegate,function(e,t,n){return Ac.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return dd(this._delegate,function(e,t,n){return Hl.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Zi(gi().mark((function e(t){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yd(Yh(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",hd(this._delegate,lf(this._delegate,t,sd)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Zi(gi().mark((function e(t){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yd(Yh(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,id(this._delegate);case 3:return e.abrupt("return",Sf(this._delegate,t,sd));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Ic.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function kd(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&md.getOrCreate(e))},error:t,complete:n}}function bd(e,t){var n=function(e,t){var n=od();if(!n)return[];var r=Pu(nd,e,t);switch(n.getItem(r)){case ed.NONE:return[Nu];case ed.LOCAL:return[Tl,il];case ed.SESSION:return[il];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Tl)||n.push(Tl),"undefined"!==typeof window)for(var r=0,i=[nl,il];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Nu)||n.push(Nu),n}gd.Persistence=ed;var wd=function(){function e(){ri(this,e),this.providerId="phone",this._delegate=new ef(cd(so.auth()))}return ai(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return ef.credential(e,t)}}]),e}();wd.PHONE_SIGN_IN_METHOD=ef.PHONE_SIGN_IN_METHOD,wd.PROVIDER_ID=ef.PROVIDER_ID;var xd,_d=Mo,Sd=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:so.app();ri(this,e),_d(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Wl(t,n,i.auth()),this.type=this._delegate.type}return ai(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(xd=so).INTERNAL.registerComponent(new ea("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new gd(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ko,PASSWORD_RESET:bo,RECOVER_EMAIL:wo,REVERT_SECOND_FACTOR_ADDITION:xo,VERIFY_AND_CHANGE_EMAIL:_o,VERIFY_EMAIL:So}},EmailAuthProvider:Ds,FacebookAuthProvider:Us,GithubAuthProvider:js,GoogleAuthProvider:Vs,OAuthProvider:Fs,SAMLAuthProvider:Bs,PhoneAuthProvider:wd,PhoneMultiFactorGenerator:vh,RecaptchaVerifier:Sd,TwitterAuthProvider:qs,Auth:gd,AuthCredential:Zu,Error:Oi}).setInstantiationMode("LAZY").setMultipleInstances(!1)),xd.registerVersion("@firebase/auth-compat","0.2.11");var Id,Ed="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Td={},Cd=Cd||{},Ad=Ed||self;function Rd(){}function Nd(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Pd(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Od="closure_uid_"+(1e9*Math.random()>>>0),Dd=0;function Ld(e,t,n){return e.call.apply(e.bind,arguments)}function Md(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Fd(e,t,n){return(Fd=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ld:Md).apply(null,arguments)}function Ud(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Vd(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function jd(){this.s=this.s,this.o=this.o}var zd={};jd.prototype.s=!1,jd.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Od)&&e[Od]||(e[Od]=++Dd)}(this);delete zd[e]}},jd.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Bd=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},qd=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Wd(e){return Array.prototype.concat.apply([],arguments)}function Kd(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Gd(e){return/^[\s\xa0]*$/.test(e)}var Hd,$d=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Qd(e,t){return-1!=e.indexOf(t)}function Yd(e,t){return e<t?-1:e>t?1:0}e:{var Xd=Ad.navigator;if(Xd){var Jd=Xd.userAgent;if(Jd){Hd=Jd;break e}}Hd=""}function Zd(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function ep(e){var t={};for(var n in e)t[n]=e[n];return t}var tp="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function np(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<tp.length;a++)n=tp[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function rp(e){return rp[" "](e),e}rp[" "]=Rd;var ip,ap=Qd(Hd,"Opera"),op=Qd(Hd,"Trident")||Qd(Hd,"MSIE"),up=Qd(Hd,"Edge"),sp=up||op,cp=Qd(Hd,"Gecko")&&!(Qd(Hd.toLowerCase(),"webkit")&&!Qd(Hd,"Edge"))&&!(Qd(Hd,"Trident")||Qd(Hd,"MSIE"))&&!Qd(Hd,"Edge"),lp=Qd(Hd.toLowerCase(),"webkit")&&!Qd(Hd,"Edge");function fp(){var e=Ad.document;return e?e.documentMode:void 0}e:{var hp="",dp=function(){var e=Hd;return cp?/rv:([^\);]+)(\)|;)/.exec(e):up?/Edge\/([\d\.]+)/.exec(e):op?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):lp?/WebKit\/(\S+)/.exec(e):ap?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(dp&&(hp=dp?dp[1]:""),op){var pp=fp();if(null!=pp&&pp>parseFloat(hp)){ip=String(pp);break e}}ip=hp}var vp,mp={};function yp(){return function(e){var t=mp;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=$d(String(ip)).split("."),n=$d("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Yd(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Yd(0==a[2].length,0==o[2].length)||Yd(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Ad.document&&op){var gp=fp();vp=gp||(parseInt(ip,10)||void 0)}else vp=void 0;var kp=vp,bp=function(){if(!Ad.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Ad.addEventListener("test",Rd,t),Ad.removeEventListener("test",Rd,t)}catch(n){}return e}();function wp(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function xp(e,t){if(wp.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(cp){e:{try{rp(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:_p[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&xp.Z.h.call(this)}}wp.prototype.h=function(){this.defaultPrevented=!0},Vd(xp,wp);var _p={2:"touch",3:"pen",4:"mouse"};xp.prototype.h=function(){xp.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Sp="closure_listenable_"+(1e6*Math.random()|0),Ip=0;function Ep(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Ip,this.ca=this.fa=!1}function Tp(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Cp(e){this.src=e,this.g={},this.h=0}function Ap(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Bd(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Tp(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Rp(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Cp.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Rp(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Ep(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Np="closure_lm_"+(1e6*Math.random()|0),Pp={};function Op(e,t,n,r,i){if(r&&r.once)return Lp(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Op(e,t[a],n,r,i);return null}return n=Bp(n),e&&e[Sp]?e.N(t,n,Pd(r)?!!r.capture:!!r,i):Dp(e,t,n,!1,r,i)}function Dp(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Pd(i)?!!i.capture:!!i,u=jp(e);if(u||(e[Np]=u=new Cp(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Vp;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)bp||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Up(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Lp(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Lp(e,t[a],n,r,i);return null}return n=Bp(n),e&&e[Sp]?e.O(t,n,Pd(r)?!!r.capture:!!r,i):Dp(e,t,n,!0,r,i)}function Mp(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Mp(e,t[a],n,r,i);else r=Pd(r)?!!r.capture:!!r,n=Bp(n),e&&e[Sp]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Rp(a=e.g[t],n,r,i))&&(Tp(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=jp(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Rp(t,n,r,i)),(n=-1<e?t[e]:null)&&Fp(n))}function Fp(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Sp])Ap(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Up(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=jp(t))?(Ap(n,e),0==n.h&&(n.src=null,t[Np]=null)):Tp(e)}}}function Up(e){return e in Pp?Pp[e]:Pp[e]="on"+e}function Vp(e,t){if(e.ca)e=!0;else{t=new xp(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Fp(e),e=n.call(r,t)}return e}function jp(e){return(e=e[Np])instanceof Cp?e:null}var zp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bp(e){return"function"===typeof e?e:(e[zp]||(e[zp]=function(t){return e.handleEvent(t)}),e[zp])}function qp(){jd.call(this),this.i=new Cp(this),this.P=this,this.I=null}function Wp(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new wp(t,e);else if(t instanceof wp)t.target=t.target||e;else{var i=t;np(t=new wp(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Kp(o,r,!0,t)&&i}if(i=Kp(o=t.g=e,r,!0,t)&&i,i=Kp(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Kp(o=t.g=n[a],r,!1,t)&&i}function Kp(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&Ap(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Vd(qp,jd),qp.prototype[Sp]=!0,qp.prototype.removeEventListener=function(e,t,n,r){Mp(this,e,t,n,r)},qp.prototype.M=function(){if(qp.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Tp(n[r]);delete t.g[e],t.h--}}this.I=null},qp.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},qp.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Gp=Ad.JSON.stringify;function Hp(){var e=tv,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var $p,Qp=function(){function e(){ri(this,e),this.h=this.g=null}return ai(e,[{key:"add",value:function(e,t){var n=Yp.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Yp=new(function(){function e(t,n){ri(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return ai(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Xp}),(function(e){return e.reset()})),Xp=function(){function e(){ri(this,e),this.next=this.g=this.h=null}return ai(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Jp(e){Ad.setTimeout((function(){throw e}),0)}function Zp(e,t){$p||function(){var e=Ad.Promise.resolve(void 0);$p=function(){e.then(nv)}}(),ev||($p(),ev=!0),tv.add(e,t)}var ev=!1,tv=new Qp;function nv(){for(var e;e=Hp();){try{e.h.call(e.g)}catch(n){Jp(n)}var t=Yp;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ev=!1}function rv(e,t){qp.call(this),this.h=e||1,this.g=t||Ad,this.j=Fd(this.kb,this),this.l=Date.now()}function iv(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function av(e,t,n){if("function"===typeof e)n&&(e=Fd(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Fd(e.handleEvent,e)}return 2147483647<Number(t)?-1:Ad.setTimeout(e,t||0)}function ov(e){e.g=av((function(){e.g=null,e.i&&(e.i=!1,ov(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Vd(rv,qp),(Id=rv.prototype).da=!1,Id.S=null,Id.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Wp(this,"tick"),this.da&&(iv(this),this.start()))}},Id.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Id.M=function(){rv.Z.M.call(this),iv(this),delete this.g};var uv=function(e){ci(n,e);var t=pi(n);function n(e,r){var i;return ri(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return ai(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:ov(this)}},{key:"M",value:function(){lo(li(n.prototype),"M",this).call(this),this.g&&(Ad.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(jd);function sv(e){jd.call(this),this.h=e,this.g={}}Vd(sv,jd);var cv=[];function lv(e,t,n,r){Array.isArray(n)||(n&&(cv[0]=n.toString()),n=cv);for(var i=0;i<n.length;i++){var a=Op(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function fv(e){Zd(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Fp(e)}),e),e.g={}}function hv(){this.g=!0}function dv(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Gp(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}sv.prototype.M=function(){sv.Z.M.call(this),fv(this)},sv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},hv.prototype.Aa=function(){this.g=!1},hv.prototype.info=function(){};var pv={},vv=null;function mv(){return vv=vv||new qp}function yv(e){wp.call(this,pv.Ma,e)}function gv(e){var t=mv();Wp(t,new yv(t,e))}function kv(e,t){wp.call(this,pv.STAT_EVENT,e),this.stat=t}function bv(e){var t=mv();Wp(t,new kv(t,e))}function wv(e,t){wp.call(this,pv.Na,e),this.size=t}function xv(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Ad.setTimeout((function(){e()}),t)}pv.Ma="serverreachability",Vd(yv,wp),pv.STAT_EVENT="statevent",Vd(kv,wp),pv.Na="timingevent",Vd(wv,wp);var _v={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Sv={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Iv(){}function Ev(e){return e.h||(e.h=e.i())}function Tv(){}Iv.prototype.h=null;var Cv,Av={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Rv(){wp.call(this,"d")}function Nv(){wp.call(this,"c")}function Pv(){}function Ov(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new sv(this),this.P=Lv,e=sp?125:void 0,this.W=new rv(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Dv}function Dv(){this.i=null,this.g="",this.h=!1}Vd(Rv,wp),Vd(Nv,wp),Vd(Pv,Iv),Pv.prototype.g=function(){return new XMLHttpRequest},Pv.prototype.i=function(){return{}},Cv=new Pv;var Lv=45e3,Mv={},Fv={};function Uv(e,t,n){e.K=1,e.v=um(tm(t)),e.s=n,e.U=!0,Vv(e,null)}function Vv(e,t){e.F=Date.now(),qv(e),e.A=tm(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),bm(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Dv,e.g=xy(e.l,n?t:null,!e.s),0<e.O&&(e.L=new uv(Fd(e.Ia,e,e.g),e.O)),lv(e.V,e.g,"readystatechange",e.gb),t=e.H?ep(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),gv(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function jv(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function zv(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Bv(e,n))==Fv){4==t&&(e.o=4,bv(14),i=!1),dv(e.j,e.m,null,"[Incomplete Response]");break}if(r==Mv){e.o=4,bv(15),dv(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}dv(e.j,e.m,r,null),$v(e,r)}jv(e)&&r!=Fv&&r!=Mv&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,bv(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),py(t),t.L=!0,bv(11))):(dv(e.j,e.m,n,"[Invalid Chunked Response]"),Hv(e),Gv(e))}function Bv(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fv:(n=Number(t.substring(n,r)),isNaN(n)?Mv:(r+=1)+n>t.length?Fv:(t=t.substr(r,n),e.C=r+n,t))}function qv(e){e.Y=Date.now()+e.P,Wv(e,e.P)}function Wv(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=xv(Fd(e.eb,e),t)}function Kv(e){e.B&&(Ad.clearTimeout(e.B),e.B=null)}function Gv(e){0==e.l.G||e.I||yy(e.l,e)}function Hv(e){Kv(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,iv(e.W),fv(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function $v(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Cm(n.i,e)))if(n.I=e.N,!e.J&&Cm(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;my(n),ay(n)}dy(n),bv(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=xv(Fd(n.ab,n),6e3));if(1>=Tm(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else ky(n,11)}else if((e.J||n.g==e)&&my(n),!Gd(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Qd(l,"spdy")||Qd(l,"quic")||Qd(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Am(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,om(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=wy(r,r.H?r.la:null,r.W),d.J){Rm(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Kv(p),qv(p)),r.g=d}else hy(r);0<n.l.length&&sy(n)}else"stop"!=a[0]&&"close"!=a[0]||ky(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?ky(n,7):iy(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}gv(4)}catch(a){}}function Qv(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Nd(e)||"string"===typeof e)qd(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Nd(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Nd(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Yv(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Yv)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Xv(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Jv(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Jv(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Jv(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Id=Ov.prototype).setTimeout=function(e){this.P=e},Id.gb=function(e){e=e.target;var t=this.L;t&&3==Zm(e)?t.l():this.Ia(e)},Id.Ia=function(e){try{if(e==this.g)e:{var t=Zm(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||sp||this.g&&(this.h.h||this.g.ga()||ey(this.g)))){this.I||4!=t||7==n||gv(8==n||0>=r?3:2),Kv(this);var i=this.g.ba();this.N=i;t:if(jv(this)){var a=ey(this.g);e="";var o=a.length,u=4==Zm(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Hv(this),Gv(this);var s="";break t}this.h.i=new Ad.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Gd(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,bv(12),Hv(this),Gv(this);break e}dv(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,$v(this,i)}this.U?(zv(this,t,s),sp&&this.i&&3==t&&(lv(this.V,this.W,"tick",this.fb),this.W.start())):(dv(this.j,this.m,s,null),$v(this,s)),4==t&&Hv(this),this.i&&!this.I&&(4==t?yy(this.l,this):(this.i=!1,qv(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,bv(12)):(this.o=0,bv(13)),Hv(this),Gv(this)}}}catch(t){}},Id.fb=function(){if(this.g){var e=Zm(this.g),t=this.g.ga();this.C<t.length&&(Kv(this),zv(this,e,t),this.i&&4!=e&&qv(this))}},Id.cancel=function(){this.I=!0,Hv(this)},Id.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(gv(3),bv(17)),Hv(this),this.o=2,Gv(this)):Wv(this,this.Y-e)},(Id=Yv.prototype).R=function(){Xv(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Id.T=function(){return Xv(this),this.g.concat()},Id.get=function(e,t){return Jv(this.h,e)?this.h[e]:t},Id.set=function(e,t){Jv(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Id.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Zv=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function em(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof em){this.g=void 0!==t?t:e.g,nm(this,e.j),this.s=e.s,rm(this,e.i),im(this,e.m),this.l=e.l,t=e.h;var n=new mm;n.i=t.i,t.g&&(n.g=new Yv(t.g),n.h=t.h),am(this,n),this.o=e.o}else e&&(n=String(e).match(Zv))?(this.g=!!t,nm(this,n[1]||"",!0),this.s=sm(n[2]||""),rm(this,n[3]||"",!0),im(this,n[4]),this.l=sm(n[5]||"",!0),am(this,n[6]||"",!0),this.o=sm(n[7]||"")):(this.g=!!t,this.h=new mm(null,this.g))}function tm(e){return new em(e)}function nm(e,t,n){e.j=n?sm(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function rm(e,t,n){e.i=n?sm(t,!0):t}function im(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function am(e,t,n){t instanceof mm?(e.h=t,function(e,t){t&&!e.j&&(ym(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(gm(this,t),bm(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=cm(t,pm)),e.h=new mm(t,e.g))}function om(e,t,n){e.h.set(t,n)}function um(e){return om(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function sm(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function cm(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,lm),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function lm(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}em.prototype.toString=function(){var e=[],t=this.j;t&&e.push(cm(t,fm,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(cm(t,fm,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(cm(n,"/"==n.charAt(0)?dm:hm,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",cm(n,vm)),e.join("")};var fm=/[#\/\?@]/g,hm=/[#\?:]/g,dm=/[#\?]/g,pm=/[#\?@]/g,vm=/#/g;function mm(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ym(e){e.g||(e.g=new Yv,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function gm(e,t){ym(e),t=wm(e,t),Jv(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Jv((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Xv(e)))}function km(e,t){return ym(e),t=wm(e,t),Jv(e.g.h,t)}function bm(e,t,n){gm(e,t),0<n.length&&(e.i=null,e.g.set(wm(e,t),Kd(n)),e.h+=n.length)}function wm(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Id=mm.prototype).add=function(e,t){ym(this),this.i=null,e=wm(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Id.forEach=function(e,t){ym(this),this.g.forEach((function(n,r){qd(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Id.T=function(){ym(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Id.R=function(e){ym(this);var t=[];if("string"===typeof e)km(this,e)&&(t=Wd(t,this.g.get(wm(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Wd(t,e[n])}return t},Id.set=function(e,t){return ym(this),this.i=null,km(this,e=wm(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Id.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Id.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var xm=ai((function e(t,n){ri(this,e),this.h=t,this.g=n}));function _m(e){this.l=e||Im,Ad.PerformanceNavigationTiming?e=0<(e=Ad.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Ad.g&&Ad.g.Ea&&Ad.g.Ea()&&Ad.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Sm,Im=10;function Em(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Tm(e){return e.h?1:e.g?e.g.size:0}function Cm(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Am(e,t){e.g?e.g.add(t):e.h=t}function Rm(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Nm(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=oi(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Kd(e.i)}function Pm(){}function Om(){this.g=new Pm}function Dm(e,t,n){var r=n||"";try{Qv(e,(function(e,n){var i=e;Pd(e)&&(i=Gp(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Lm(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Mm(e){this.l=e.$b||null,this.j=e.ib||!1}function Fm(e,t){qp.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Um,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}_m.prototype.cancel=function(){if(this.i=Nm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=oi(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Pm.prototype.stringify=function(e){return Ad.JSON.stringify(e,void 0)},Pm.prototype.parse=function(e){return Ad.JSON.parse(e,void 0)},Vd(Mm,Iv),Mm.prototype.g=function(){return new Fm(this.l,this.j)},Mm.prototype.i=(Sm={},function(){return Sm}),Vd(Fm,qp);var Um=0;function Vm(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function jm(e){e.readyState=4,e.l=null,e.j=null,e.A=null,zm(e)}function zm(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Id=Fm.prototype).open=function(e,t){if(this.readyState!=Um)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,zm(this)},Id.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Ad).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Id.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,jm(this)),this.readyState=Um},Id.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,zm(this)),this.g&&(this.readyState=3,zm(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Ad.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Vm(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Id.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?jm(this):zm(this),3==this.readyState&&Vm(this)}},Id.Ua=function(e){this.g&&(this.response=this.responseText=e,jm(this))},Id.Ta=function(e){this.g&&(this.response=e,jm(this))},Id.ha=function(){this.g&&jm(this)},Id.setRequestHeader=function(e,t){this.v.append(e,t)},Id.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Id.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Fm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Bm=Ad.JSON.parse;function qm(e){qp.call(this),this.headers=new Yv,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Wm,this.K=this.L=!1}Vd(qm,qp);var Wm="",Km=/^https?$/i,Gm=["POST","PUT"];function Hm(e){return"content-type"==e.toLowerCase()}function $m(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Qm(e),Xm(e)}function Qm(e){e.D||(e.D=!0,Wp(e,"complete"),Wp(e,"error"))}function Ym(e){if(e.h&&"undefined"!=typeof Cd&&(!e.C[1]||4!=Zm(e)||2!=e.ba()))if(e.v&&4==Zm(e))av(e.Fa,0,e);else if(Wp(e,"readystatechange"),4==Zm(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Zv)[1]||null;if(!a&&Ad.self&&Ad.self.location){var o=Ad.self.location.protocol;a=o.substr(0,o.length-1)}i=!Km.test(a?a.toLowerCase():"")}t=i}if(t)Wp(e,"complete"),Wp(e,"success");else{e.m=6;try{var u=2<Zm(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",Qm(e)}}finally{Xm(e)}}}function Xm(e,t){if(e.g){Jm(e);var n=e.g,r=e.C[0]?Rd:null;e.g=null,e.C=null,t||Wp(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Jm(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Ad.clearTimeout(e.A),e.A=null)}function Zm(e){return e.g?e.g.readyState:0}function ey(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Wm:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function ty(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Zd(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):om(e,t,n))}function ny(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function ry(e){this.za=0,this.l=[],this.h=new hv,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ny("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ny("baseRetryDelayMs",5e3,e),this.$a=ny("retryDelaySeedMs",1e4,e),this.Ya=ny("forwardChannelMaxRetries",2,e),this.ra=ny("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new _m(e&&e.concurrentRequestLimit),this.Ca=new Om,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function iy(e){if(oy(e),3==e.G){var t=e.V++,n=tm(e.F);om(n,"SID",e.J),om(n,"RID",t),om(n,"TYPE","terminate"),ly(e,n),(t=new Ov(e,e.h,t,void 0)).K=2,t.v=um(tm(n)),n=!1,Ad.navigator&&Ad.navigator.sendBeacon&&(n=Ad.navigator.sendBeacon(t.v.toString(),"")),!n&&Ad.Image&&((new Image).src=t.v,n=!0),n||(t.g=xy(t.l,null),t.g.ea(t.v)),t.F=Date.now(),qv(t)}by(e)}function ay(e){e.g&&(py(e),e.g.cancel(),e.g=null)}function oy(e){ay(e),e.u&&(Ad.clearTimeout(e.u),e.u=null),my(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Ad.clearTimeout(e.m),e.m=null)}function uy(e,t){e.l.push(new xm(e.Za++,t)),3==e.G&&sy(e)}function sy(e){Em(e.i)||e.m||(e.m=!0,Zp(e.Ha,e),e.C=0)}function cy(e,t){var n;n=t?t.m:e.V++;var r=tm(e.F);om(r,"SID",e.J),om(r,"RID",n),om(r,"AID",e.U),ly(e,r),e.o&&e.s&&ty(r,e.o,e.s),n=new Ov(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=fy(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Am(e.i,n),Uv(n,r,t)}function ly(e,t){e.j&&Qv({},(function(e,n){om(t,n,e)}))}function fy(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Fd(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{Dm(l,o,"req"+c+"_")}catch(Qy){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function hy(e){e.g||e.u||(e.Y=1,Zp(e.Ga,e),e.A=0)}function dy(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=xv(Fd(e.Ga,e),gy(e,e.A)),e.A++,!0)}function py(e){null!=e.B&&(Ad.clearTimeout(e.B),e.B=null)}function vy(e){e.g=new Ov(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=tm(e.oa);om(t,"RID","rpc"),om(t,"SID",e.J),om(t,"CI",e.N?"0":"1"),om(t,"AID",e.U),ly(e,t),om(t,"TYPE","xmlhttp"),e.o&&e.s&&ty(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=um(tm(t)),n.s=null,n.U=!0,Vv(n,e)}function my(e){null!=e.v&&(Ad.clearTimeout(e.v),e.v=null)}function yy(e,t){var n=null;if(e.g==t){my(e),py(e),e.g=null;var r=2}else{if(!Cm(e.i,t))return;n=t.D,Rm(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Wp(r=mv(),new wv(r,n,t,i)),sy(e)}else hy(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Tm(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=xv(Fd(e.Ha,e,t),gy(e,e.C)),e.C++,!0))}(e,t)||2==r&&dy(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ky(e,5);break;case 4:ky(e,10);break;case 3:ky(e,6);break;default:ky(e,2)}}function gy(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function ky(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Fd(e.jb,e);n||(n=new em("//www.google.com/images/cleardot.gif"),Ad.location&&"http"==Ad.location.protocol||nm(n,"https"),um(n)),function(e,t){var n=new hv;if(Ad.Image){var r=new Image;r.onload=Ud(Lm,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Ud(Lm,n,r,"TestLoadImage: error",!1,t),r.onabort=Ud(Lm,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Ud(Lm,n,r,"TestLoadImage: timeout",!1,t),Ad.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else bv(2);e.G=0,e.j&&e.j.va(t),by(e),oy(e)}function by(e){e.G=0,e.I=-1,e.j&&(0==Nm(e.i).length&&0==e.l.length||(e.i.i.length=0,Kd(e.l),e.l.length=0),e.j.ua())}function wy(e,t,n){var r=function(e){return e instanceof em?tm(e):new em(e,void 0)}(n);if(""!=r.i)t&&rm(r,t+"."+r.i),im(r,r.m);else{var i=Ad.location;r=function(e,t,n,r){var i=new em(null,void 0);return e&&nm(i,e),t&&rm(i,t),n&&im(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Zd(e.aa,(function(e,t){om(r,t,e)})),t=e.D,n=e.sa,t&&n&&om(r,t,n),om(r,"VER",e.ma),ly(e,r),r}function xy(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new qm(new Mm({ib:!0})):new qm(e.qa)).L=e.H,t}function _y(){}function Sy(){if(op&&!(10<=Number(kp)))throw Error("Environmental error: no available transport.")}function Iy(e,t){qp.call(this),this.g=new ry(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Gd(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Gd(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Cy(this)}function Ey(e){Rv.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Ty(){Nv.call(this),this.status=1}function Cy(e){this.g=e}(Id=qm.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Cv.g(),this.C=this.u?Ev(this.u):Ev(Cv),this.g.onreadystatechange=Fd(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void $m(this,a)}e=n||"";var i=new Yv(this.headers);r&&Qv(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Hm,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Ad.FormData&&e instanceof Ad.FormData,!(0<=Bd(Gm,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Jm(this),0<this.B&&((this.K=function(e){return op&&yp()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Fd(this.pa,this)):this.A=av(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){$m(this,a)}},Id.pa=function(){"undefined"!=typeof Cd&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Wp(this,"timeout"),this.abort(8))},Id.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Wp(this,"complete"),Wp(this,"abort"),Xm(this))},Id.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Xm(this,!0)),qm.Z.M.call(this)},Id.Fa=function(){this.s||(this.F||this.v||this.l?Ym(this):this.cb())},Id.cb=function(){Ym(this)},Id.ba=function(){try{return 2<Zm(this)?this.g.status:-1}catch(Sm){return-1}},Id.ga=function(){try{return this.g?this.g.responseText:""}catch(Sm){return""}},Id.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Bm(t)}},Id.Da=function(){return this.m},Id.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Id=ry.prototype).ma=8,Id.G=1,Id.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Id.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Ov(this,this.h,e,void 0),n=this.s;if(this.P&&(n?np(n=ep(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=fy(this,t,r),om(i=tm(this.F),"RID",e),om(i,"CVER",22),this.D&&om(i,"X-HTTP-Session-Id",this.D),ly(this,i),this.o&&n&&ty(i,this.o,n),Am(this.i,t),this.Ra&&om(i,"TYPE","init"),this.ja?(om(i,"$req",r),om(i,"SID","null"),t.$=!0,Uv(t,i,null)):Uv(t,i,r),this.G=2}}else 3==this.G&&(e?cy(this,e):0==this.l.length||Em(this.i)||cy(this))},Id.Ga=function(){if(this.u=null,vy(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=xv(Fd(this.bb,this),e)}},Id.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,bv(10),ay(this),vy(this))},Id.ab=function(){null!=this.v&&(this.v=null,ay(this),dy(this),bv(19))},Id.jb=function(e){e?(this.h.info("Successfully pinged google.com"),bv(2)):(this.h.info("Failed to ping google.com"),bv(1))},(Id=_y.prototype).xa=function(){},Id.wa=function(){},Id.va=function(){},Id.ua=function(){},Id.Oa=function(){},Sy.prototype.g=function(e,t){return new Iy(e,t)},Vd(Iy,qp),Iy.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Zp(Fd(e.hb,e,t))),bv(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=wy(e,null,e.W),sy(e)},Iy.prototype.close=function(){iy(this.g)},Iy.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,uy(this.g,t)}else this.v?((t={}).__data__=Gp(e),uy(this.g,t)):uy(this.g,e)},Iy.prototype.M=function(){this.g.j=null,delete this.j,iy(this.g),delete this.g,Iy.Z.M.call(this)},Vd(Ey,Rv),Vd(Ty,Nv),Vd(Cy,_y),Cy.prototype.xa=function(){Wp(this.g,"a")},Cy.prototype.wa=function(e){Wp(this.g,new Ey(e))},Cy.prototype.va=function(e){Wp(this.g,new Ty(e))},Cy.prototype.ua=function(){Wp(this.g,"b")},Sy.prototype.createWebChannel=Sy.prototype.g,Iy.prototype.send=Iy.prototype.u,Iy.prototype.open=Iy.prototype.m,Iy.prototype.close=Iy.prototype.close,_v.NO_ERROR=0,_v.TIMEOUT=8,_v.HTTP_ERROR=6,Sv.COMPLETE="complete",Tv.EventType=Av,Av.OPEN="a",Av.CLOSE="b",Av.ERROR="c",Av.MESSAGE="d",qp.prototype.listen=qp.prototype.N,qm.prototype.listenOnce=qm.prototype.O,qm.prototype.getLastError=qm.prototype.La,qm.prototype.getLastErrorCode=qm.prototype.Da,qm.prototype.getStatus=qm.prototype.ba,qm.prototype.getResponseJson=qm.prototype.Qa,qm.prototype.getResponseText=qm.prototype.ga,qm.prototype.send=qm.prototype.ea;var Ay=Td.createWebChannelTransport=function(){return new Sy},Ry=Td.getStatEventTarget=function(){return mv()},Ny=Td.ErrorCode=_v,Py=Td.EventType=Sv,Oy=Td.Event=pv,Dy=Td.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Ly=Td.FetchXmlHttpFactory=Mm,My=Td.WebChannel=Tv,Fy=Td.XhrIo=qm,Uy="@firebase/firestore",Vy=function(){function e(t){ri(this,e),this.uid=t}return ai(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Vy.UNAUTHENTICATED=new Vy(null),Vy.GOOGLE_CREDENTIALS=new Vy("google-credentials-uid"),Vy.FIRST_PARTY=new Vy("first-party-uid"),Vy.MOCK_USER=new Vy("mock-user");var jy="9.6.10",zy=new pa("@firebase/firestore");function By(){return zy.logLevel}function qy(e){if(zy.logLevel<=aa.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Gy);zy.debug.apply(zy,["Firestore (".concat(jy,"): ").concat(e)].concat(b(i)))}}function Wy(e){if(zy.logLevel<=aa.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Gy);zy.error.apply(zy,["Firestore (".concat(jy,"): ").concat(e)].concat(b(i)))}}function Ky(e){if(zy.logLevel<=aa.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Gy);zy.warn.apply(zy,["Firestore (".concat(jy,"): ").concat(e)].concat(b(i)))}}function Gy(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Hy(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(jy,") INTERNAL ASSERTION FAILED: ")+e;throw Wy(t),new Error(t)}function $y(e,t){e||Hy()}function Qy(e,t){return e}var Yy={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Xy=function(e){ci(n,e);var t=pi(n);function n(e,r){var i;return ri(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return ai(n)}(Oi),Jy=ai((function e(){var t=this;ri(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Zy=ai((function e(t,n){ri(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),eg=function(){function e(){ri(this,e)}return ai(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Vy.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),tg=function(){function e(t){ri(this,e),this.token=t,this.changeListener=null}return ai(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),ng=function(){function e(t){ri(this,e),this.t=t,this.currentUser=Vy.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return ai(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Jy;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Jy,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Zi(gi().mark((function e(){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){qy("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(qy("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Jy)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(qy("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?($y("string"==typeof n.accessToken),new Zy(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return $y(null===e||"string"==typeof e),new Vy(e)}}]),e}(),rg=ai((function e(t,n,r){ri(this,e),this.type="FirstParty",this.user=Vy.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),ig=function(){function e(t,n,r){ri(this,e),this.h=t,this.l=n,this.m=r}return ai(e,[{key:"getToken",value:function(){return Promise.resolve(new rg(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Vy.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),ag=ai((function e(t){ri(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),og=function(){function e(t){ri(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return ai(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&qy("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,qy("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){qy("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):qy("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?($y("string"==typeof t.token),e.p=t.token,new ag(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),ug=function(){function e(t,n){var r=this;ri(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return ai(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function sg(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}ug.A=-1;var cg=function(){function e(){ri(this,e)}return ai(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=sg(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function lg(e,t){return e<t?-1:e>t?1:0}function fg(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function hg(e){return e+"\0"}var dg=function(){function e(t,n){if(ri(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Xy(Yy.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Xy(Yy.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Xy(Yy.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Xy(Yy.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return ai(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?lg(this.nanoseconds,e.nanoseconds):lg(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),pg=function(){function e(t){ri(this,e),this.timestamp=t}return ai(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new dg(0,0))}},{key:"max",value:function(){return new e(new dg(253402300799,999999999))}}]),e}();function vg(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function mg(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function yg(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var gg=function(){function e(t,n,r){ri(this,e),void 0===n?n=0:n>t.length&&Hy(),void 0===r?r=t.length-n:r>t.length-n&&Hy(),this.segments=t,this.offset=n,this.len=r}return ai(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),kg=function(e){ci(n,e);var t=pi(n);function n(){return ri(this,n),t.apply(this,arguments)}return ai(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Xy(Yy.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,b(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(gg),bg=/^[_a-zA-Z][_a-zA-Z0-9]*$/,wg=function(e){ci(n,e);var t=pi(n);function n(){return ri(this,n),t.apply(this,arguments)}return ai(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return bg.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Xy(Yy.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Xy(Yy.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Xy(Yy.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Xy(Yy.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(gg),xg=function(){function e(t){ri(this,e),this.fields=t,t.sort(wg.comparator)}return ai(e,[{key:"covers",value:function(e){var t,n=oi(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return fg(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var _g=function(e){function t(e){ri(this,t),this.binaryString=e}return ai(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return lg(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();_g.EMPTY_BYTE_STRING=new _g("");var Sg=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ig(e){if($y(!!e),"string"==typeof e){var t=0,n=Sg.exec(e);if($y(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Eg(e.seconds),nanos:Eg(e.nanos)}}function Eg(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Tg(e){return"string"==typeof e?_g.fromBase64String(e):_g.fromUint8Array(e)}function Cg(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ag(e){var t=e.mapValue.fields.__previous_value__;return Cg(t)?Ag(t):t}function Rg(e){var t=Ig(e.mapValue.fields.__local_write_time__.timestampValue);return new dg(t.seconds,t.nanos)}var Ng=ai((function e(t,n,r,i,a,o,u,s){ri(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),Pg=function(){function e(t,n){ri(this,e),this.projectId=t,this.database=n||"(default)"}return ai(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Og(e){return null==e}function Dg(e){return 0===e&&1/e==-1/0}function Lg(e){return"number"==typeof e&&Number.isInteger(e)&&!Dg(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Mg=function(){function e(t){ri(this,e),this.path=t}return ai(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===kg.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(kg.fromString(t))}},{key:"fromName",value:function(t){return new e(kg.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(kg.emptyPath())}},{key:"comparator",value:function(e,t){return kg.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new kg(t.slice()))}}]),e}(),Fg={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ug={nullValue:"NULL_VALUE"};function Vg(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Cg(e)?4:Zg(e)?9:10:Hy()}function jg(e,t){if(e===t)return!0;var n=Vg(e);if(n!==Vg(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Rg(e).isEqual(Rg(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Ig(e.timestampValue),r=Ig(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Tg(e.bytesValue).isEqual(Tg(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Eg(e.geoPointValue.latitude)===Eg(t.geoPointValue.latitude)&&Eg(e.geoPointValue.longitude)===Eg(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Eg(e.integerValue)===Eg(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Eg(e.doubleValue),r=Eg(t.doubleValue);return n===r?Dg(n)===Dg(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return fg(e.arrayValue.values||[],t.arrayValue.values||[],jg);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(vg(n)!==vg(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!jg(n[i],r[i])))return!1;return!0}(e,t);default:return Hy()}}function zg(e,t){return void 0!==(e.values||[]).find((function(e){return jg(e,t)}))}function Bg(e,t){if(e===t)return 0;var n=Vg(e),r=Vg(t);if(n!==r)return lg(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return lg(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Eg(e.integerValue||e.doubleValue),r=Eg(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return qg(e.timestampValue,t.timestampValue);case 4:return qg(Rg(e),Rg(t));case 5:return lg(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Tg(e),r=Tg(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=lg(n[i],r[i]);if(0!==a)return a}return lg(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=lg(Eg(e.latitude),Eg(t.latitude));return 0!==n?n:lg(Eg(e.longitude),Eg(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Bg(n[i],r[i]);if(a)return a}return lg(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=lg(r[o],a[o]);if(0!==u)return u;var s=Bg(n[r[o]],i[a[o]]);if(0!==s)return s}return lg(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Hy()}}function qg(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return lg(e,t);var n=Ig(e),r=Ig(t),i=lg(n.seconds,r.seconds);return 0!==i?i:lg(n.nanos,r.nanos)}function Wg(e){return Kg(e)}function Kg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Ig(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Tg(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Mg.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=oi(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Kg(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=oi(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Kg(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Hy();var t,n}function Gg(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Hg(e){return!!e&&"integerValue"in e}function $g(e){return!!e&&"arrayValue"in e}function Qg(e){return!!e&&"nullValue"in e}function Yg(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Xg(e){return!!e&&"mapValue"in e}function Jg(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return mg(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Jg(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Jg(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Zg(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function ek(e,t){return void 0===e?t:void 0===t||Bg(e,t)>0?e:t}function tk(e,t){return void 0===e?t:void 0===t||Bg(e,t)<0?e:t}var nk=function(){function e(t){ri(this,e),this.value=t}return ai(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Xg(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jg(t)}},{key:"setAll",value:function(e){var t=this,n=wg.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Jg(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Xg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return jg(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Xg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){mg(t,(function(t,n){return e[t]=n}));var r,i=oi(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Jg(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function rk(e){var t=[];return mg(e.fields,(function(e,n){var r=new wg([e]);if(Xg(n)){var i=rk(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=oi(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new xg(t)}var ik=function(){function e(t,n,r,i,a,o){ri(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return ai(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=nk.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=nk.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,pg.min(),pg.min(),nk.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,pg.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,pg.min(),nk.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,pg.min(),nk.empty(),2)}}]),e}(),ak=ai((function e(t,n,r,i){ri(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function ok(e){return e.fields.find((function(e){return 2===e.kind}))}function uk(e){return e.fields.filter((function(e){return 2!==e.kind}))}ak.UNKNOWN_ID=-1;var sk=ai((function e(t,n){ri(this,e),this.fieldPath=t,this.kind=n})),ck=function(){function e(t,n){ri(this,e),this.sequenceNumber=t,this.offset=n}return ai(e,null,[{key:"empty",value:function(){return new e(0,hk.min())}}]),e}();function lk(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=pg.fromTimestamp(1e9===r?new dg(n+1,0):new dg(n,r));return new hk(i,Mg.empty(),t)}function fk(e){return new hk(e.readTime,e.key,-1)}var hk=function(){function e(t,n,r){ri(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return ai(e,null,[{key:"min",value:function(){return new e(pg.min(),Mg.empty(),-1)}},{key:"max",value:function(){return new e(pg.max(),Mg.empty(),-1)}}]),e}();function dk(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Mg.comparator(e.documentKey,t.documentKey))?n:lg(e.largestBatchId,t.largestBatchId)}var pk=ai((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;ri(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.P=null}));function vk(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new pk(e,t,n,r,i,a,o)}function mk(e){var t=Qy(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Wg(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Og(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Wg(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Wg(e)})).join(",")),t.P=n}return t.P}function yk(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Nk(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!jg(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ok(e.startAt,t.startAt)&&Ok(e.endAt,t.endAt)}function gk(e){return Mg.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function kk(e,t){return e.filters.filter((function(e){return e instanceof bk&&e.field.isEqual(t)}))}var bk=function(e){ci(n,e);var t=pi(n);function n(e,r,i){var a;return ri(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return ai(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Bg(t,this.value)):null!==t&&Vg(this.value)===Vg(t)&&this.v(Bg(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Hy()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new wk(e,t,r):"array-contains"===t?new Ik(e,r):"in"===t?new Ek(e,r):"not-in"===t?new Tk(e,r):"array-contains-any"===t?new Ck(e,r):new n(e,t,r)}},{key:"V",value:function(e,t,n){return"in"===t?new xk(e,n):new _k(e,n)}}]),n}(function(){return ai((function e(){ri(this,e)}))}()),wk=function(e){ci(n,e);var t=pi(n);function n(e,r,i){var a;return ri(this,n),(a=t.call(this,e,r,i)).key=Mg.fromName(i.referenceValue),a}return ai(n,[{key:"matches",value:function(e){var t=Mg.comparator(e.key,this.key);return this.v(t)}}]),n}(bk),xk=function(e){ci(n,e);var t=pi(n);function n(e,r){var i;return ri(this,n),(i=t.call(this,e,"in",r)).keys=Sk("in",r),i}return ai(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(bk),_k=function(e){ci(n,e);var t=pi(n);function n(e,r){var i;return ri(this,n),(i=t.call(this,e,"not-in",r)).keys=Sk("not-in",r),i}return ai(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(bk);function Sk(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Mg.fromName(e.referenceValue)}))}var Ik=function(e){ci(n,e);var t=pi(n);function n(e,r){return ri(this,n),t.call(this,e,"array-contains",r)}return ai(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return $g(t)&&zg(t.arrayValue,this.value)}}]),n}(bk),Ek=function(e){ci(n,e);var t=pi(n);function n(e,r){return ri(this,n),t.call(this,e,"in",r)}return ai(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&zg(this.value.arrayValue,t)}}]),n}(bk),Tk=function(e){ci(n,e);var t=pi(n);function n(e,r){return ri(this,n),t.call(this,e,"not-in",r)}return ai(n,[{key:"matches",value:function(e){if(zg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!zg(this.value.arrayValue,t)}}]),n}(bk),Ck=function(e){ci(n,e);var t=pi(n);function n(e,r){return ri(this,n),t.call(this,e,"array-contains-any",r)}return ai(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!$g(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return zg(t.value.arrayValue,e)}))}}]),n}(bk),Ak=ai((function e(t,n){ri(this,e),this.position=t,this.inclusive=n})),Rk=ai((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";ri(this,e),this.field=t,this.dir=n}));function Nk(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Pk(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Mg.comparator(Mg.fromName(o.referenceValue),n.key):Bg(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Ok(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!jg(e.position[n],t.position[n]))return!1;return!0}var Dk=ai((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;ri(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.D=null,this.C=null,this.startAt,this.endAt}));function Lk(e,t,n,r,i,a,o,u){return new Dk(e,t,n,r,i,a,o,u)}function Mk(e){return new Dk(e)}function Fk(e){return!Og(e.limit)&&"F"===e.limitType}function Uk(e){return!Og(e.limit)&&"L"===e.limitType}function Vk(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function jk(e){var t,n=oi(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function zk(e){return null!==e.collectionGroup}function Bk(e){var t=Qy(e);if(null===t.D){t.D=[];var n=jk(t),r=Vk(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new Rk(n)),t.D.push(new Rk(wg.keyField(),"asc"));else{var i,a=!1,o=oi(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.D.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new Rk(wg.keyField(),s))}}}return t.D}function qk(e){var t=Qy(e);if(!t.C)if("F"===t.limitType)t.C=vk(t.path,t.collectionGroup,Bk(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=oi(Bk(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Rk(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new Ak(t.endAt.position,!t.endAt.inclusive):null,s=t.startAt?new Ak(t.startAt.position,!t.startAt.inclusive):null;t.C=vk(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.C}function Wk(e,t,n){return new Dk(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Kk(e,t){return yk(qk(e),qk(t))&&e.limitType===t.limitType}function Gk(e){return"".concat(mk(qk(e)),"|lt:").concat(e.limitType)}function Hk(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Wg(t.value));var t})).join(", "),"]")),Og(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Wg(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Wg(e)})).join(",")),"Target(".concat(t,")")}(qk(e)),"; limitType=").concat(e.limitType,")")}function $k(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Mg.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=oi(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=oi(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Pk(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Bk(e),t))&&!(e.endAt&&!function(e,t,n){var r=Pk(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Bk(e),t))}(e,t)}function Qk(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Yk(e){return function(t,n){var r,i=!1,a=oi(Bk(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Xk(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Xk(e,t,n){var r=e.field.isKeyField()?Mg.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Bg(r,i):Hy()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Hy()}}function Jk(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dg(t)?"-0":t}}function Zk(e){return{integerValue:""+e}}function eb(e,t){return Lg(t)?Zk(t):Jk(e,t)}var tb=ai((function e(){ri(this,e),this._=void 0}));function nb(e,t,n){return e instanceof ab?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof ob?ub(e,t):e instanceof sb?cb(e,t):function(e,t){var n=ib(e,t),r=fb(n)+fb(e.k);return Hg(n)&&Hg(e.k)?Zk(r):Jk(e.M,r)}(e,t)}function rb(e,t,n){return e instanceof ob?ub(e,t):e instanceof sb?cb(e,t):n}function ib(e,t){return e instanceof lb?Hg(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var ab=function(e){ci(n,e);var t=pi(n);function n(){return ri(this,n),t.apply(this,arguments)}return ai(n)}(tb),ob=function(e){ci(n,e);var t=pi(n);function n(e){var r;return ri(this,n),(r=t.call(this)).elements=e,r}return ai(n)}(tb);function ub(e,t){var n,r=hb(t),i=oi(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return jg(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var sb=function(e){ci(n,e);var t=pi(n);function n(e){var r;return ri(this,n),(r=t.call(this)).elements=e,r}return ai(n)}(tb);function cb(e,t){var n,r=hb(t),i=oi(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!jg(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var lb=function(e){ci(n,e);var t=pi(n);function n(e,r){var i;return ri(this,n),(i=t.call(this)).M=e,i.k=r,i}return ai(n)}(tb);function fb(e){return Eg(e.integerValue||e.doubleValue)}function hb(e){return $g(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var db=ai((function e(t,n){ri(this,e),this.field=t,this.transform=n}));var pb=ai((function e(t,n){ri(this,e),this.version=t,this.transformResults=n})),vb=function(){function e(t,n){ri(this,e),this.updateTime=t,this.exists=n}return ai(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function mb(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var yb=ai((function e(){ri(this,e)}));function gb(e,t,n){e instanceof _b?function(e,t,n){var r=e.value.clone(),i=Eb(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Sb?function(e,t,n){if(mb(e.precondition,t)){var r=Eb(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ib(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function kb(e,t,n){e instanceof _b?function(e,t,n){if(mb(e.precondition,t)){var r=e.value.clone(),i=Tb(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(xb(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Sb?function(e,t,n){if(mb(e.precondition,t)){var r=Tb(e.fieldTransforms,n,t),i=t.data;i.setAll(Ib(e)),i.setAll(r),t.convertToFoundDocument(xb(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){mb(e.precondition,t)&&t.convertToNoDocument(pg.min())}(e,t)}function bb(e,t){var n,r=null,i=oi(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=ib(a.transform,o||null);null!=u&&(null==r&&(r=nk.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function wb(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&fg(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ob&&t instanceof ob||e instanceof sb&&t instanceof sb?fg(e.elements,t.elements,jg):e instanceof lb&&t instanceof lb?jg(e.k,t.k):e instanceof ab&&t instanceof ab}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function xb(e){return e.isFoundDocument()?e.version:pg.min()}var _b=function(e){ci(n,e);var t=pi(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return ri(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return ai(n)}(yb),Sb=function(e){ci(n,e);var t=pi(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return ri(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return ai(n)}(yb);function Ib(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Eb(e,t,n){var r=new Map;$y(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,rb(o,u,n[i]))}return r}function Tb(e,t,n){var r,i=new Map,a=oi(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,nb(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Cb,Ab,Rb=function(e){ci(n,e);var t=pi(n);function n(e,r){var i;return ri(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return ai(n)}(yb),Nb=function(e){ci(n,e);var t=pi(n);function n(e,r){var i;return ri(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return ai(n)}(yb),Pb=ai((function e(t){ri(this,e),this.count=t}));function Ob(e){switch(e){default:return Hy();case Yy.CANCELLED:case Yy.UNKNOWN:case Yy.DEADLINE_EXCEEDED:case Yy.RESOURCE_EXHAUSTED:case Yy.INTERNAL:case Yy.UNAVAILABLE:case Yy.UNAUTHENTICATED:return!1;case Yy.INVALID_ARGUMENT:case Yy.NOT_FOUND:case Yy.ALREADY_EXISTS:case Yy.PERMISSION_DENIED:case Yy.FAILED_PRECONDITION:case Yy.ABORTED:case Yy.OUT_OF_RANGE:case Yy.UNIMPLEMENTED:case Yy.DATA_LOSS:return!0}}function Db(e){if(void 0===e)return Wy("GRPC error has no .code"),Yy.UNKNOWN;switch(e){case Cb.OK:return Yy.OK;case Cb.CANCELLED:return Yy.CANCELLED;case Cb.UNKNOWN:return Yy.UNKNOWN;case Cb.DEADLINE_EXCEEDED:return Yy.DEADLINE_EXCEEDED;case Cb.RESOURCE_EXHAUSTED:return Yy.RESOURCE_EXHAUSTED;case Cb.INTERNAL:return Yy.INTERNAL;case Cb.UNAVAILABLE:return Yy.UNAVAILABLE;case Cb.UNAUTHENTICATED:return Yy.UNAUTHENTICATED;case Cb.INVALID_ARGUMENT:return Yy.INVALID_ARGUMENT;case Cb.NOT_FOUND:return Yy.NOT_FOUND;case Cb.ALREADY_EXISTS:return Yy.ALREADY_EXISTS;case Cb.PERMISSION_DENIED:return Yy.PERMISSION_DENIED;case Cb.FAILED_PRECONDITION:return Yy.FAILED_PRECONDITION;case Cb.ABORTED:return Yy.ABORTED;case Cb.OUT_OF_RANGE:return Yy.OUT_OF_RANGE;case Cb.UNIMPLEMENTED:return Yy.UNIMPLEMENTED;case Cb.DATA_LOSS:return Yy.DATA_LOSS;default:return Hy()}}(Ab=Cb||(Cb={}))[Ab.OK=0]="OK",Ab[Ab.CANCELLED=1]="CANCELLED",Ab[Ab.UNKNOWN=2]="UNKNOWN",Ab[Ab.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ab[Ab.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ab[Ab.NOT_FOUND=5]="NOT_FOUND",Ab[Ab.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ab[Ab.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ab[Ab.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ab[Ab.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ab[Ab.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ab[Ab.ABORTED=10]="ABORTED",Ab[Ab.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ab[Ab.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ab[Ab.INTERNAL=13]="INTERNAL",Ab[Ab.UNAVAILABLE=14]="UNAVAILABLE",Ab[Ab.DATA_LOSS=15]="DATA_LOSS";var Lb=function(){function e(t,n){ri(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return ai(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=oi(n);try{for(i.s();!(r=i.n()).done;){var a=h(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){mg(this.inner,(function(t,n){var r,i=oi(n);try{for(i.s();!(r=i.n()).done;){var a=h(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return yg(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Mb=function(){function e(t,n){ri(this,e),this.comparator=t,this.root=n||Ub.EMPTY}return ai(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ub.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ub.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Fb(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Fb(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Fb(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Fb(this.root,e,this.comparator,!0)}}]),e}(),Fb=function(){function e(t,n,r,i){ri(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return ai(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Ub=function(){function e(t,n,r,i,a){ri(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return ai(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Hy();if(this.right.isRed())throw Hy();var e=this.left.check();if(e!==this.right.check())throw Hy();return e+(this.isRed()?0:1)}}]),e}();Ub.EMPTY=null,Ub.RED=!0,Ub.BLACK=!1,Ub.EMPTY=new(function(){function e(){ri(this,e),this.size=0}return ai(e,[{key:"key",get:function(){throw Hy()}},{key:"value",get:function(){throw Hy()}},{key:"color",get:function(){throw Hy()}},{key:"left",get:function(){throw Hy()}},{key:"right",get:function(){throw Hy()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Ub(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Vb=function(){function e(t){ri(this,e),this.comparator=t,this.data=new Mb(this.comparator)}return ai(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new jb(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new jb(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),jb=function(){function e(t){ri(this,e),this.iter=t}return ai(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function zb(e){return e.hasNext()?e.getNext():void 0}var Bb=new Mb(Mg.comparator);function qb(){return Bb}var Wb=new Mb(Mg.comparator);function Kb(){return Wb}function Gb(){return new Lb((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Hb=new Mb(Mg.comparator),$b=new Vb(Mg.comparator);function Qb(){for(var e=$b,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Yb=new Vb(lg);function Xb(){return Yb}var Jb=function(){function e(t,n,r,i,a){ri(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return ai(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Zb.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(pg.min(),r,Xb(),qb(),Qb())}}]),e}(),Zb=function(){function e(t,n,r,i,a){ri(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return ai(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(_g.EMPTY_BYTE_STRING,n,Qb(),Qb(),Qb())}}]),e}(),ew=ai((function e(t,n,r,i){ri(this,e),this.O=t,this.removedTargetIds=n,this.key=r,this.F=i})),tw=ai((function e(t,n){ri(this,e),this.targetId=t,this.$=n})),nw=ai((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_g.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;ri(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),rw=function(){function e(){ri(this,e),this.B=0,this.L=ow(),this.U=_g.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}return ai(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"K",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.G}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.G=!0,this.U=e)}},{key:"H",value:function(){var e=Qb(),t=Qb(),n=Qb();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Hy()}})),new Zb(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.G=!1,this.L=ow()}},{key:"Y",value:function(e,t){this.G=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.G=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.G=!0,this.q=!0}}]),e}(),iw=function(){function e(t){ri(this,e),this.nt=t,this.st=new Map,this.it=qb(),this.rt=aw(),this.ot=new Vb(lg)}return ai(e,[{key:"ut",value:function(e){var t,n=oi(e.O);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(u){n.e(u)}finally{n.f()}var i,a=oi(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.K||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.K||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:Hy()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.$.count,r=this.wt(t);if(r){var i=r.target;if(gk(i))if(0===n){var a=new Mg(i.path);this.ct(t,a,ik.newNoDocument(a,pg.min()))}else $y(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&gk(a.target)){var o=new Mg(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.ct(i,o,ik.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=Qb();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new Jb(e,n,this.ot,this.it,r);return this.it=qb(),this.rt=aw(),this.ot=new Vb(lg),i}},{key:"at",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new rw,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new Vb(lg),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||qy("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.K?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new rw),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function aw(){return new Mb(Mg.comparator)}function ow(){return new Mb(Mg.comparator)}var uw={asc:"ASCENDING",desc:"DESCENDING"},sw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cw=ai((function e(t,n){ri(this,e),this.databaseId=t,this.N=n}));function lw(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function fw(e,t){return e.N?t.toBase64():t.toUint8Array()}function hw(e,t){return lw(e,t.toTimestamp())}function dw(e){return $y(!!e),pg.fromTimestamp(function(e){var t=Ig(e);return new dg(t.seconds,t.nanos)}(e))}function pw(e,t){return function(e){return new kg(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function vw(e){var t=kg.fromString(e);return $y(Uw(t)),t}function mw(e,t){return pw(e.databaseId,t.path)}function yw(e,t){var n=vw(t);if(n.get(1)!==e.databaseId.projectId)throw new Xy(Yy.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Xy(Yy.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Mg(ww(n))}function gw(e,t){return pw(e.databaseId,t)}function kw(e){var t=vw(e);return 4===t.length?kg.emptyPath():ww(t)}function bw(e){return new kg(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ww(e){return $y(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function xw(e,t,n){return{name:mw(e,t),fields:n.value.mapValue.fields}}function _w(e,t,n){var r=yw(e,t.name),i=dw(t.updateTime),a=new nk({mapValue:{fields:t.fields}}),o=ik.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Sw(e,t){return"found"in t?function(e,t){$y(!!t.found),t.found.name,t.found.updateTime;var n=yw(e,t.found.name),r=dw(t.found.updateTime),i=new nk({mapValue:{fields:t.found.fields}});return ik.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){$y(!!t.missing),$y(!!t.readTime);var n=yw(e,t.missing),r=dw(t.readTime);return ik.newNoDocument(n,r)}(e,t):Hy()}function Iw(e,t){var n;if(t instanceof _b)n={update:xw(e,t.key,t.value)};else if(t instanceof Rb)n={delete:mw(e,t.key)};else if(t instanceof Sb)n={update:xw(e,t.key,t.data),updateMask:Fw(t.fieldMask)};else{if(!(t instanceof Nb))return Hy();n={verify:mw(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof ab)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ob)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof sb)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof lb)return{fieldPath:t.field.canonicalString(),increment:n.k};throw Hy()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:hw(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Hy()}(e,t.precondition)),n}function Ew(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?vb.updateTime(dw(e.updateTime)):void 0!==e.exists?vb.exists(e.exists):vb.none()}(t.currentDocument):vb.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)$y("REQUEST_TIME"===t.setToServerValue),n=new ab;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new ob(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new sb(i)}else"increment"in t?n=new lb(e,t.increment):Hy();var a=wg.fromServerFormat(t.fieldPath);return new db(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=yw(e,t.update.name),a=new nk({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new xg(t.map((function(e){return wg.fromServerFormat(e)})))}(t.updateMask);return new Sb(i,a,o,n,r)}return new _b(i,a,n,r)}if(t.delete){var u=yw(e,t.delete);return new Rb(u,n)}if(t.verify){var s=yw(e,t.verify);return new Nb(s,n)}return Hy()}function Tw(e,t){return{documents:[gw(e,t.path)]}}function Cw(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=gw(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=gw(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Yg(e.value))return{unaryFilter:{field:Ow(e.field),op:"IS_NAN"}};if(Qg(e.value))return{unaryFilter:{field:Ow(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Yg(e.value))return{unaryFilter:{field:Ow(e.field),op:"IS_NOT_NAN"}};if(Qg(e.value))return{unaryFilter:{field:Ow(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ow(e.field),op:Pw(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Ow(e.field),direction:Nw(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.N||Og(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Aw(e){var t=kw(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){$y(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Rw(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Rk(Dw(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Og(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Ak(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Ak(n,t)}(n.endAt)),Lk(t,i,u,o,s,"F",c,l)}function Rw(e){return e?void 0!==e.unaryFilter?[Mw(e)]:void 0!==e.fieldFilter?[Lw(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Rw(e)})).reduce((function(e,t){return e.concat(t)})):Hy():[]}function Nw(e){return uw[e]}function Pw(e){return sw[e]}function Ow(e){return{fieldPath:e.canonicalString()}}function Dw(e){return wg.fromServerFormat(e.fieldPath)}function Lw(e){return bk.create(Dw(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Hy()}}(e.fieldFilter.op),e.fieldFilter.value)}function Mw(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Dw(e.unaryFilter.field);return bk.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Dw(e.unaryFilter.field);return bk.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Dw(e.unaryFilter.field);return bk.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Dw(e.unaryFilter.field);return bk.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Hy()}}function Fw(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Uw(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Vw(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=zw(t)),t=jw(e.get(n),t);return zw(t)}function jw(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function zw(e){return e+"\x01\x01"}function Bw(e){var t=e.length;if($y(t>=2),2===t)return $y("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),kg.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Hy(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Hy()}a=o+2}return new kg(r)}var qw=["userId","batchId"];function Ww(e,t){return[e,Vw(t)]}function Kw(e,t,n){return[e,Vw(t),n]}var Gw={},Hw=["prefixPath","collectionGroup","readTime","documentId"],$w=["prefixPath","collectionGroup","documentId"],Qw=["collectionGroup","readTime","prefixPath","documentId"],Yw=["canonicalId","targetId"],Xw=["targetId","path"],Jw=["path","targetId"],Zw=["collectionId","parent"],ex=["indexId","uid"],tx=["uid","sequenceNumber"],nx=["indexId","uid","arrayValue","directionalValue","documentKey"],rx=["indexId","uid","documentKey"],ix=["userId","collectionPath","documentId"],ax=["userId","collectionPath","largestBatchId"],ox=["userId","collectionGroup","largestBatchId"],ux=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),sx=[].concat(b(ux),["documentOverlays"]),cx=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],lx=[].concat(cx,["indexConfiguration","indexState","indexEntries"]),fx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",hx=function(){function e(){ri(this,e),this.onCommittedListeners=[]}return ai(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),dx=function(){function e(t){var n=this;ri(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return ai(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Hy(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=oi(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),px=function(){function e(t,n){var r=this;ri(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new Jy,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new yx(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=xx(e.target.error);r.At.reject(new yx(t,n))}}return ai(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(qy("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"bt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new kx(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new yx(n,t)}}}]),e}(),vx=function(){function e(t,n,r){ri(this,e),this.name=t,this.version=n,this.Pt=r,12.2===e.Vt(Ei())&&Wy("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return ai(e,[{key:"Nt",value:function(){var e=Zi(gi().mark((function e(t){var n=this;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return qy("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new yx(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Xy(Yy.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Xy(Yy.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new yx(t,n))},i.onupgradeneeded=function(e){qy("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Pt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){qy("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Mt&&(this.db.onversionchange=function(e){return n.Mt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ot",value:function(e){this.Mt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Zi(gi().mark((function e(t,n,r,i){var a,o,u,s,c=this;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(gi().mark((function e(){var n,o;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Nt(t);case 2:return c.db=e.sent,n=px.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.bt(),e})).catch((function(e){return n.abort(e),dx.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,qy("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return qy("SimpleDb","Removing database:",e),bx(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"vt",value:function(){if(!Pi())return!1;if(e.St())return!0;var t=Ei(),n=e.Vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/instagram",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Ct)}},{key:"xt",value:function(e,t){return e.store(t)}},{key:"Vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),mx=function(){function e(t){ri(this,e),this.Ft=t,this.$t=!1,this.Bt=null}return ai(e,[{key:"isDone",get:function(){return this.$t}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.Ft=e}},{key:"done",value:function(){this.$t=!0}},{key:"Ut",value:function(e){this.Bt=e}},{key:"delete",value:function(){return bx(this.Ft.delete())}}]),e}(),yx=function(e){ci(n,e);var t=pi(n);function n(e,r){var i;return ri(this,n),(i=t.call(this,Yy.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return ai(n)}(Xy);function gx(e){return"IndexedDbTransactionError"===e.name}var kx=function(){function e(t){ri(this,e),this.store=t}return ai(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(qy("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(qy("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),bx(n)}},{key:"add",value:function(e){return qy("SimpleDb","ADD",this.store.name,e,e),bx(this.store.add(e))}},{key:"get",value:function(e){var t=this;return bx(this.store.get(e)).next((function(n){return void 0===n&&(n=null),qy("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return qy("SimpleDb","DELETE",this.store.name,e),bx(this.store.delete(e))}},{key:"count",value:function(){return qy("SimpleDb","COUNT",this.store.name),bx(this.store.count())}},{key:"qt",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Gt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new dx((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Kt",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new dx((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Qt",value:function(e,t){qy("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Gt(r,(function(e,t,n){return n.delete()}))}},{key:"Wt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Gt(r,t)}},{key:"zt",value:function(e){var t=this.cursor({});return new dx((function(n,r){t.onerror=function(e){var t=xx(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Gt",value:function(e,t){var n=[];return new dx((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new mx(i),o=t(i.primaryKey,i.value,a);if(o instanceof dx){var u=o.catch((function(e){return a.done(),dx.reject(e)}));n.push(u)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return dx.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function bx(e){return new dx((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=xx(e.target.error);n(t)}}))}var wx=!1;function xx(e){var t=vx.Vt(Ei());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Xy("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return wx||(wx=!0,setTimeout((function(){throw r}),0)),r}}return e}var _x=function(e){ci(n,e);var t=pi(n);function n(e,r){var i;return ri(this,n),(i=t.call(this)).Ht=e,i.currentSequenceNumber=r,i}return ai(n)}(hx);function Sx(e,t){var n=Qy(e);return vx.xt(n.Ht,t)}var Ix=function(){function e(t,n,r,i){ri(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return ai(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&gb(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=oi(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&kb(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=oi(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&kb(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(pg.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Qb())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&fg(this.mutations,e.mutations,(function(e,t){return wb(e,t)}))&&fg(this.baseMutations,e.baseMutations,(function(e,t){return wb(e,t)}))}}]),e}(),Ex=function(){function e(t,n,r,i){ri(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return ai(e,null,[{key:"from",value:function(t,n,r){$y(t.mutations.length===r.length);for(var i=Hb,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Tx=function(){function e(t,n){ri(this,e),this.largestBatchId=t,this.mutation=n}return ai(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Cx=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:pg.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:pg.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:_g.EMPTY_BYTE_STRING;ri(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return ai(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Ax=ai((function e(t){ri(this,e),this.Jt=t}));function Rx(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Nx(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:mw(e,t.key),fields:t.data.value.mapValue.fields,updateTime:lw(e,t.version.toTimestamp())}}(e.Jt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Px(t.version)};else{if(!t.isUnknownDocument())return Hy();r.unknownDocument={path:n.path.toArray(),version:Px(t.version)}}return r}function Nx(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Px(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Ox(e){var t=new dg(e.seconds,e.nanoseconds);return pg.fromTimestamp(t)}function Dx(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Ew(e.Jt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Ew(e.Jt,t)})),u=dg.fromMillis(t.localWriteTimeMs);return new Ix(t.batchId,u,n,o)}function Lx(e){var t,n,r=Ox(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Ox(e.lastLimboFreeSnapshotVersion):pg.min();return void 0!==e.query.documents?($y(1===(n=e.query).documents.length),t=qk(Mk(kw(n.documents[0])))):t=function(e){return qk(Aw(e))}(e.query),new Cx(t,e.targetId,0,e.lastListenSequenceNumber,r,i,_g.fromBase64String(e.resumeToken))}function Mx(e,t){var n,r=Px(t.snapshotVersion),i=Px(t.lastLimboFreeSnapshotVersion);n=gk(t.target)?Tw(e.Jt,t.target):Cw(e.Jt,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:mk(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Fx(e){var t=Aw({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Wk(t,t.limit,"L"):t}function Ux(e,t){return new Tx(t.largestBatchId,Ew(e.Jt,t.overlayMutation))}function Vx(e,t){var n=t.path.lastSegment();return[e,Vw(t.path.popLast()),n]}var jx=function(){function e(){ri(this,e)}return ai(e,[{key:"getBundleMetadata",value:function(e,t){return zx(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Ox(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return zx(e).put({bundleId:(n=t).id,createTime:Px(dw(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Bx(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Fx(t.bundledQuery),readTime:Ox(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Bx(e).put(function(e){return{name:e.name,readTime:Px(dw(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function zx(e){return Sx(e,"bundles")}function Bx(e){return Sx(e,"namedQueries")}var qx=function(){function e(t,n){ri(this,e),this.M=t,this.userId=n}return ai(e,[{key:"getOverlay",value:function(e,t){var n=this;return Wx(e).get(Vx(this.userId,t)).next((function(e){return e?Ux(n.M,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Tx(t,a);i.push(r.Xt(e,o))})),dx.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Vw(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Wx(e).Qt("collectionPathOverlayIndex",i))})),dx.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Gb(),a=Vw(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Wx(e).qt("collectionPathOverlayIndex",o).next((function(e){var t,n=oi(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Ux(r.M,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Gb(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Wx(e).Wt({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=Ux(a.M,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Xt",value:function(e,t){return Wx(e).put(function(e,t,n){var r=h(Vx(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Iw(e.Jt,n.mutation)}}(this.M,this.userId,t))}}],[{key:"Yt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Wx(e){return Sx(e,"documentOverlays")}var Kx=function(){function e(){ri(this,e)}return ai(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Eg(e.integerValue));else if("doubleValue"in e){var n=Eg(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),Dg(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Tg(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?Zg(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):Hy()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.re(a,t),this.te(n[a],t)}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r,i=oi(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.te(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ae",value:function(e,t){var n=this;this.ne(t,37),Mg.fromName(e).path.forEach((function(e){n.ne(t,60),n.le(e,t)}))}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();function Gx(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Hx(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Gx(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Kx.fe=new Kx;var $x=function(){function e(){ri(this,e),this.buffer=new Uint8Array(1024),this.position=0}return ai(e,[{key:"de",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this._e(n.value),n=t.next();this.we()}},{key:"me",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.ge(n.value),n=t.next();this.ye()}},{key:"pe",value:function(e){var t,n=oi(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(r<"\ud800"||"\udbff"<r)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{var a=r.codePointAt(0);this._e(240|a>>>18),this._e(128|63&a>>>12),this._e(128|63&a>>>6),this._e(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.we()}},{key:"Ie",value:function(e){var t,n=oi(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{var a=r.codePointAt(0);this.ge(240|a>>>18),this.ge(128|63&a>>>12),this.ge(128|63&a>>>6),this.ge(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ye()}},{key:"Te",value:function(e){var t=this.Ee(e),n=Hx(t);this.Ae(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Re",value:function(e){var t=this.Ee(e),n=Hx(t);this.Ae(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"be",value:function(){this.Pe(255),this.Pe(255)}},{key:"Ve",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Se",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"_e",value:function(e){var t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}},{key:"ge",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"we",value:function(){this.Pe(0),this.Pe(1)}},{key:"ye",value:function(){this.ve(0),this.ve(1)}},{key:"Pe",value:function(e){this.Ae(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Ae(1),this.buffer[this.position++]=~e}},{key:"Ae",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Qx=function(){function e(t){ri(this,e),this.De=t}return ai(e,[{key:"ue",value:function(e){this.De.de(e)}},{key:"ie",value:function(e){this.De.pe(e)}},{key:"se",value:function(e){this.De.Te(e)}},{key:"ee",value:function(){this.De.be()}}]),e}(),Yx=function(){function e(t){ri(this,e),this.De=t}return ai(e,[{key:"ue",value:function(e){this.De.me(e)}},{key:"ie",value:function(e){this.De.Ie(e)}},{key:"se",value:function(e){this.De.Re(e)}},{key:"ee",value:function(){this.De.Ve()}}]),e}(),Xx=function(){function e(){ri(this,e),this.De=new $x,this.Ce=new Qx(this.De),this.xe=new Yx(this.De)}return ai(e,[{key:"seed",value:function(e){this.De.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.Ce:this.xe}},{key:"Se",value:function(){return this.De.Se()}},{key:"reset",value:function(){this.De.reset()}}]),e}(),Jx=function(){function e(t,n,r,i){ri(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return ai(e,[{key:"ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Zx(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=e_(e.arrayValue,t.arrayValue))?n:0!==(n=e_(e.directionalValue,t.directionalValue))?n:Mg.comparator(e.documentKey,t.documentKey)}function e_(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var t_=function(){function e(t){ri(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];var n,r=oi(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.S()?this.Fe=i:this.Oe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return ai(e,[{key:"$e",value:function(e){var t=ok(e);if(void 0!==t&&!this.Be(t))return!1;for(var n=uk(e),r=0,i=0;r<n.length&&this.Be(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Fe){var a=n[r];if(!this.Le(this.Fe,a)||!this.Ue(this.Me[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Me.length||!this.Ue(this.Me[i++],o))return!1}return!0}},{key:"Be",value:function(e){var t,n=oi(this.Oe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Le(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Le",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Ue",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),n_=function(){function e(){ri(this,e),this.qe=new r_}return ai(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.qe.add(t),dx.resolve()}},{key:"getCollectionParents",value:function(e,t){return dx.resolve(this.qe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return dx.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return dx.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return dx.resolve(null)}},{key:"getFieldIndex",value:function(e,t){return dx.resolve(null)}},{key:"getFieldIndexes",value:function(e,t){return dx.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return dx.resolve(null)}},{key:"updateCollectionGroup",value:function(e,t,n){return dx.resolve()}},{key:"updateIndexEntries",value:function(e,t){return dx.resolve()}}]),e}(),r_=function(){function e(){ri(this,e),this.index={}}return ai(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Vb(kg.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Vb(kg.comparator)).toArray()}}]),e}(),i_=new Uint8Array(0),a_=function(){function e(t){ri(this,e),this.user=t,this.Ge=new r_,this.Ke=new Lb((function(e){return mk(e)}),(function(e,t){return yk(e,t)})),this.uid=t.uid||""}return ai(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ge.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ge.add(t)}));var a={collectionId:r,parent:Vw(i)};return o_(e).put(a)}return dx.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[hg(t),""],!1,!0);return o_(e).qt(r).next((function(e){var r,i=oi(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Bw(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=s_(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=s_(e),r=c_(e),i=u_(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=u_(e),i=!0,a=new Map;return dx.forEach(this.Qe(t),(function(t){return n.getFieldIndex(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Qb();return dx.forEach(a,(function(i,a){var o;qy("IndexedDbIndexManager","Using index ".concat((o=i,"id=".concat(o.indexId,"|cg=").concat(o.collectionGroup,"|f=").concat(o.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(mk(t)));var u=function(e,t){var n=ok(t);if(void 0===n)return null;var r,i=oi(kk(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),s=function(e,t){var n,r=new Map,i=oi(uk(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=oi(kk(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r,i=[],a=!0,o=oi(uk(t));try{for(o.s();!(n=o.n()).done;){var u,s=n.value,c=void 0,l=!0,f=oi(kk(e,s.fieldPath));try{for(f.s();!(u=f.n()).done;){var h=u.value,d=void 0,p=!0;switch(h.op){case"<":case"<=":d="nullValue"in(r=h.value)?Ug:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?Gg(Pg.empty(),Mg.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:Hy();break;case"==":case"in":case">=":d=h.value;break;case">":d=h.value,p=!1;break;case"!=":case"not-in":d=Ug}ek(c,d)===d&&(c=d,l=p)}}catch(y){f.e(y)}finally{f.f()}if(null!==e.startAt)for(var v=0;v<e.orderBy.length;++v)if(e.orderBy[v].field.isEqual(s.fieldPath)){var m=e.startAt.position[v];ek(c,m)===m&&(c=m,l=e.startAt.inclusive);break}if(void 0===c)return null;i.push(c),a&&(a=l)}}catch(y){o.e(y)}finally{o.f()}return new Ak(i,a)}(a,i),l=function(e,t){var n,r,i=[],a=!0,o=oi(uk(t));try{for(o.s();!(n=o.n()).done;){var u,s=n.value,c=void 0,l=!0,f=oi(kk(e,s.fieldPath));try{for(f.s();!(u=f.n()).done;){var h=u.value,d=void 0,p=!0;switch(h.op){case">=":case">":d="nullValue"in(r=h.value)?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?Gg(Pg.empty(),Mg.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?Fg:Hy(),p=!1;break;case"==":case"in":case"<=":d=h.value;break;case"<":d=h.value,p=!1;break;case"!=":case"not-in":d=Fg}tk(c,d)===d&&(c=d,l=p)}}catch(y){f.e(y)}finally{f.f()}if(null!==e.endAt)for(var v=0;v<e.orderBy.length;++v)if(e.orderBy[v].field.isEqual(s.fieldPath)){var m=e.endAt.position[v];tk(c,m)===m&&(c=m,l=e.endAt.inclusive);break}if(void 0===c)return null;i.push(c),a&&(a=l)}}catch(y){o.e(y)}finally{o.f()}return new Ak(i,a)}(a,i),f=n.je(i,a,c),h=n.je(i,a,l),d=n.We(i,a,s),p=n.ze(i.indexId,u,f,!!c&&c.inclusive,h,!!l&&l.inclusive,d);return dx.forEach(p,(function(n){return r.Kt(n,t.limit).next((function(t){t.forEach((function(t){e=e.add(new Mg(Bw(t.documentKey)))}))}))}))})).next((function(){return e}))}return dx.resolve(null)}))}},{key:"Qe",value:function(e){var t=this.Ke.get(e);return t||(t=[e],this.Ke.set(e,t),t)}},{key:"ze",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(null!=n?n.length:1,null!=i?i.length:1),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.He(t[s/c]):i_,h=n?u.Je(e,f,n[s%c],r):u.Ye(e),d=i?u.Xe(e,f,i[s%c],a):u.Ye(e+1);l.push.apply(l,b(u.createRange(h,d,o.map((function(t){return u.Je(e,f,t,!0)})))))},h=0;h<s;++h)f(h);return l}},{key:"Je",value:function(e,t,n,r){var i=new Jx(e,Mg.empty(),t,n);return r?i:i.ke()}},{key:"Xe",value:function(e,t,n,r){var i=new Jx(e,Mg.empty(),t,n);return r?i.ke():i}},{key:"Ye",value:function(e){return new Jx(e,Mg.empty(),i_,i_)}},{key:"getFieldIndex",value:function(e,t){var n=new t_(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t=e.filter((function(e){return n.$e(e)}));return t.sort((function(e,t){return t.fields.length-e.fields.length})),t.length>0?t[0]:null}))}},{key:"Ze",value:function(e,t){var n,r=new Xx,i=oi(uk(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ne(a.kind);Kx.fe.Zt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Se()}},{key:"He",value:function(e){var t=new Xx;return Kx.fe.Zt(e,t.Ne(0)),t.Se()}},{key:"We",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Xx);var i,a=0,o=oi(uk(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=oi(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.tn(t,s.fieldPath)&&$g(c))r=this.en(r,s,c);else{var h=f.Ne(s.kind);Kx.fe.Zt(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.nn(r)}},{key:"je",value:function(e,t,n){return null==n?null:this.We(e,t,n.position)}},{key:"nn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Se();return t}},{key:"en",value:function(e,t,n){var r,i=b(e),a=[],o=oi(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=oi(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new Xx;f.seed(l.Se()),Kx.fe.Zt(s,f.Ne(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"tn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof bk&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=s_(e),i=c_(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next((function(e){var t=[];return dx.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new ck(t.sequenceNumber,new hk(Ox(t.readTime),new Mg(Bw(t.documentKey)),t.largestBatchId)):ck.empty(),r=e.fields.map((function(e){var t=h(e,2),n=t[0],r=t[1];return new sk(wg.fromServerFormat(n),r)}));return new ak(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:lg(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=s_(e),a=c_(e);return this.sn(e).next((function(e){return i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return dx.forEach(t,(function(t){return a.put(function(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Px(r.readTime),documentKey:Vw(r.documentKey.path),largestBatchId:r.largestBatchId}}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return dx.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?dx.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),dx.forEach(a,(function(r){return n.rn(e,t,r).next((function(t){var a=n.on(i,r);return t.isEqual(a)?dx.resolve():n.un(e,i,t,a)}))}))}))}))}},{key:"an",value:function(e,t,n){return u_(e).put({indexId:n.indexId,uid:this.uid,arrayValue:n.arrayValue,directionalValue:n.directionalValue,documentKey:Vw(t.key.path)})}},{key:"cn",value:function(e,t,n){return u_(e).delete([n.indexId,this.uid,n.arrayValue,n.directionalValue,Vw(t.key.path)])}},{key:"rn",value:function(e,t,n){var r=u_(e),i=new Vb(Zx);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,Vw(t.path)])},(function(e,r){i=i.add(new Jx(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"on",value:function(e,t){var n=new Vb(Zx),r=this.Ze(t,e);if(null==r)return n;var i=ok(t);if(null!=i){var a=e.data.field(i.fieldPath);if($g(a)){var o,u=oi(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new Jx(t.indexId,e.key,this.He(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new Jx(t.indexId,e.key,i_,r));return n}},{key:"un",value:function(e,t,n,r){var i=this;qy("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var a=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=zb(a),s=zb(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=zb(o)):l?(i(u),u=zb(a)):(u=zb(a),s=zb(o))}}(n,r,Zx,(function(n){a.push(i.an(e,t,n))}),(function(n){a.push(i.cn(e,t,n))})),dx.waitFor(a)}},{key:"sn",value:function(e){var t=1;return c_(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Zx(e,t)})).filter((function(e,t,n){return!t||0!==Zx(e,n[t-1])}));var r=[];r.push(e);var i,a=oi(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=Zx(o,e),s=Zx(o,t);if(0===u)r[0]=e.ke();else if(u>0&&s<0)r.push(o),r.push(o.ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,""],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,""]));return c}}]),e}();function o_(e){return Sx(e,"collectionParents")}function u_(e){return Sx(e,"indexEntries")}function s_(e){return Sx(e,"indexConfiguration")}function c_(e){return Sx(e,"indexState")}var l_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},f_=function(){function e(t,n,r){ri(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return ai(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function h_(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Wt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){$y(1===u)})));var c,l=[],f=oi(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Kw(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return dx.waitFor(a).next((function(){return l}))}function d_(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Hy();t=e.noDocument}return JSON.stringify(t).length}f_.DEFAULT_COLLECTION_PERCENTILE=10,f_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,f_.DEFAULT=new f_(41943040,f_.DEFAULT_COLLECTION_PERCENTILE,f_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),f_.DISABLED=new f_(-1,0,0);var p_=function(){function e(t,n,r,i){ri(this,e),this.userId=t,this.M=n,this.indexManager=r,this.referenceDelegate=i,this.hn={}}return ai(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return m_(e).Wt({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=y_(e),o=m_(e);return o.add({}).next((function(u){$y("number"==typeof u);var s,c=new Ix(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Iw(e.Jt,t)})),i=n.mutations.map((function(t){return Iw(e.Jt,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.M,i.userId,c),f=[],h=new Vb((function(e,t){return lg(e.canonicalString(),t.canonicalString())})),d=oi(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=Kw(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Gw))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.hn[u]=c.keys()})),dx.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return m_(e).get(t).next((function(e){return e?($y(e.userId===n.userId),Dx(n.M,e)):null}))}},{key:"ln",value:function(e,t){var n=this;return this.hn[t]?dx.resolve(this.hn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.hn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return m_(e).Wt({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&($y(t.batchId>=r),a=Dx(n.M,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return m_(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return m_(e).qt("userMutationsIndex",n).next((function(e){return e.map((function(e){return Dx(t.M,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Ww(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return y_(e).Wt({range:i},(function(r,i,o){var u=h(r,3),s=u[0],c=u[1],l=u[2],f=Bw(c);if(s===n.userId&&t.path.isEqual(f))return m_(e).get(l).next((function(e){if(!e)throw Hy();$y(e.userId===n.userId),a.push(Dx(n.M,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Vb(lg),i=[];return t.forEach((function(t){var a=Ww(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=y_(e).Wt({range:o},(function(e,i,a){var o=h(e,3),u=o[0],s=o[1],c=o[2],l=Bw(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),dx.waitFor(i).next((function(){return n.fn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Ww(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new Vb(lg);return y_(e).Wt({range:o},(function(e,t,a){var o=h(e,3),s=o[0],c=o[1],l=o[2],f=Bw(c);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.fn(e,u)}))}},{key:"fn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(m_(e).get(t).next((function(e){if(null===e)throw Hy();$y(e.userId===n.userId),r.push(Dx(n.M,e))})))})),dx.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return h_(e.Ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.dn(t.batchId)})),dx.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"dn",value:function(e){delete this.hn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return dx.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return y_(e).Wt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Bw(e[1]);i.push(a)}else r.done()})).next((function(){$y(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return v_(e,this.userId,t)}},{key:"_n",value:function(e){var t=this;return g_(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"Yt",value:function(t,n,r,i){return $y(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function v_(e,t,n){var r=Ww(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return y_(e).Wt({range:a,jt:!0},(function(e,n,r){var a=h(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function m_(e){return Sx(e,"mutations")}function y_(e){return Sx(e,"documentMutations")}function g_(e){return Sx(e,"mutationQueues")}var k_=function(){function e(t){ri(this,e),this.wn=t}return ai(e,[{key:"next",value:function(){return this.wn+=2,this.wn}}],[{key:"mn",value:function(){return new e(0)}},{key:"gn",value:function(){return new e(-1)}}]),e}(),b_=function(){function e(t,n){ri(this,e),this.referenceDelegate=t,this.M=n}return ai(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.yn(e).next((function(n){var r=new k_(n.highestTargetId);return n.highestTargetId=r.next(),t.pn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.yn(e).next((function(e){return pg.fromTimestamp(new dg(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.yn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.yn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.pn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.In(e,t).next((function(){return n.yn(e).next((function(r){return r.targetCount+=1,n.Tn(t,r),n.pn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.In(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return w_(e).delete(t.targetId)})).next((function(){return n.yn(e)})).next((function(t){return $y(t.targetCount>0),t.targetCount-=1,n.pn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return w_(e).Wt((function(o,u){var s=Lx(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return dx.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return w_(e).Wt((function(e,n){var r=Lx(n);t(r)}))}},{key:"yn",value:function(e){return x_(e).get("targetGlobalKey").next((function(e){return $y(null!==e),e}))}},{key:"pn",value:function(e,t){return x_(e).put("targetGlobalKey",t)}},{key:"In",value:function(e,t){return w_(e).put(Mx(this.M,t))}},{key:"Tn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.yn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=mk(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return w_(e).Wt({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Lx(n);yk(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=__(e);return t.forEach((function(t){var o=Vw(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),dx.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=__(e);return dx.forEach(t,(function(t){var a=Vw(t.path);return dx.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=__(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=__(e),i=Qb();return r.Wt({range:n,jt:!0},(function(e,t,n){var r=Bw(e[1]),a=new Mg(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Vw(t.path),r=IDBKeyRange.bound([n],[hg(n)],!1,!0),i=0;return __(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},(function(e,t,n){var r=h(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return w_(e).get(t).next((function(e){return e?Lx(e):null}))}}]),e}();function w_(e){return Sx(e,"targets")}function x_(e){return Sx(e,"targetGlobal")}function __(e){return Sx(e,"targetDocuments")}function S_(e){return I_.apply(this,arguments)}function I_(){return I_=Zi(gi().mark((function e(t){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Yy.FAILED_PRECONDITION&&t.message===fx){e.next=2;break}throw t;case 2:qy("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),I_.apply(this,arguments)}function E_(e,t){var n=h(e,2),r=n[0],i=n[1],a=h(t,2),o=a[0],u=a[1],s=lg(r,o);return 0===s?lg(i,u):s}var T_=function(){function e(t){ri(this,e),this.En=t,this.buffer=new Vb(E_),this.An=0}return ai(e,[{key:"Rn",value:function(){return++this.An}},{key:"bn",value:function(e){var t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();E_(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),C_=function(){function e(t,n){ri(this,e),this.garbageCollector=t,this.asyncQueue=n,this.Pn=!1,this.Vn=null}return ai(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}},{key:"stop",value:function(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}},{key:"started",get:function(){return null!==this.Vn}},{key:"vn",value:function(e){var t=this,n=this.Pn?3e5:6e4;qy("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,Zi(gi().mark((function n(){return gi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.Vn=null,t.Pn=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!gx(n.t0)){n.next=12;break}qy("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,S_(n.t0);case 14:return n.next=16,t.vn(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),A_=function(){function e(t,n){ri(this,e),this.Sn=t,this.params=n}return ai(e,[{key:"calculateTargetCount",value:function(e,t){return this.Sn.Dn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return dx.resolve(ug.A);var r=new T_(t);return this.Sn.forEachTarget(e,(function(e){return r.bn(e.sequenceNumber)})).next((function(){return n.Sn.Cn(e,(function(e){return r.bn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Sn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Sn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(qy("LruGarbageCollector","Garbage collection skipped; disabled"),dx.resolve(l_)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(qy("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),l_):n.xn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Sn.getCacheSize(e)}},{key:"xn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(qy("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),By()<=aa.DEBUG&&qy("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),dx.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),R_=function(){function e(t,n){ri(this,e),this.db=t,this.garbageCollector=function(e,t){return new A_(e,t)}(this,n)}return ai(e,[{key:"Dn",value:function(e){var t=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Nn",value:function(e){var t=0;return this.Cn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Cn",value:function(e,t){return this.kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return N_(e,n)}},{key:"removeReference",value:function(e,t,n){return N_(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return N_(e,t)}},{key:"Mn",value:function(e,t){return function(e,t){var n=!1;return g_(e).zt((function(r){return v_(e,r,t).next((function(e){return e&&(n=!0),dx.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.kn(e,(function(o,u){if(u<=t){var s=n.Mn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,pg.min()),__(e).delete([0,Vw(o.path)])}))}));i.push(s)}})).next((function(){return dx.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return N_(e,t)}},{key:"kn",value:function(e,t){var n,r=__(e),i=ug.A;return r.Wt({index:"documentTargetsIndex"},(function(e,r){var a=h(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==ug.A&&t(new Mg(Bw(n)),i),i=s,n=u):i=ug.A})).next((function(){i!==ug.A&&t(new Mg(Bw(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function N_(e,t){return __(e).put(function(e,t){return{targetId:0,path:Vw(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var P_=function(){function e(){ri(this,e),this.changes=new Lb((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return ai(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,ik.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?dx.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),O_=function(){function e(t){ri(this,e),this.M=t}return ai(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return M_(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return M_(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Nx(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.On(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=ik.newInvalidDocument(t);return M_(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(F_(t))},(function(e,i){r=n.Fn(t,i)})).next((function(){return r}))}},{key:"$n",value:function(e,t){var n=this,r={size:0,document:ik.newInvalidDocument(t)};return M_(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(F_(t))},(function(e,i){r={document:n.Fn(t,i),size:d_(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=qb();return this.Bn(e,t,(function(e,t){var i=n.Fn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Ln",value:function(e,t){var n=this,r=qb(),i=new Mb(Mg.comparator);return this.Bn(e,t,(function(e,t){var a=n.Fn(e,t);r=r.insert(e,a),i=i.insert(e,d_(t))})).next((function(){return{documents:r,Un:i}}))}},{key:"Bn",value:function(e,t,n){if(t.isEmpty())return dx.resolve();var r=new Vb(V_);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(F_(r.first()),F_(r.last())),a=r.getIterator(),o=a.getNext();return M_(e).Wt({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Mg.fromSegments([].concat(b(t.prefixPath),[t.collectionGroup,t.documentId]));o&&V_(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.Ut(F_(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),Nx(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return M_(e).qt(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=qb(),i=oi(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.Fn(Mg.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=qb(),o=U_(t,n),u=U_(t,hk.max());return M_(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.Fn(Mg.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new D_(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return L_(e).get("remoteDocumentGlobalKey").next((function(e){return $y(!!e),e}))}},{key:"On",value:function(e,t){return L_(e).put("remoteDocumentGlobalKey",t)}},{key:"Fn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=_w(e.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Mg.fromSegments(t.noDocument.path),i=Ox(t.noDocument.readTime);n=ik.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Hy();var a=Mg.fromSegments(t.unknownDocument.path),o=Ox(t.unknownDocument.version);n=ik.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new dg(e[0],e[1]);return pg.fromTimestamp(t)}(t.readTime)),n}(this.M,t);if(!n.isNoDocument()||!n.version.isEqual(pg.min()))return n}return ik.newInvalidDocument(e)}}]),e}(),D_=function(e){ci(n,e);var t=pi(n);function n(e,r){var i;return ri(this,n),(i=t.call(this)).qn=e,i.trackRemovals=r,i.Gn=new Lb((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return ai(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Vb((function(e,t){return lg(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Gn.get(a);if(n.push(t.qn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=Rx(t.qn.M,o);i=i.add(a.path.popLast());var c=d_(s);r+=c-u.size,n.push(t.qn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=Rx(t.qn.M,o.convertToNoDocument(pg.min()));n.push(t.qn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.qn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.qn.updateMetadata(e,r)),dx.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.qn.$n(e,t).next((function(e){return n.Gn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.qn.Ln(e,t).next((function(e){var t=e.documents;return e.Un.forEach((function(e,r){n.Gn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(P_);function L_(e){return Sx(e,"remoteDocumentGlobal")}function M_(e){return Sx(e,"remoteDocumentsV14")}function F_(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function U_(e,t){var n=t.documentKey.path.toArray();return[e,Nx(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function V_(e,t){var n=e.path.length-t.path.length;return 0!==n?n:Mg.comparator(e,t)}var j_=function(){function e(t){ri(this,e),this.M=t}return ai(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new px("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",qw,{unique:!0}),e.createObjectStore("documentMutations")}(e),z_(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=dx.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),z_(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:pg.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").qt().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",qw,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return dx.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Kn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Qn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.jn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Wn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.zn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:ix});t.createIndex("collectionPathOverlayIndex",ax,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",ox,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Hw});t.createIndex("documentKeyIndex",$w),t.createIndex("collectionGroupIndex",Qw)}(e)})).next((function(){return i.Hn(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){!function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:ex}).createIndex("sequenceNumberIndex",tx,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:nx}).createIndex("documentKeyIndex",rx,{unique:!1})}(e)}))),o}},{key:"Qn",value:function(e){var t=0;return e.store("remoteDocuments").Wt((function(e,n){t+=d_(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Kn",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.qt().next((function(n){return dx.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",i).next((function(r){return dx.forEach(r,(function(r){$y(r.userId===n.userId);var i=Dx(t.M,r);return h_(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"jn",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Wt((function(n,i){var a=new kg(n),o=function(e){return[0,Vw(e)]}(a);r.push(t.get(o).next((function(n){return n?dx.resolve():function(n){return t.put({targetId:0,path:Vw(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return dx.waitFor(r)}))}))}},{key:"Wn",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Zw});var n=t.store("collectionParents"),r=new r_,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Vw(i)})}};return t.store("remoteDocuments").Wt({jt:!0},(function(e,t){var n=new kg(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Wt({jt:!0},(function(e,t){var n=h(e,3),r=(n[0],n[1]),a=(n[2],Bw(r));return i(a.popLast())}))}))}},{key:"zn",value:function(e){var t=this,n=e.store("targets");return n.Wt((function(e,r){var i=Lx(r),a=Mx(t.M,i);return n.put(a)}))}},{key:"Hn",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Wt((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Mg(kg.fromString(i.document.name).popFirst(5)):i.noDocument?Mg.fromSegments(i.noDocument.path):i.unknownDocument?Mg.fromSegments(i.unknownDocument.path):Hy()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return dx.waitFor(r)}))}}]),e}();function z_(e){e.createObjectStore("targetDocuments",{keyPath:Xw}).createIndex("documentTargetsIndex",Jw,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Yw,{unique:!0}),e.createObjectStore("targetGlobal")}var B_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",q_=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:13;if(ri(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Jn=a,this.window=o,this.document=u,this.Yn=c,this.Xn=l,this.Zn=f,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=function(e){return Promise.resolve()},!e.vt())throw new Xy(Yy.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new R_(this,i),this.cs=n+"main",this.M=new Ax(s),this.hs=new vx(this.cs,this.Zn,new j_(this.M)),this.ls=new b_(this.referenceDelegate,this.M),this.fs=function(e){return new O_(e)}(this.M),this.ds=new jx,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===l&&Wy("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return ai(e,[{key:"start",value:function(){var e=this;return this.ws().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Xy(Yy.FAILED_PRECONDITION,B_);return e.gs(),e.ys(),e.ps(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.ls.getHighestSequenceNumber(t)}))})).then((function(t){e.ts=new ug(t,e.Yn)})).then((function(){e.es=!0})).catch((function(t){return e.hs&&e.hs.close(),Promise.reject(t)}))}},{key:"Is",value:function(e){var t=this;return this.us=function(){var n=Zi(gi().mark((function n(r){return gi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.hs.Ot(function(){var t=Zi(gi().mark((function t(n){return gi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Jn.enqueueAndForget(Zi(gi().mark((function e(){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ws();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ws",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return K_(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Ts(t).next((function(t){t||(e.isPrimary=!1,e.Jn.enqueueRetryable((function(){return e.us(!1)})))}))})).next((function(){return e.Es(t)})).next((function(n){return e.isPrimary&&!n?e.As(t).next((function(){return!1})):!!n&&e.Rs(t).next((function(){return!0}))}))})).catch((function(t){if(gx(t))return qy("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return qy("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Jn.enqueueRetryable((function(){return e.us(t)})),e.isPrimary=t}))}},{key:"Ts",value:function(e){var t=this;return W_(e).get("owner").next((function(e){return dx.resolve(t.bs(e))}))}},{key:"Ps",value:function(e){return K_(e).delete(this.clientId)}},{key:"Vs",value:function(){var e=Zi(gi().mark((function e(){var t,n,r,i,a=this;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.vs(this.os,18e5)){e.next=6;break}return this.os=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Sx(e,"clientMetadata");return t.qt().next((function(e){var n=a.Ss(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return dx.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this._s){n=oi(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this._s.removeItem(this.Ds(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ps",value:function(){var e=this;this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ws().then((function(){return e.Vs()})).then((function(){return e.ps()}))}))}},{key:"bs",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Es",value:function(e){var t=this;return this.Xn?dx.resolve(!0):W_(e).get("owner").next((function(n){if(null!==n&&t.vs(n.leaseTimestampMs,5e3)&&!t.Cs(n.ownerId)){if(t.bs(n)&&t.networkEnabled)return!0;if(!t.bs(n)){if(!n.allowTabSynchronization)throw new Xy(Yy.FAILED_PRECONDITION,B_);return!1}}return!(!t.networkEnabled||!t.inForeground)||K_(e).qt().next((function(e){return void 0===t.Ss(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&qy("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Zi(gi().mark((function e(){var t=this;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.es=!1,this.xs(),this.rs&&(this.rs.cancel(),this.rs=null),this.Ns(),this.ks(),e.next=7,this.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new _x(e,ug.A);return t.As(n).next((function(){return t.Ps(n)}))}));case 7:this.hs.close(),this.Ms();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ss",value:function(e,t){var n=this;return e.filter((function(e){return n.vs(e.updateTimeMs,t)&&!n.Cs(e.clientId)}))}},{key:"Os",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return K_(t).qt().next((function(t){return e.Ss(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.es}},{key:"getMutationQueue",value:function(e,t){return p_.Yt(e,this.M,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.ls}},{key:"getRemoteDocumentCache",value:function(){return this.fs}},{key:"getIndexManager",value:function(e){return new a_(e)}},{key:"getDocumentOverlayCache",value:function(e){return qx.Yt(this.M,e)}},{key:"getBundleCache",value:function(){return this.ds}},{key:"runTransaction",value:function(e,t,n){var r=this;qy("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=14===(i=this.Zn)?lx:13===i?cx:12===i?sx:11===i?ux:void Hy();return this.hs.runTransaction(e,o,u,(function(i){return a=new _x(i,r.ts?r.ts.next():ug.A),"readwrite-primary"===t?r.Ts(a).next((function(e){return!!e||r.Es(a)})).next((function(t){if(!t)throw Wy("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Jn.enqueueRetryable((function(){return r.us(!1)})),new Xy(Yy.FAILED_PRECONDITION,fx);return n(a)})).next((function(e){return r.Rs(a).next((function(){return e}))})):r.Fs(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Fs",value:function(e){var t=this;return W_(e).get("owner").next((function(e){if(null!==e&&t.vs(e.leaseTimestampMs,5e3)&&!t.Cs(e.ownerId)&&!t.bs(e)&&!(t.Xn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Xy(Yy.FAILED_PRECONDITION,B_)}))}},{key:"Rs",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return W_(e).put("owner",t)}},{key:"As",value:function(e){var t=this,n=W_(e);return n.get("owner").next((function(e){return t.bs(e)?(qy("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):dx.resolve()}))}},{key:"vs",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Wy("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"gs",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=function(){e.Jn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ws()}))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ns",value:function(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}},{key:"ys",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ns=function(){t.xs(),!Ci()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Jn.enterRestrictedMode(!0),t.Jn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ns))}},{key:"ks",value:function(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}},{key:"Cs",value:function(e){var t;try{var n=null!==(null===(t=this._s)||void 0===t?void 0:t.getItem(this.Ds(e)));return qy("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Wy("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"xs",value:function(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(Vd){Wy("Failed to set zombie client id.",Vd)}}},{key:"Ms",value:function(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(Vd){}}},{key:"Ds",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"vt",value:function(){return vx.vt()}}]),e}();function W_(e){return Sx(e,"owner")}function K_(e){return Sx(e,"clientMetadata")}function G_(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var H_=function(){function e(t,n,r){ri(this,e),this.fs=t,this.$s=n,this.indexManager=r}return ai(e,[{key:"Bs",value:function(e,t){var n=this;return this.$s.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Ls(e,t,r)}))}},{key:"Ls",value:function(e,t,n){return this.fs.getEntry(e,t).next((function(e){var t,r=oi(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"Us",value:function(e,t){e.forEach((function(e,n){var r,i=oi(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"qs",value:function(e,t){var n=this;return this.fs.getEntries(e,t).next((function(t){return n.Gs(e,t).next((function(){return t}))}))}},{key:"Gs",value:function(e,t){var n=this;return this.$s.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.Us(t,e)}))}},{key:"Ks",value:function(e,t,n){return function(e){return Mg.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Qs(e,t.path):zk(t)?this.js(e,t,n):this.Ws(e,t,n)}},{key:"Qs",value:function(e,t){return this.Bs(e,new Mg(t)).next((function(e){var t=Kb();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"js",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Kb();return this.indexManager.getCollectionParents(e,i).next((function(o){return dx.forEach(o,(function(o){var u=function(e,t){return new Dk(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Ws(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Ws",value:function(e,t,n){var r,i=this;return this.fs.getAllFromCollection(e,t.path,n).next((function(n){return r=n,i.$s.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=oi(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=oi(a.mutations);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.key,c=r.get(s);null==c&&(c=ik.newInvalidDocument(s),r=r.insert(s,c)),kb(u,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(s))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){$k(t,n)||(r=r.remove(e))})),r}))}}]),e}(),$_=function(){function e(t,n,r,i){ri(this,e),this.targetId=t,this.fromCache=n,this.zs=r,this.Hs=i}return ai(e,null,[{key:"Js",value:function(t,n){var r,i=Qb(),a=Qb(),o=oi(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Q_=function(){function e(){ri(this,e)}return ai(e,[{key:"Ys",value:function(e){this.Xs=e}},{key:"Ks",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(pg.min())?this.Zs(e,t):this.Xs.qs(e,r).next((function(a){var o=i.ti(t,a);return(Fk(t)||Uk(t))&&i.ei(t.limitType,o,r,n)?i.Zs(e,t):(By()<=aa.DEBUG&&qy("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Hk(t)),i.Xs.Ks(e,t,lk(n,-1)).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"ti",value:function(e,t){var n=new Vb(Yk(e));return t.forEach((function(t,r){$k(e,r)&&(n=n.add(r))})),n}},{key:"ei",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Zs",value:function(e,t){return By()<=aa.DEBUG&&qy("QueryEngine","Using full collection scan to execute query:",Hk(t)),this.Xs.Ks(e,t,hk.min())}}]),e}(),Y_=function(){function e(t,n,r,i){ri(this,e),this.persistence=t,this.ni=n,this.M=i,this.si=new Mb(lg),this.ii=new Lb((function(e){return mk(e)}),yk),this.ri=new Map,this.oi=t.getRemoteDocumentCache(),this.ls=t.getTargetCache(),this.ds=t.getBundleCache(),this.ui(r)}return ai(e,[{key:"ui",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.$s=this.persistence.getMutationQueue(e,this.indexManager),this.ai=new H_(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.si)}))}}]),e}();function X_(e,t,n,r){return new Y_(e,t,n,r)}function J_(e,t){return Z_.apply(this,arguments)}function Z_(){return Z_=Zi(gi().mark((function e(t,n){var r;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qy(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.$s.getAllMutationBatches(e).next((function(i){return t=i,r.ui(n),r.$s.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Qb(),s=oi(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=oi(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=oi(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=oi(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.ai.qs(e,u).next((function(e){return{ci:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Z_.apply(this,arguments)}function eS(e,t){var n=Qy(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.oi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=dx.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);$y(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.$s.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.$s.performConsistencyCheck(e)})).next((function(){return n.ai.qs(e,r)}))}))}function tS(e){var t=Qy(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.ls.getLastRemoteSnapshotVersion(e)}))}function nS(e,t){var n=Qy(e),r=t.snapshotVersion,i=n.si;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.oi.newChangeBuffer({trackRemovals:!0});i=n.si;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.ls.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.ls.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(_g.EMPTY_BYTE_STRING,pg.min()).withLastLimboFreeSnapshotVersion(pg.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.ls.updateTargetData(e,c))}}));var u=qb();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(rS(e,a,t.documentUpdates).next((function(e){u=e}))),!r.isEqual(pg.min())){var s=n.ls.getLastRemoteSnapshotVersion(e).next((function(t){return n.ls.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return dx.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.ai.Gs(e,u)})).next((function(){return u}))})).then((function(e){return n.si=i,e}))}function rS(e,t,n){var r=Qb();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=qb();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(pg.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):qy("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function iS(e,t){var n=Qy(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.$s.getNextMutationBatchAfterBatchId(e,t)}))}function aS(e,t){var n=Qy(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.ls.getTargetData(e,t).next((function(i){return i?(r=i,dx.resolve(r)):n.ls.allocateTargetId(e).next((function(i){return r=new Cx(t,i,0,e.currentSequenceNumber),n.ls.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.si.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.si=n.si.insert(e.targetId,e),n.ii.set(t,e.targetId)),e}))}function oS(e,t,n){return uS.apply(this,arguments)}function uS(){return uS=Zi(gi().mark((function e(t,n,r){var i,a,o;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Qy(t),a=i.si.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),gx(e.t1)){e.next=12;break}throw e.t1;case 12:qy("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.si=i.si.remove(n),i.ii.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),uS.apply(this,arguments)}function sS(e,t,n){var r=Qy(e),i=pg.min(),a=Qb();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Qy(e),i=r.ii.get(n);return void 0!==i?dx.resolve(r.si.get(i)):r.ls.getTargetData(t,n)}(r,e,qk(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.ls.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.ni.Ks(e,t,n?i:pg.min(),n?a:Qb())})).next((function(e){return fS(r,Qk(t),e),{documents:e,hi:a}}))}))}function cS(e,t){var n=Qy(e),r=Qy(n.ls),i=n.si.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function lS(e,t){var n=Qy(e),r=n.ri.get(t)||pg.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.oi.getAllFromCollectionGroup(e,t,lk(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return fS(n,t,e),e}))}function fS(e,t,n){var r=pg.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ri.set(t,r)}function hS(e,t,n,r){return dS.apply(this,arguments)}function dS(){return dS=Zi(gi().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Qy(t),o=Qb(),u=qb(),s=oi(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.li(l.metadata.name),l.document&&(o=o.add(f)),(h=n.fi(l)).setReadTime(n.di(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.oi.newChangeBuffer({trackRemovals:!0}),e.next=7,aS(a,function(e){return qk(Mk(kg.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return rS(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.ls.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.ls.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.ai.Gs(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),dS.apply(this,arguments)}function pS(e,t){return vS.apply(this,arguments)}function vS(){return vS=Zi(gi().mark((function e(t,n){var r,i,a,o=arguments;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Qb(),e.next=3,aS(t,qk(Fx(n.bundledQuery)));case 3:return i=e.sent,a=Qy(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=dw(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.ds.saveNamedQuery(e,n);var o=i.withResumeToken(_g.EMPTY_BYTE_STRING,t);return a.si=a.si.insert(o.targetId,o),a.ls.updateTargetData(e,o).next((function(){return a.ls.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.ls.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.ds.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),vS.apply(this,arguments)}var mS=function(){function e(t){ri(this,e),this.M=t,this._i=new Map,this.wi=new Map}return ai(e,[{key:"getBundleMetadata",value:function(e,t){return dx.resolve(this._i.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this._i.set(t.id,{id:(n=t).id,version:n.version,createTime:dw(n.createTime)}),dx.resolve()}},{key:"getNamedQuery",value:function(e,t){return dx.resolve(this.wi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.wi.set(t.name,function(e){return{name:e.name,query:Fx(e.bundledQuery),readTime:dw(e.readTime)}}(t)),dx.resolve()}}]),e}(),yS=function(){function e(){ri(this,e),this.overlays=new Mb(Mg.comparator),this.mi=new Map}return ai(e,[{key:"getOverlay",value:function(e,t){return dx.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Xt(e,t,i)})),dx.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.mi.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.mi.delete(n)),dx.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Gb(),i=t.length+1,a=new Mg(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return dx.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Mb((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Gb(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Gb(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return dx.resolve(s)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.mi.get(r.largestBatchId).delete(n.key);this.mi.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Tx(t,n));var a=this.mi.get(t);void 0===a&&(a=Qb(),this.mi.set(t,a)),this.mi.set(t,a.add(n.key))}}}]),e}(),gS=function(){function e(){ri(this,e),this.gi=new Vb(kS.yi),this.pi=new Vb(kS.Ii)}return ai(e,[{key:"isEmpty",value:function(){return this.gi.isEmpty()}},{key:"addReference",value:function(e,t){var n=new kS(e,t);this.gi=this.gi.add(n),this.pi=this.pi.add(n)}},{key:"Ti",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Ei(new kS(e,t))}},{key:"Ai",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Ri",value:function(e){var t=this,n=new Mg(new kg([])),r=new kS(n,e),i=new kS(n,e+1),a=[];return this.pi.forEachInRange([r,i],(function(e){t.Ei(e),a.push(e.key)})),a}},{key:"bi",value:function(){var e=this;this.gi.forEach((function(t){return e.Ei(t)}))}},{key:"Ei",value:function(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}},{key:"Pi",value:function(e){var t=new Mg(new kg([])),n=new kS(t,e),r=new kS(t,e+1),i=Qb();return this.pi.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new kS(e,0),n=this.gi.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),kS=function(){function e(t,n){ri(this,e),this.key=t,this.Vi=n}return ai(e,null,[{key:"yi",value:function(e,t){return Mg.comparator(e.key,t.key)||lg(e.Vi,t.Vi)}},{key:"Ii",value:function(e,t){return lg(e.Vi,t.Vi)||Mg.comparator(e.key,t.key)}}]),e}(),bS=function(){function e(t,n){ri(this,e),this.indexManager=t,this.referenceDelegate=n,this.$s=[],this.vi=1,this.Si=new Vb(kS.yi)}return ai(e,[{key:"checkEmpty",value:function(e){return dx.resolve(0===this.$s.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.vi;this.vi++,this.$s.length>0&&this.$s[this.$s.length-1];var a=new Ix(i,t,n,r);this.$s.push(a);var o,u=oi(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.Si=this.Si.add(new kS(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return dx.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return dx.resolve(this.Di(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Ci(n),i=r<0?0:r;return dx.resolve(this.$s.length>i?this.$s[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return dx.resolve(0===this.$s.length?-1:this.vi-1)}},{key:"getAllMutationBatches",value:function(e){return dx.resolve(this.$s.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new kS(t,0),i=new kS(t,Number.POSITIVE_INFINITY),a=[];return this.Si.forEachInRange([r,i],(function(e){var t=n.Di(e.Vi);a.push(t)})),dx.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Vb(lg);return t.forEach((function(e){var t=new kS(e,0),i=new kS(e,Number.POSITIVE_INFINITY);n.Si.forEachInRange([t,i],(function(e){r=r.add(e.Vi)}))})),dx.resolve(this.xi(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Mg.isDocumentKey(i)||(i=i.child(""));var a=new kS(new Mg(i),0),o=new Vb(lg);return this.Si.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Vi)),!0)}),a),dx.resolve(this.xi(o))}},{key:"xi",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Di(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;$y(0===this.Ni(t.batchId,"removed")),this.$s.shift();var r=this.Si;return dx.forEach(t.mutations,(function(i){var a=new kS(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Si=r}))}},{key:"dn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new kS(t,0),r=this.Si.firstAfterOrEqual(n);return dx.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.$s.length,dx.resolve()}},{key:"Ni",value:function(e,t){return this.Ci(e)}},{key:"Ci",value:function(e){return 0===this.$s.length?0:e-this.$s[0].batchId}},{key:"Di",value:function(e){var t=this.Ci(e);return t<0||t>=this.$s.length?null:this.$s[t]}}]),e}(),wS=function(){function e(t){ri(this,e),this.ki=t,this.docs=new Mb(Mg.comparator),this.size=0}return ai(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ki(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return dx.resolve(n?n.document.mutableCopy():ik.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=qb();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():ik.newInvalidDocument(e))})),dx.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=qb(),i=new Mg(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||dk(fk(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return dx.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Hy()}},{key:"Mi",value:function(e,t){return dx.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new xS(this)}},{key:"getSize",value:function(e){return dx.resolve(this.size)}}]),e}(),xS=function(e){ci(n,e);var t=pi(n);function n(e){var r;return ri(this,n),(r=t.call(this)).qn=e,r}return ai(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.qn.addEntry(e,i)):t.qn.removeEntry(r)})),dx.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.qn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.qn.getEntries(e,t)}}]),n}(P_),_S=function(){function e(t){ri(this,e),this.persistence=t,this.Oi=new Lb((function(e){return mk(e)}),yk),this.lastRemoteSnapshotVersion=pg.min(),this.highestTargetId=0,this.Fi=0,this.$i=new gS,this.targetCount=0,this.Bi=k_.mn()}return ai(e,[{key:"forEachTarget",value:function(e,t){return this.Oi.forEach((function(e,n){return t(n)})),dx.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return dx.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return dx.resolve(this.Fi)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Bi.next(),dx.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Fi&&(this.Fi=t),dx.resolve()}},{key:"In",value:function(e){this.Oi.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Bi=new k_(t),this.highestTargetId=t),e.sequenceNumber>this.Fi&&(this.Fi=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.In(t),this.targetCount+=1,dx.resolve()}},{key:"updateTargetData",value:function(e,t){return this.In(t),dx.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Oi.delete(t.target),this.$i.Ri(t.targetId),this.targetCount-=1,dx.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Oi.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Oi.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),dx.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return dx.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Oi.get(t)||null;return dx.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.$i.Ti(t,n),dx.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.$i.Ai(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),dx.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.$i.Ri(t),dx.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.$i.Pi(t);return dx.resolve(n)}},{key:"containsKey",value:function(e,t){return dx.resolve(this.$i.containsKey(t))}}]),e}(),SS=function(){function e(t,n){var r=this;ri(this,e),this.Li={},this.overlays={},this.ts=new ug(0),this.es=!1,this.es=!0,this.referenceDelegate=t(this),this.ls=new _S(this),this.indexManager=new n_,this.fs=new wS((function(e){return r.referenceDelegate.Ui(e)})),this.M=new Ax(n),this.ds=new mS(this.M)}return ai(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.es=!1,Promise.resolve()}},{key:"started",get:function(){return this.es}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new yS,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Li[e.toKey()];return n||(n=new bS(t,this.referenceDelegate),this.Li[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.ls}},{key:"getRemoteDocumentCache",value:function(){return this.fs}},{key:"getBundleCache",value:function(){return this.ds}},{key:"runTransaction",value:function(e,t,n){var r=this;qy("MemoryPersistence","Starting transaction:",e);var i=new IS(this.ts.next());return this.referenceDelegate.qi(),n(i).next((function(e){return r.referenceDelegate.Gi(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ki",value:function(e,t){return dx.or(Object.values(this.Li).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),IS=function(e){ci(n,e);var t=pi(n);function n(e){var r;return ri(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return ai(n)}(hx),ES=function(){function e(t){ri(this,e),this.persistence=t,this.Qi=new gS,this.ji=null}return ai(e,[{key:"zi",get:function(){if(this.ji)return this.ji;throw Hy()}},{key:"addReference",value:function(e,t,n){return this.Qi.addReference(n,t),this.zi.delete(n.toString()),dx.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Qi.removeReference(n,t),this.zi.add(n.toString()),dx.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.zi.add(t.toString()),dx.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Qi.Ri(t.targetId).forEach((function(e){return n.zi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.zi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"qi",value:function(){this.ji=new Set}},{key:"Gi",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return dx.forEach(this.zi,(function(r){var i=Mg.fromPath(r);return t.Hi(e,i).next((function(e){e||n.removeEntry(i,pg.min())}))})).next((function(){return t.ji=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Hi(e,t).next((function(e){e?n.zi.delete(t.toString()):n.zi.add(t.toString())}))}},{key:"Ui",value:function(e){return 0}},{key:"Hi",value:function(e,t){var n=this;return dx.or([function(){return dx.resolve(n.Qi.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ki(e,t)}])}}],[{key:"Wi",value:function(t){return new e(t)}}]),e}();function TS(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function CS(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function AS(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var RS=function(){function e(t,n,r,i){ri(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return ai(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Xy(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Wy("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),NS=function(){function e(t,n,r){ri(this,e),this.targetId=t,this.state=n,this.error=r}return ai(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Xy(i.error.code,i.error.message))),a?new e(t,i.state,r):(Wy("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),PS=function(){function e(t,n){ri(this,e),this.clientId=t,this.activeTargetIds=n}return ai(e,null,[{key:"Ji",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Xb(),o=0;i&&o<r.activeTargetIds.length;++o)i=Lg(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Wy("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),OS=function(){function e(t,n){ri(this,e),this.clientId=t,this.onlineState=n}return ai(e,null,[{key:"Ji",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Wy("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),DS=function(){function e(){ri(this,e),this.activeTargetIds=Xb()}return ai(e,[{key:"Xi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Yi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),LS=function(){function e(t,n,r,i,a){ri(this,e),this.window=t,this.Jn=n,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Mb(lg),this.started=!1,this.ir=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=TS(this.persistenceKey,this.tr),this.ur=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.sr=this.sr.insert(this.tr,new DS),this.ar=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.cr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.hr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.lr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.dr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.er)}return ai(e,[{key:"start",value:function(){var e=Zi(gi().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Os();case 2:t=e.sent,n=oi(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.tr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(TS(this.persistenceKey,i)))&&(o=PS.Ji(i,a))&&(this.sr=this.sr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this._r(),(u=this.storage.getItem(this.lr))&&(s=this.wr(u))&&this.mr(s),c=oi(this.ir);try{for(c.s();!(l=c.n()).done;)f=l.value,this.nr(f)}catch(d){c.e(d)}finally{c.f()}this.ir=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ur,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.gr(this.sr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.sr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.yr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.yr(e,t,n),this.pr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(AS(this.persistenceKey,e));if(n){var r=NS.Ji(e,n);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ir.Zi(e),this._r()}},{key:"isLocalQueryTarget",value:function(e){return this.Ir.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(AS(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Tr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.pr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Er(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ar(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return qy("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){qy("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){qy("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"nr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(qy("SharedClientState","EVENT",n.key,n.newValue),n.key===this.rr)return void Wy("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable(Zi(gi().mark((function e(){var r,i,a,o,u,s,c;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.ar.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Rr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Pr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.cr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.vr(a));case 16:e.next=41;break;case 18:if(!t.hr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Sr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Dr(o));case 23:e.next=41;break;case 25:if(n.key!==t.lr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.wr(n.newValue))){e.next=30;break}return e.abrupt("return",t.mr(u));case 30:e.next=41;break;case 32:if(n.key!==t.ur){e.next=37;break}s=function(e){var t=ug.A;if(null!=e)try{var n=JSON.parse(e);$y("number"==typeof n),t=n}catch(e){Wy("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==ug.A&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.dr){e.next=41;break}return c=t.Cr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Nr(e)})));case 41:e.next=44;break;case 43:t.ir.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ir",get:function(){return this.sr.get(this.tr)}},{key:"_r",value:function(){this.setItem(this.rr,this.Ir.Yi())}},{key:"yr",value:function(e,t,n){var r=new RS(this.currentUser,e,t,n),i=CS(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Yi())}},{key:"pr",value:function(e){var t=CS(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Er",value:function(e){var t={clientId:this.tr,onlineState:e};this.storage.setItem(this.lr,JSON.stringify(t))}},{key:"Tr",value:function(e,t,n){var r=AS(this.persistenceKey,e),i=new NS(e,t,n);this.setItem(r,i.Yi())}},{key:"Ar",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}},{key:"Rr",value:function(e){var t=this.ar.exec(e);return t?t[1]:null}},{key:"Pr",value:function(e,t){var n=this.Rr(e);return PS.Ji(n,t)}},{key:"Vr",value:function(e,t){var n=this.cr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return RS.Ji(new Vy(i),r,t)}},{key:"Sr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]);return NS.Ji(r,t)}},{key:"wr",value:function(e){return OS.Ji(e)}},{key:"Cr",value:function(e){return JSON.parse(e)}},{key:"vr",value:function(){var e=Zi(gi().mark((function e(t){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.kr(t.batchId,t.state,t.error));case 2:qy("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dr",value:function(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),a=this.gr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Or(o,u).then((function(){n.sr=r}))}},{key:"mr",value:function(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"gr",value:function(e){var t=Xb();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),MS=function(){function e(){ri(this,e),this.Fr=new DS,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return ai(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.$r[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Fr.Zi(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.$r[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Fr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Fr=new DS,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),FS=function(){function e(){ri(this,e)}return ai(e,[{key:"Br",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),US=function(){function e(){var t=this;ri(this,e),this.Lr=function(){return t.Ur()},this.qr=function(){return t.Gr()},this.Kr=[],this.Qr()}return ai(e,[{key:"Br",value:function(e){this.Kr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}},{key:"Qr",value:function(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}},{key:"Ur",value:function(){qy("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=oi(this.Kr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Gr",value:function(){qy("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=oi(this.Kr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),VS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},jS=function(){function e(t){ri(this,e),this.jr=t.jr,this.Wr=t.Wr}return ai(e,[{key:"zr",value:function(e){this.Hr=e}},{key:"Jr",value:function(e){this.Yr=e}},{key:"onMessage",value:function(e){this.Xr=e}},{key:"close",value:function(){this.Wr()}},{key:"send",value:function(e){this.jr(e)}},{key:"Zr",value:function(){this.Hr()}},{key:"eo",value:function(e){this.Yr(e)}},{key:"no",value:function(e){this.Xr(e)}}]),e}(),zS=function(e){ci(n,e);var t=pi(n);function n(e){var r;return ri(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return ai(n,[{key:"ao",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Fy;o.listenOnce(Py.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Ny.NO_ERROR:var t=o.getResponseJson();qy("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Ny.TIMEOUT:qy("Connection",'RPC "'+e+'" timed out'),a(new Xy(Yy.DEADLINE_EXCEEDED,"Request time out"));break;case Ny.HTTP_ERROR:var n=o.getStatus();if(qy("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Yy).indexOf(t)>=0?t:Yy.UNKNOWN}(r.status);a(new Xy(u,r.message))}else a(new Xy(Yy.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Xy(Yy.UNAVAILABLE,"Connection failed."));break;default:Hy()}}finally{qy("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"ho",value:function(e,t,n){var r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Ay(),a=Ry(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Ly({})),this.uo(o.initMessageHeaders,t,n),Ti()||Ri()||Ei().indexOf("Electron/")>=0||Ni()||Ei().indexOf("MSAppHost/")>=0||Ai()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");qy("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new jS({jr:function(e){l?qy("Connection","Not sending because WebChannel is closed:",e):(c||(qy("Connection","Opening WebChannel transport."),s.open(),c=!0),qy("Connection","WebChannel sending:",e),s.send(e))},Wr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,My.EventType.OPEN,(function(){l||qy("Connection","WebChannel transport opened.")})),h(s,My.EventType.CLOSE,(function(){l||(l=!0,qy("Connection","WebChannel transport closed"),f.eo())})),h(s,My.EventType.ERROR,(function(e){l||(l=!0,Ky("Connection","WebChannel transport errored:",e),f.eo(new Xy(Yy.UNAVAILABLE,"The operation could not be completed")))})),h(s,My.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];$y(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){qy("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Cb[e];if(void 0!==t)return Db(t)}(a),u=i.message;void 0===o&&(o=Yy.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.eo(new Xy(o,u)),s.close()}else qy("Connection","WebChannel received:",n),f.no(n)}})),h(a,Oy.STAT_EVENT,(function(e){e.stat===Dy.PROXY?qy("Connection","Detected buffering proxy"):e.stat===Dy.NOPROXY&&qy("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Zr()}),0),f}}]),n}(function(){function e(t){ri(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.so=n+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return ai(e,[{key:"ro",value:function(e,t,n,r,i){var a=this.oo(e,t);qy("RestConnection","Sending: ",a,n);var o={};return this.uo(o,r,i),this.ao(e,a,o,n).then((function(e){return qy("RestConnection","Received: ",e),e}),(function(t){throw Ky("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"co",value:function(e,t,n,r,i){return this.ro(e,t,n,r,i)}},{key:"uo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+jy,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"oo",value:function(e,t){var n=VS[e];return"".concat(this.so,"/v1/").concat(t,":").concat(n)}}]),e}());function BS(){return"undefined"!=typeof window?window:null}function qS(){return"undefined"!=typeof document?document:null}function WS(e){return new cw(e,!0)}var KS=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;ri(this,e),this.Jn=t,this.timerId=n,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}return ai(e,[{key:"reset",value:function(){this.wo=0}},{key:"po",value:function(){this.wo=this._o}},{key:"Io",value:function(e){var t=this;this.cancel();var n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&qy("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.wo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.mo=this.Jn.enqueueAfterDelay(this.timerId,i,(function(){return t.yo=Date.now(),e()})),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}},{key:"Eo",value:function(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}},{key:"cancel",value:function(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}},{key:"To",value:function(){return(Math.random()-.5)*this.wo}}]),e}(),GS=function(){function e(t,n,r,i,a,o,u,s){ri(this,e),this.Jn=t,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new KS(t,n)}return ai(e,[{key:"Do",value:function(){return 1===this.state||5===this.state||this.Co()}},{key:"Co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.xo()}},{key:"stop",value:function(){var e=Zi(gi().mark((function e(){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Do(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"No",value:function(){this.state=0,this.So.reset()}},{key:"ko",value:function(){var e=this;this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,(function(){return e.Mo()})))}},{key:"Oo",value:function(e){this.Fo(),this.stream.send(e)}},{key:"Mo",value:function(){var e=Zi(gi().mark((function e(){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"$o",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"close",value:function(){var e=Zi(gi().mark((function e(t,n){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==t?this.So.reset():n&&n.code===Yy.RESOURCE_EXHAUSTED?(Wy(n.toString()),Wy("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===Yy.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Jr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=h(t,2),i=r[0],a=r[1];e.Po===n&&e.Uo(i,a)}),(function(n){t((function(){var t=new Xy(Yy.UNKNOWN,"Fetching auth token failed: "+n.message);return e.qo(t)}))}))}},{key:"Uo",value:function(e,t){var n=this,r=this.Lo(this.Po);this.stream=this.Go(e,t),this.stream.zr((function(){r((function(){return n.state=2,n.vo=n.Jn.enqueueAfterDelay(n.Ro,1e4,(function(){return n.Co()&&(n.state=3),Promise.resolve()})),n.listener.zr()}))})),this.stream.Jr((function(e){r((function(){return n.qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"xo",value:function(){var e=this;this.state=5,this.So.Io(Zi(gi().mark((function t(){return gi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"qo",value:function(e){return qy("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Lo",value:function(e){var t=this;return function(n){t.Jn.enqueueAndForget((function(){return t.Po===e?n():(qy("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),HS=function(e){ci(n,e);var t=pi(n);function n(e,r,i,a,o,u){var s;return ri(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).M=o,s}return ai(n,[{key:"Go",value:function(e,t){return this.bo.ho("Listen",e,t)}},{key:"onMessage",value:function(e){this.So.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Hy()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?($y(void 0===t||"string"==typeof t),_g.fromBase64String(t||"")):($y(void 0===t||t instanceof Uint8Array),_g.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Yy.UNKNOWN:Db(e.code);return new Xy(t,e.message||"")}(o);n=new nw(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=yw(e,s.document.name),l=dw(s.document.updateTime),f=new nk({mapValue:{fields:s.document.fields}}),h=ik.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new ew(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=yw(e,v.document),y=v.readTime?dw(v.readTime):pg.min(),g=ik.newNoDocument(m,y),k=v.removedTargetIds||[];n=new ew([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=yw(e,b.document),x=b.removedTargetIds||[];n=new ew([],x,w,null)}else{if(!("filter"in t))return Hy();t.filter;var _=t.filter;_.targetId;var S=_.count||0,I=new Pb(S),E=_.targetId;n=new tw(E,I)}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return pg.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?pg.min():t.readTime?dw(t.readTime):pg.min()}(e);return this.listener.Ko(t,n)}},{key:"Qo",value:function(e){var t={};t.database=bw(this.M),t.addTarget=function(e,t){var n,r=t.target;return(n=gk(r)?{documents:Tw(e,r)}:{query:Cw(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=fw(e,t.resumeToken):t.snapshotVersion.compareTo(pg.min())>0&&(n.readTime=lw(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Hy()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Oo(t)}},{key:"jo",value:function(e){var t={};t.database=bw(this.M),t.removeTarget=e,this.Oo(t)}}]),n}(GS),$S=function(e){ci(n,e);var t=pi(n);function n(e,r,i,a,o,u){var s;return ri(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).M=o,s.Wo=!1,s}return ai(n,[{key:"zo",get:function(){return this.Wo}},{key:"start",value:function(){this.Wo=!1,this.lastStreamToken=void 0,lo(li(n.prototype),"start",this).call(this)}},{key:"Bo",value:function(){this.Wo&&this.Ho([])}},{key:"Go",value:function(e,t){return this.bo.ho("Write",e,t)}},{key:"onMessage",value:function(e){if($y(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();var t=function(e,t){return e&&e.length>0?($y(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?dw(e.updateTime):dw(t);return n.isEqual(pg.min())&&(n=dw(t)),new pb(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=dw(e.commitTime);return this.listener.Jo(n,t)}return $y(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}},{key:"Xo",value:function(){var e={};e.database=bw(this.M),this.Oo(e)}},{key:"Ho",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Iw(t.M,e)}))};this.Oo(n)}}]),n}(GS),QS=function(e){ci(n,e);var t=pi(n);function n(e,r,i,a){var o;return ri(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.M=a,o.Zo=!1,o}return ai(n,[{key:"tu",value:function(){if(this.Zo)throw new Xy(Yy.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ro",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=h(i,2),o=a[0],u=a[1];return r.bo.ro(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Yy.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Xy(Yy.UNKNOWN,e.toString())}))}},{key:"co",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=h(i,2),o=a[0],u=a[1];return r.bo.co(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Yy.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Xy(Yy.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Zo=!0}}]),n}(function(){return ai((function e(){ri(this,e)}))}()),YS=function(){function e(t,n){ri(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}return ai(e,[{key:"iu",value:function(){var e=this;0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.nu=null,e.ou("Backend didn't respond within 10 seconds."),e.ru("Offline"),Promise.resolve()})))}},{key:"uu",value:function(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ru("Offline")))}},{key:"set",value:function(e){this.au(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}},{key:"ru",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"ou",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.su?(Wy(t),this.su=!1):qy("OnlineStateTracker",t)}},{key:"au",value:function(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}]),e}(),XS=ai((function e(t,n,r,i,a){var o=this;ri(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br((function(e){r.enqueueAndForget(Zi(gi().mark((function e(){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=sI(o),!e.t0){e.next=5;break}return qy("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Zi(gi().mark((function e(t){var n;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Qy(t)).lu.add(4),e.next=4,eI(n);case 4:return n._u.set("Unknown"),n.lu.delete(4),e.next=8,JS(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this._u=new YS(r,i)}));function JS(e){return ZS.apply(this,arguments)}function ZS(){return ZS=Zi(gi().mark((function e(t){var n,r,i;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!sI(t)){e.next=18;break}n=oi(t.fu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),ZS.apply(this,arguments)}function eI(e){return tI.apply(this,arguments)}function tI(){return tI=Zi(gi().mark((function e(t){var n,r,i;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=oi(t.fu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),tI.apply(this,arguments)}function nI(e,t){var n=Qy(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),uI(n)?oI(n):FI(n).Co()&&iI(n,t))}function rI(e,t){var n=Qy(e),r=FI(n);n.hu.delete(t),r.Co()&&aI(n,t),0===n.hu.size&&(r.Co()?r.ko():sI(n)&&n._u.set("Unknown"))}function iI(e,t){e.wu.Z(t.targetId),FI(e).Qo(t)}function aI(e,t){e.wu.Z(t),FI(e).jo(t)}function oI(e){e.wu=new iw({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.hu.get(t)||null}}),FI(e).start(),e._u.iu()}function uI(e){return sI(e)&&!FI(e).Do()&&e.hu.size>0}function sI(e){return 0===Qy(e).lu.size}function cI(e){e.wu=void 0}function lI(e){return fI.apply(this,arguments)}function fI(){return fI=Zi(gi().mark((function e(t){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.hu.forEach((function(e,n){iI(t,e)}));case 1:case"end":return e.stop()}}),e)}))),fI.apply(this,arguments)}function hI(e,t){return dI.apply(this,arguments)}function dI(){return dI=Zi(gi().mark((function e(t,n){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:cI(t),uI(t)?(t._u.uu(n),oI(t)):t._u.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),dI.apply(this,arguments)}function pI(e,t,n){return vI.apply(this,arguments)}function vI(){return vI=Zi(gi().mark((function e(t,n,r){var i;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._u.set("Online"),!(n instanceof nw&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Zi(gi().mark((function e(t,n){var r,i,a,o;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=oi(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.hu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.hu.delete(o),t.wu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),qy("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,mI(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof ew?t.wu.ut(n):n instanceof tw?t.wu._t(n):t.wu.ht(n),r.isEqual(pg.min())){e.next=29;break}return e.prev=14,e.next=17,tS(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.wu.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.hu.get(r);i&&e.hu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.hu.get(t);if(n){e.hu.set(t,n.withResumeToken(_g.EMPTY_BYTE_STRING,n.snapshotVersion)),aI(e,t);var r=new Cx(n.target,t,1,n.sequenceNumber);iI(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),qy("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,mI(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),vI.apply(this,arguments)}function mI(e,t,n){return yI.apply(this,arguments)}function yI(){return yI=Zi(gi().mark((function e(t,n,r){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(gx(n)){e.next=2;break}throw n;case 2:return t.lu.add(1),e.next=5,eI(t);case 5:t._u.set("Offline"),r||(r=function(){return tS(t.localStore)}),t.asyncQueue.enqueueRetryable(Zi(gi().mark((function e(){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qy("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.lu.delete(1),e.next=6,JS(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),yI.apply(this,arguments)}function gI(e,t){return t().catch((function(n){return mI(e,n,t)}))}function kI(e){return bI.apply(this,arguments)}function bI(){return bI=Zi(gi().mark((function e(t){var n,r,i,a;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Qy(t),r=UI(n),i=n.cu.length>0?n.cu[n.cu.length-1].batchId:-1;case 2:if(!wI(n)){e.next=19;break}return e.prev=3,e.next=6,iS(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.cu.length&&r.ko(),e.abrupt("break",19);case 10:i=a.batchId,xI(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,mI(n,e.t0);case 17:e.next=2;break;case 19:_I(n)&&SI(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),bI.apply(this,arguments)}function wI(e){return sI(e)&&e.cu.length<10}function xI(e,t){e.cu.push(t);var n=UI(e);n.Co()&&n.zo&&n.Ho(t.mutations)}function _I(e){return sI(e)&&!UI(e).Do()&&e.cu.length>0}function SI(e){UI(e).start()}function II(e){return EI.apply(this,arguments)}function EI(){return EI=Zi(gi().mark((function e(t){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:UI(t).Xo();case 1:case"end":return e.stop()}}),e)}))),EI.apply(this,arguments)}function TI(e){return CI.apply(this,arguments)}function CI(){return CI=Zi(gi().mark((function e(t){var n,r,i,a;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=UI(t),r=oi(t.cu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Ho(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),CI.apply(this,arguments)}function AI(e,t,n){return RI.apply(this,arguments)}function RI(){return RI=Zi(gi().mark((function e(t,n,r){var i,a;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.cu.shift(),a=Ex.from(i,n,r),e.next=3,gI(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,kI(t);case 5:case"end":return e.stop()}}),e)}))),RI.apply(this,arguments)}function NI(e,t){return PI.apply(this,arguments)}function PI(){return PI=Zi(gi().mark((function e(t,n){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&UI(t).zo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Zi(gi().mark((function e(t,n){var r,i;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ob(i=n.code)||i===Yy.ABORTED){e.next=7;break}return r=t.cu.shift(),UI(t).No(),e.next=5,gI(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,kI(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:_I(t)&&SI(t);case 5:case"end":return e.stop()}}),e)}))),PI.apply(this,arguments)}function OI(e,t){return DI.apply(this,arguments)}function DI(){return DI=Zi(gi().mark((function e(t,n){var r,i;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Qy(t)).asyncQueue.verifyOperationInProgress(),qy("RemoteStore","RemoteStore received new credentials"),i=sI(r),r.lu.add(3),e.next=6,eI(r);case 6:return i&&r._u.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.lu.delete(3),e.next=12,JS(r);case 12:case"end":return e.stop()}}),e)}))),DI.apply(this,arguments)}function LI(e,t){return MI.apply(this,arguments)}function MI(){return MI=Zi(gi().mark((function e(t,n){var r;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Qy(t),!n){e.next=7;break}return r.lu.delete(2),e.next=5,JS(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.lu.add(2),e.next=12,eI(r);case 12:r._u.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),MI.apply(this,arguments)}function FI(e){return e.mu||(e.mu=function(e,t,n){var r=Qy(e);return r.tu(),new HS(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{zr:lI.bind(null,e),Jr:hI.bind(null,e),Ko:pI.bind(null,e)}),e.fu.push(function(){var t=Zi(gi().mark((function t(n){return gi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.mu.No(),uI(e)?oI(e):e._u.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.mu.stop();case 6:cI(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.mu}function UI(e){return e.gu||(e.gu=function(e,t,n){var r=Qy(e);return r.tu(),new $S(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{zr:II.bind(null,e),Jr:NI.bind(null,e),Yo:TI.bind(null,e),Jo:AI.bind(null,e)}),e.fu.push(function(){var t=Zi(gi().mark((function t(n){return gi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.gu.No(),t.next=4,kI(e);case 4:t.next=9;break;case 6:return t.next=8,e.gu.stop();case 8:e.cu.length>0&&(qy("RemoteStore","Stopping write stream with ".concat(e.cu.length," pending writes")),e.cu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}var VI=function(){function e(t,n,r,i,a){ri(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Jy,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return ai(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Xy(Yy.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function jI(e,t){if(Wy("AsyncQueue","".concat(t,": ").concat(e)),gx(e))return new Xy(Yy.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var zI=function(){function e(t){ri(this,e),this.comparator=t?function(e,n){return t(e,n)||Mg.comparator(e.key,n.key)}:function(e,t){return Mg.comparator(e.key,t.key)},this.keyedMap=Kb(),this.sortedSet=new Mb(this.comparator)}return ai(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),BI=function(){function e(){ri(this,e),this.yu=new Mb(Mg.comparator)}return ai(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.yu.get(t);n?0!==e.type&&3===n.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==n.type?this.yu=this.yu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.yu=this.yu.remove(t):1===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):Hy():this.yu=this.yu.insert(t,e)}},{key:"pu",value:function(){var e=[];return this.yu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),qI=function(){function e(t,n,r,i,a,o,u,s){ri(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return ai(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kk(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,zI.emptySet(n),a,r,i,!0,!1)}}]),e}(),WI=ai((function e(){ri(this,e),this.Iu=void 0,this.listeners=[]})),KI=ai((function e(){ri(this,e),this.queries=new Lb((function(e){return Gk(e)}),Kk),this.onlineState="Unknown",this.Tu=new Set}));function GI(e,t){return HI.apply(this,arguments)}function HI(){return HI=Zi(gi().mark((function e(t,n){var r,i,a,o,u;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Qy(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new WI),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Iu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=jI(e.t0,"Initialization of query '".concat(Hk(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Eu(r.onlineState),o.Iu&&n.Au(o.Iu)&&JI(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),HI.apply(this,arguments)}function $I(e,t){return QI.apply(this,arguments)}function QI(){return QI=Zi(gi().mark((function e(t,n){var r,i,a,o,u;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Qy(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),QI.apply(this,arguments)}function YI(e,t){var n,r=Qy(e),i=!1,a=oi(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=oi(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Au(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Iu=o}}}catch(f){a.e(f)}finally{a.f()}i&&JI(r)}function XI(e,t,n){var r=Qy(e),i=r.queries.get(t);if(i){var a,o=oi(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function JI(e){e.Tu.forEach((function(e){e.next()}))}var ZI=function(){function e(t,n,r){ri(this,e),this.query=t,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}return ai(e,[{key:"Au",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=oi(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new qI(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.Vu(e)&&(this.Ru.next(e),a=!0):this.vu(e,this.onlineState)&&(this.Su(e),a=!0),this.Pu=e,a}},{key:"onError",value:function(e){this.Ru.error(e)}},{key:"Eu",value:function(e){this.onlineState=e;var t=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}},{key:"vu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Du||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"Vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Su",value:function(e){e=qI.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}]),e}(),eE=function(){function e(t,n){ri(this,e),this.payload=t,this.byteLength=n}return ai(e,[{key:"Cu",value:function(){return"metadata"in this.payload}}]),e}(),tE=function(){function e(t){ri(this,e),this.M=t}return ai(e,[{key:"li",value:function(e){return yw(this.M,e)}},{key:"fi",value:function(e){return e.metadata.exists?_w(this.M,e.document,!1):ik.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}},{key:"di",value:function(e){return dw(e)}}]),e}(),nE=function(){function e(t,n,r){ri(this,e),this.xu=t,this.localStore=n,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=rE(t)}return ai(e,[{key:"Nu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=kg.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"ku",value:function(e){var t,n=new Map,r=new tE(this.M),i=oi(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.li(a.metadata.name),s=oi(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Qb()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Zi(gi().mark((function e(){var t,n,r,i,a;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hS(this.localStore,new tE(this.M),this.documents,this.xu.id);case 2:t=e.sent,n=this.ku(this.documents),r=oi(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,pS(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Mu:this.collectionGroups,Ou:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function rE(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var iE=ai((function e(t){ri(this,e),this.key=t})),aE=ai((function e(t){ri(this,e),this.key=t})),oE=function(){function e(t,n){ri(this,e),this.query=t,this.Fu=n,this.$u=null,this.current=!1,this.Bu=Qb(),this.mutatedKeys=Qb(),this.Lu=Yk(t),this.Uu=new zI(this.Lu)}return ai(e,[{key:"qu",get:function(){return this.Fu}},{key:"Gu",value:function(e,t){var n=this,r=t?t.Ku:new BI,i=t?t.Uu:this.Uu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s=Fk(this.query)&&i.size===this.query.limit?i.last():null,c=Uk(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=$k(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Qu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Lu(f,s)>0||c&&n.Lu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),Fk(this.query)||Uk(this.query))for(;o.size>this.query.limit;){var l=Fk(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Uu:o,Ku:r,ei:u,mutatedKeys:a}}},{key:"Qu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;var a=e.Ku.pu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Hy()}};return n(e)-n(t)}(e.type,t.type)||r.Lu(e.doc,t.doc)})),this.ju(n);var o=t?this.Wu():[],u=0===this.Bu.size&&this.current?1:0,s=u!==this.$u;return this.$u=u,0!==a.length||s?{snapshot:new qI(this.query,e.Uu,i,a,e.mutatedKeys,0===u,s,!1),zu:o}:{zu:o}}},{key:"Eu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new BI,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}},{key:"Hu",value:function(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}},{key:"ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Fu=t.Fu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Fu=t.Fu.delete(e)})),this.current=e.current)}},{key:"Wu",value:function(){var e=this;if(!this.current)return[];var t=this.Bu;this.Bu=Qb(),this.Uu.forEach((function(t){e.Hu(t.key)&&(e.Bu=e.Bu.add(t.key))}));var n=[];return t.forEach((function(t){e.Bu.has(t)||n.push(new aE(t))})),this.Bu.forEach((function(e){t.has(e)||n.push(new iE(e))})),n}},{key:"Ju",value:function(e){this.Fu=e.hi,this.Bu=Qb();var t=this.Gu(e.documents);return this.applyChanges(t,!0)}},{key:"Yu",value:function(){return qI.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}]),e}(),uE=ai((function e(t,n,r){ri(this,e),this.query=t,this.targetId=n,this.view=r})),sE=ai((function e(t){ri(this,e),this.key=t,this.Xu=!1})),cE=function(){function e(t,n,r,i,a,o){ri(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Zu={},this.ta=new Lb((function(e){return Gk(e)}),Kk),this.ea=new Map,this.na=new Set,this.sa=new Mb(Mg.comparator),this.ia=new Map,this.ra=new gS,this.oa={},this.ua=new Map,this.aa=k_.gn(),this.onlineState="Unknown",this.ca=void 0}return ai(e,[{key:"isPrimaryClient",get:function(){return!0===this.ca}}]),e}();function lE(e,t){return fE.apply(this,arguments)}function fE(){return fE=Zi(gi().mark((function e(t,n){var r,i,a,o,u,s;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=rT(t),!(o=r.ta.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Yu(),e.next=15;break;case 6:return e.next=8,aS(r.localStore,qk(n));case 8:return u=e.sent,r.isPrimaryClient&&nI(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,hE(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),fE.apply(this,arguments)}function hE(e,t,n,r){return dE.apply(this,arguments)}function dE(){return dE=Zi(gi().mark((function e(t,n,r,i){var a,o,u,s,c,l;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.ha=function(e,n,r){return function(){var e=Zi(gi().mark((function e(t,n,r,i){var a,o,u;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Gu(r),e.t0=a.ei,!e.t0){e.next=6;break}return e.next=5,sS(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Gu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(OE(t,n.targetId,u.zu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,sS(t.localStore,n,!0);case 3:return a=e.sent,o=new oE(n,a.hi),u=o.Gu(a.documents),s=Zb.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),OE(t,r,c.zu),l=new uE(n,r,o),e.abrupt("return",(t.ta.set(n,l),t.ea.has(r)?t.ea.get(r).push(n):t.ea.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),dE.apply(this,arguments)}function pE(e,t){return vE.apply(this,arguments)}function vE(){return vE=Zi(gi().mark((function e(t,n){var r,i,a;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Qy(t),i=r.ta.get(n),!((a=r.ea.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ea.set(i.targetId,a.filter((function(e){return!Kk(e,n)}))),void r.ta.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,oS(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),rI(r.remoteStore,i.targetId),NE(r,i.targetId)})).catch(S_);case 9:e.next=14;break;case 11:return NE(r,i.targetId),e.next=14,oS(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),vE.apply(this,arguments)}function mE(e,t,n){return yE.apply(this,arguments)}function yE(){return yE=Zi(gi().mark((function e(t,n,r){var i,a,o;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=iT(t),e.prev=1,e.next=4,function(e,t){var n,r=Qy(e),i=dg.now(),a=t.reduce((function(e,t){return e.add(t.key)}),Qb());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.ai.qs(e,a).next((function(a){n=a;var o,u=[],s=oi(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=bb(c,n.get(c.key));null!=l&&u.push(new Sb(c.key,l,rk(l.value.mapValue),vb.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.$s.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.oa[e.currentUser.toKey()];r||(r=new Mb(lg)),r=r.insert(t,n),e.oa[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,ME(i,a.changes);case 9:return e.next=11,kI(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=jI(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),yE.apply(this,arguments)}function gE(e,t){return kE.apply(this,arguments)}function kE(){return kE=Zi(gi().mark((function e(t,n){var r,i;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qy(t),e.prev=1,e.next=4,nS(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ia.get(t);n&&($y(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Xu=!0:e.modifiedDocuments.size>0?$y(n.Xu):e.removedDocuments.size>0&&($y(n.Xu),n.Xu=!1))})),e.next=8,ME(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,S_(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),kE.apply(this,arguments)}function bE(e,t,n){var r=Qy(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ta.forEach((function(e,n){var r=n.view.Eu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Qy(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=oi(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Eu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&JI(n)}(r.eventManager,t),i.length&&r.Zu.Ko(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function wE(e,t,n){return xE.apply(this,arguments)}function xE(){return xE=Zi(gi().mark((function e(t,n,r){var i,a,o,u,s,c;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Qy(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ia.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Mb(Mg.comparator)).insert(o,ik.newNoDocument(o,pg.min())),s=Qb().add(o),c=new Jb(pg.min(),new Map,new Vb(lg),u,s),e.next=9,gE(i,c);case 9:i.sa=i.sa.remove(o),i.ia.delete(n),LE(i),e.next=16;break;case 14:return e.next=16,oS(i.localStore,n,!1).then((function(){return NE(i,n,r)})).catch(S_);case 16:case"end":return e.stop()}}),e)}))),xE.apply(this,arguments)}function _E(e,t){return SE.apply(this,arguments)}function SE(){return SE=Zi(gi().mark((function e(t,n){var r,i,a;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qy(t),i=n.batch.batchId,e.prev=1,e.next=4,eS(r.localStore,n);case 4:return a=e.sent,RE(r,i,null),AE(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,ME(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,S_(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),SE.apply(this,arguments)}function IE(e,t,n){return EE.apply(this,arguments)}function EE(){return EE=Zi(gi().mark((function e(t,n,r){var i,a;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Qy(t),e.prev=1,e.next=4,function(e,t){var n=Qy(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.$s.lookupMutationBatch(e,t).next((function(t){return $y(null!==t),r=t.keys(),n.$s.removeMutationBatch(e,t)})).next((function(){return n.$s.performConsistencyCheck(e)})).next((function(){return n.ai.qs(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,RE(i,n,r),AE(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,ME(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,S_(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),EE.apply(this,arguments)}function TE(e,t){return CE.apply(this,arguments)}function CE(){return CE=Zi(gi().mark((function e(t,n){var r,i,a,o;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sI((r=Qy(t)).remoteStore)||qy("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Qy(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.$s.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.ua.get(i)||[]).push(n),r.ua.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=jI(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),CE.apply(this,arguments)}function AE(e,t){(e.ua.get(t)||[]).forEach((function(e){e.resolve()})),e.ua.delete(t)}function RE(e,t,n){var r=Qy(e),i=r.oa[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.oa[r.currentUser.toKey()]=i}}function NE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=oi(e.ea.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ta.delete(a),n&&e.Zu.la(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ea.delete(t),e.isPrimaryClient&&e.ra.Ri(t).forEach((function(t){e.ra.containsKey(t)||PE(e,t)}))}function PE(e,t){e.na.delete(t.path.canonicalString());var n=e.sa.get(t);null!==n&&(rI(e.remoteStore,n),e.sa=e.sa.remove(t),e.ia.delete(n),LE(e))}function OE(e,t,n){var r,i=oi(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof iE?(e.ra.addReference(a.key,t),DE(e,a)):a instanceof aE?(qy("SyncEngine","Document no longer in limbo: "+a.key),e.ra.removeReference(a.key,t),e.ra.containsKey(a.key)||PE(e,a.key)):Hy()}}catch(o){i.e(o)}finally{i.f()}}function DE(e,t){var n=t.key,r=n.path.canonicalString();e.sa.get(n)||e.na.has(r)||(qy("SyncEngine","New document in limbo: "+n),e.na.add(r),LE(e))}function LE(e){for(;e.na.size>0&&e.sa.size<e.maxConcurrentLimboResolutions;){var t=e.na.values().next().value;e.na.delete(t);var n=new Mg(kg.fromString(t)),r=e.aa.next();e.ia.set(r,new sE(n)),e.sa=e.sa.insert(n,r),nI(e.remoteStore,new Cx(qk(Mk(n.path)),r,2,ug.A))}}function ME(e,t,n){return FE.apply(this,arguments)}function FE(){return FE=Zi(gi().mark((function e(t,n,r){var i,a,o,u;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Qy(t),a=[],o=[],u=[],e.t0=i.ta.isEmpty(),e.t0){e.next=9;break}return i.ta.forEach((function(e,t){u.push(i.ha(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=$_.Js(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Zu.Ko(a),e.next=9,function(){var e=Zi(gi().mark((function e(t,n){var r,i,a,o,u,s,c,l;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qy(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return dx.forEach(n,(function(t){return dx.forEach(t.zs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return dx.forEach(t.Hs,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),gx(e.t0)){e.next=10;break}throw e.t0;case 10:qy("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=oi(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.si.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.si=r.si.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),FE.apply(this,arguments)}function UE(e,t){return VE.apply(this,arguments)}function VE(){return VE=Zi(gi().mark((function e(t,n){var r,i;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Qy(t)).currentUser.isEqual(n)){e.next=11;break}return qy("SyncEngine","User change. New user:",n.toKey()),e.next=5,J_(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.ua.forEach((function(e){e.forEach((function(e){e.reject(new Xy(Yy.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.ua.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,ME(r,i.ci);case 11:case"end":return e.stop()}}),e)}))),VE.apply(this,arguments)}function jE(e,t){var n=Qy(e),r=n.ia.get(t);if(r&&r.Xu)return Qb().add(r.key);var i=Qb(),a=n.ea.get(t);if(!a)return i;var o,u=oi(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ta.get(s);i=i.unionWith(c.view.qu)}}catch(l){u.e(l)}finally{u.f()}return i}function zE(e,t){return BE.apply(this,arguments)}function BE(){return BE=Zi(gi().mark((function e(t,n){var r,i,a;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qy(t),e.next=3,sS(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Ju(i),e.abrupt("return",(r.isPrimaryClient&&OE(r,n.targetId,a.zu),a));case 6:case"end":return e.stop()}}),e)}))),BE.apply(this,arguments)}function qE(e,t){return WE.apply(this,arguments)}function WE(){return WE=Zi(gi().mark((function e(t,n){var r;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qy(t),e.abrupt("return",lS(r.localStore,n).then((function(e){return ME(r,e)})));case 2:case"end":return e.stop()}}),e)}))),WE.apply(this,arguments)}function KE(e,t,n,r){return GE.apply(this,arguments)}function GE(){return GE=Zi(gi().mark((function e(t,n,r,i){var a,o;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Qy(t),e.next=3,function(e,t){var n=Qy(e),r=Qy(n.$s);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.ln(e,t).next((function(t){return t?n.ai.qs(e,t):dx.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,kI(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(RE(a,n,i||null),AE(a,n),function(e,t){Qy(Qy(e).$s).dn(t)}(a.localStore,n)):Hy();case 11:return e.next=13,ME(a,o);case 13:e.next=16;break;case 15:qy("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),GE.apply(this,arguments)}function HE(e,t){return $E.apply(this,arguments)}function $E(){return $E=Zi(gi().mark((function e(t,n){var r,i,a,o,u,s,c,l;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(rT(r=Qy(t)),iT(r),!0!==n||!0===r.ca){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,QE(r,i.toArray());case 5:return a=e.sent,r.ca=!0,e.next=9,LI(r.remoteStore,!0);case 9:o=oi(a);try{for(o.s();!(u=o.n()).done;)s=u.value,nI(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ca){e.next=25;break}return c=[],l=Promise.resolve(),r.ea.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return NE(r,t),oS(r.localStore,t,!0)})),rI(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,QE(r,c);case 21:return function(e){var t=Qy(e);t.ia.forEach((function(e,n){rI(t.remoteStore,n)})),t.ra.bi(),t.ia=new Map,t.sa=new Mb(Mg.comparator)}(r),r.ca=!1,e.next=25,LI(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),$E.apply(this,arguments)}function QE(e,t,n){return YE.apply(this,arguments)}function YE(){return YE=Zi(gi().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Qy(t),a=[],o=[],u=oi(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.ea.get(c))||0===f.length){e.next=34;break}return e.next=11,aS(i.localStore,qk(f[0]));case 11:l=e.sent,h=oi(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ta.get(p),e.next=20,zE(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,cS(i.localStore,c);case 36:return y=e.sent,e.next=39,aS(i.localStore,y);case 39:return l=e.sent,e.next=42,hE(i,XE(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Zu.Ko(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),YE.apply(this,arguments)}function XE(e){return Lk(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function JE(e){var t=Qy(e);return Qy(Qy(t.localStore).persistence).Os()}function ZE(e,t,n,r){return eT.apply(this,arguments)}function eT(){return eT=Zi(gi().mark((function e(t,n,r,i){var a,o,u,s;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Qy(t)).ca){e.next=3;break}return e.abrupt("return",void qy("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ea.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,lS(a.localStore,Qk(o[0]));case 10:return u=e.sent,s=Jb.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,ME(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,oS(a.localStore,n,!0);case 17:return NE(a,n,i),e.abrupt("break",20);case 19:Hy();case 20:case"end":return e.stop()}}),e)}))),eT.apply(this,arguments)}function tT(e,t,n){return nT.apply(this,arguments)}function nT(){return nT=Zi(gi().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=rT(t)).ca){e.next=45;break}a=oi(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ea.has(u)){e.next=10;break}return qy("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,cS(i.localStore,u);case 12:return s=e.sent,e.next=15,aS(i.localStore,s);case 15:return c=e.sent,e.next=18,hE(i,XE(s),c.targetId,!1);case 18:nI(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=oi(r),e.prev=30,h=gi().mark((function e(){var t;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ea.has(t),!e.t0){e.next=5;break}return e.next=5,oS(i.localStore,t,!1).then((function(){rI(i.remoteStore,t),NE(i,t)})).catch(S_);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),nT.apply(this,arguments)}function rT(e){var t=Qy(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=gE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=jE.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=wE.bind(null,t),t.Zu.Ko=YI.bind(null,t.eventManager),t.Zu.la=XI.bind(null,t.eventManager),t}function iT(e){var t=Qy(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=_E.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=IE.bind(null,t),t}function aT(e,t,n){var r=Qy(e);(function(){var e=Zi(gi().mark((function e(t,n,r){var i,a,o,u,s;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Qy(e),r=dw(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.ds.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(rE(i)),a=new nE(i,t.localStore,n.M),e.next=15,n.fa();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Nu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.fa();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,ME(t,s.Ou,void 0);case 31:return e.next=33,function(e,t){var n=Qy(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.ds.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Mu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Ky("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var oT=function(){function e(){ri(this,e),this.synchronizeTabs=!1}return ai(e,[{key:"initialize",value:function(){var e=Zi(gi().mark((function e(t){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.M=WS(t.databaseInfo.databaseId),this.sharedClientState=this.da(t),this.persistence=this._a(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.wa(t),this.localStore=this.ma(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wa",value:function(e){return null}},{key:"ma",value:function(e){return X_(this.persistence,new Q_,e.initialUser,this.M)}},{key:"_a",value:function(e){return new SS(ES.Wi,this.M)}},{key:"da",value:function(e){return new MS}},{key:"terminate",value:function(){var e=Zi(gi().mark((function e(){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),uT=function(e){ci(n,e);var t=pi(n);function n(e,r,i){var a;return ri(this,n),(a=t.call(this)).ga=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return ai(n,[{key:"initialize",value:function(){var e=Zi(gi().mark((function e(t){var r=this;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lo(li(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.ga.initialize(this,t);case 4:return e.next=6,iT(this.ga.syncEngine);case 6:return e.next=8,kI(this.ga.remoteStore);case 8:return e.next=10,this.persistence.Is((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ma",value:function(e){return X_(this.persistence,new Q_,e.initialUser,this.M)}},{key:"wa",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new C_(t,e.asyncQueue)}},{key:"_a",value:function(e){var t=G_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?f_.withCacheSize(this.cacheSizeBytes):f_.DEFAULT;return new q_(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,BS(),qS(),this.M,this.sharedClientState,!!this.forceOwnership)}},{key:"da",value:function(e){return new MS}}]),n}(oT),sT=function(e){ci(n,e);var t=pi(n);function n(e,r){var i;return ri(this,n),(i=t.call(this,e,r,!1)).ga=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return ai(n,[{key:"initialize",value:function(){var e=Zi(gi().mark((function e(t){var r,i=this;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lo(li(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.ga.syncEngine,e.t0=this.sharedClientState instanceof LS,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={kr:KE.bind(null,r),Mr:ZE.bind(null,r),Or:tT.bind(null,r),Os:JE.bind(null,r),Nr:qE.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Is(function(){var e=Zi(gi().mark((function e(t){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,HE(i.ga.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"da",value:function(e){var t=BS();if(!LS.vt(t))throw new Xy(Yy.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=G_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new LS(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(uT),cT=function(){function e(){ri(this,e)}return ai(e,[{key:"initialize",value:function(){var e=Zi(gi().mark((function e(t,n){var r=this;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return bE(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=UE.bind(null,this.syncEngine),e.next=12,LI(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new KI}},{key:"createDatastore",value:function(e){var t,n=WS(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new zS(t));return function(e,t,n,r){return new QS(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return bE(o.syncEngine,e,0)},a=US.vt()?new US:new FS,new XS(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new cE(e,t,n,r,i,a);return o&&(u.ca=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Zi(gi().mark((function e(t){var n;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Qy(t),qy("RemoteStore","RemoteStore shutting down."),n.lu.add(5),e.next=5,eI(n);case 5:n.du.shutdown(),n._u.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function lT(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Zi(gi().mark((function r(){var i;return gi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Zi(gi().mark((function e(){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var fT=function(){function e(t){ri(this,e),this.observer=t,this.muted=!1}return ai(e,[{key:"next",value:function(e){this.observer.next&&this.ya(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.ya(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"pa",value:function(){this.muted=!0}},{key:"ya",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),hT=function(){function e(t,n){var r=this;ri(this,e),this.Ia=t,this.M=n,this.metadata=new Jy,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then((function(e){e&&e.Cu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return ai(e,[{key:"close",value:function(){return this.Ia.cancel()}},{key:"getMetadata",value:function(){var e=Zi(gi().mark((function e(){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fa",value:function(){var e=Zi(gi().mark((function e(){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Ea());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ea",value:function(){var e=Zi(gi().mark((function e(){var t,n,r,i;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Aa();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ta.decode(t),r=Number(n),isNaN(r)&&this.Ra("length string (".concat(n,") is not valid number")),e.next=9,this.ba(r);case 9:return i=e.sent,e.abrupt("return",new eE(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Pa",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Aa",value:function(){var e=Zi(gi().mark((function e(){var t,n;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Pa()<0)){e.next=7;break}return e.next=3,this.Va();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Pa())<0&&this.Ra("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ba",value:function(){var e=Zi(gi().mark((function e(t){var n;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Va();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Ra("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ta.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ra",value:function(e){throw this.Ia.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Va",value:function(){var e=Zi(gi().mark((function e(){var t,n;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ia.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),dT=function(){function e(t){ri(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return ai(e,[{key:"lookup",value:function(){var e=Zi(gi().mark((function e(t){var n,r=this;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Xy(Yy.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Zi(gi().mark((function e(t,n){var r,i,a,o,u,s;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qy(t),i=bw(r.M)+"/documents",a={documents:n.map((function(e){return mw(r.M,e)}))},e.next=5,r.co("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Sw(r.M,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());$y(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Rb(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Zi(gi().mark((function e(){var t,n=this;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Mg.fromPath(t);n.mutations.push(new Nb(r,n.precondition(r)))})),e.next=7,function(){var e=Zi(gi().mark((function e(t,n){var r,i,a;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qy(t),i=bw(r.M)+"/documents",a={writes:n.map((function(e){return Iw(r.M,e)}))},e.next=3,r.ro("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Hy();t=pg.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Xy(Yy.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?vb.updateTime(t):vb.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(pg.min()))throw new Xy(Yy.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return vb.updateTime(t)}return vb.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),pT=function(){function e(t,n,r,i){ri(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.va=5,this.So=new KS(this.asyncQueue,"transaction_retry")}return ai(e,[{key:"run",value:function(){this.va-=1,this.Sa()}},{key:"Sa",value:function(){var e=this;this.So.Io(Zi(gi().mark((function t(){var n,r;return gi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new dT(e.datastore),(r=e.Da(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Ca(t)}))}))})).catch((function(t){e.Ca(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Da",value:function(e){try{var t=this.updateFunction(e);return!Og(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Ca",value:function(e){var t=this;this.va>0&&this.xa(e)?(this.va-=1,this.asyncQueue.enqueueAndForget((function(){return t.Sa(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"xa",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Ob(t)}return!1}}]),e}(),vT=function(){function e(t,n,r,i){var a=this;ri(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Vy.UNAUTHENTICATED,this.clientId=cg.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Zi(gi().mark((function e(t){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qy("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return qy("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return ai(e,[{key:"getConfiguration",value:function(){var e=Zi(gi().mark((function e(){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Xy(Yy.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Jy;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Zi(gi().mark((function n(){var r;return gi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=jI(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function mT(e,t){return yT.apply(this,arguments)}function yT(){return yT=Zi(gi().mark((function e(t,n){var r,i;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),qy("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Zi(gi().mark((function e(t){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,J_(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),yT.apply(this,arguments)}function gT(e,t){return kT.apply(this,arguments)}function kT(){return kT=Zi(gi().mark((function e(t,n){var r,i;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,bT(t);case 3:return r=e.sent,qy("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return OI(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return OI(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),kT.apply(this,arguments)}function bT(e){return wT.apply(this,arguments)}function wT(){return wT=Zi(gi().mark((function e(t){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return qy("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,mT(t,new oT);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),wT.apply(this,arguments)}function xT(e){return _T.apply(this,arguments)}function _T(){return _T=Zi(gi().mark((function e(t){return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return qy("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,gT(t,new cT);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),_T.apply(this,arguments)}function ST(e){return bT(e).then((function(e){return e.persistence}))}function IT(e){return bT(e).then((function(e){return e.localStore}))}function ET(e){return xT(e).then((function(e){return e.remoteStore}))}function TT(e){return xT(e).then((function(e){return e.syncEngine}))}function CT(e){return AT.apply(this,arguments)}function AT(){return AT=Zi(gi().mark((function e(t){var n,r;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xT(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=lE.bind(null,n.syncEngine),r.onUnlisten=pE.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),AT.apply(this,arguments)}function RT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Jy;return e.asyncQueue.enqueueAndForget(Zi(gi().mark((function i(){return gi().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new fT({next:function(a){t.enqueueAndForget((function(){return $I(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Xy(Yy.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Xy(Yy.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new ZI(Mk(n.path),a,{includeMetadataChanges:!0,Du:!0});return GI(e,o)},i.next=3,CT(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function NT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Jy;return e.asyncQueue.enqueueAndForget(Zi(gi().mark((function i(){return gi().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new fT({next:function(n){t.enqueueAndForget((function(){return $I(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Xy(Yy.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new ZI(n,a,{includeMetadataChanges:!0,Du:!0});return GI(e,o)},i.next=3,CT(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var PT=new Map;function OT(e,t,n){if(!n)throw new Xy(Yy.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function DT(e,t,n,r){if(!0===t&&!0===r)throw new Xy(Yy.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function LT(e){if(!Mg.isDocumentKey(e))throw new Xy(Yy.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function MT(e){if(Mg.isDocumentKey(e))throw new Xy(Yy.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function FT(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Hy()}function UT(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Xy(Yy.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=FT(e);throw new Xy(Yy.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function VT(e,t){if(t<=0)throw new Xy(Yy.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var jT=function(){function e(t){var n;if(ri(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Xy(Yy.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Xy(Yy.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,DT("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return ai(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),zT=function(){function e(t,n,r){ri(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jT({}),this._settingsFrozen=!1,t instanceof Pg?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Xy(Yy.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pg(e.options.projectId)}(t))}return ai(e,[{key:"app",get:function(){if(!this._app)throw new Xy(Yy.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Xy(Yy.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jT(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new eg;switch(e.type){case"gapi":var t=e.client;return $y(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new ig(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Xy(Yy.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=PT.get(e);t&&(qy("ComponentProvider","Removing Datastore"),PT.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function BT(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=UT(e,zT))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Ky("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Vy.MOCK_USER;else{o=Ii(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Xy(Yy.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Vy(s)}e._authCredentials=new tg(new Zy(o,u))}}var qT=function(){function e(t,n,r){ri(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return ai(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new KT(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),WT=function(){function e(t,n,r){ri(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return ai(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),KT=function(e){ci(n,e);var t=pi(n);function n(e,r,i){var a;return ri(this,n),(a=t.call(this,e,r,Mk(i)))._path=i,a.type="collection",a}return ai(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new qT(this.firestore,null,new Mg(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(WT);function GT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Gi(e),OT("collection","path",t),e instanceof zT){var a=kg.fromString.apply(kg,[t].concat(r));return MT(a),new KT(e,null,a)}if(!(e instanceof qT||e instanceof KT))throw new Xy(Yy.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(kg.fromString.apply(kg,[t].concat(r)));return MT(o),new KT(e.firestore,null,o)}function HT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Gi(e),1===arguments.length&&(t=cg.R()),OT("doc","path",t),e instanceof zT){var a=kg.fromString.apply(kg,[t].concat(r));return LT(a),new qT(e,null,new Mg(a))}if(!(e instanceof qT||e instanceof KT))throw new Xy(Yy.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(kg.fromString.apply(kg,[t].concat(r)));return LT(o),new qT(e.firestore,e instanceof KT?e.converter:null,new Mg(o))}function $T(e,t){return e=Gi(e),t=Gi(t),(e instanceof qT||e instanceof KT)&&(t instanceof qT||t instanceof KT)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function QT(e,t){return e=Gi(e),t=Gi(t),e instanceof WT&&t instanceof WT&&e.firestore===t.firestore&&Kk(e._query,t._query)&&e.converter===t.converter}var YT=function(){function e(){var t=this;ri(this,e),this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new KS(this,"async_queue_retry"),this.Ua=function(){var e=qS();e&&qy("AsyncQueue","Visibility state changed to "+e.visibilityState),t.So.Eo()};var n=qS();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ua)}return ai(e,[{key:"isShuttingDown",get:function(){return this.Ma}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.qa(),this.Ga(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Ma){this.Ma=!0,this.Ba=e||!1;var t=qS();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ua)}}},{key:"enqueue",value:function(e){var t=this;if(this.qa(),this.Ma)return new Promise((function(){}));var n=new Jy;return this.Ga((function(){return t.Ma&&t.Ba?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.ka.push(e),t.Ka()}))}},{key:"Ka",value:function(){var e=Zi(gi().mark((function e(){var t=this;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.ka.length){e.next=14;break}return e.prev=1,e.next=4,this.ka[0]();case 4:this.ka.shift(),this.So.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),gx(e.t0)){e.next=12;break}throw e.t0;case 12:qy("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.ka.length>0&&this.So.Io((function(){return t.Ka()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Ga",value:function(e){var t=this,n=this.Na.then((function(){return t.$a=!0,e().catch((function(e){t.Fa=e,t.$a=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Wy("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.$a=!1,e}))}));return this.Na=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.qa(),this.La.indexOf(e)>-1&&(t=0);var i=VI.createAndSchedule(this,e,t,n,(function(e){return r.Qa(e)}));return this.Oa.push(i),i}},{key:"qa",value:function(){this.Fa&&Hy()}},{key:"verifyOperationInProgress",value:function(){}},{key:"ja",value:function(){var e=Zi(gi().mark((function e(){var t;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Na,e.next=3,t;case 3:if(t!==this.Na){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Wa",value:function(e){var t,n=oi(this.Oa);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"za",value:function(e){var t=this;return this.ja().then((function(){t.Oa.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=oi(t.Oa);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.ja()}))}},{key:"Ha",value:function(e){this.La.push(e)}},{key:"Qa",value:function(e){var t=this.Oa.indexOf(e);this.Oa.splice(t,1)}}]),e}();function XT(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=oi(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var JT=function(){function e(){ri(this,e),this._progressObserver={},this._taskCompletionResolver=new Jy,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return ai(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),ZT=function(e){ci(n,e);var t=pi(n);function n(e,r,i){var a;return ri(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new YT,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return ai(n,[{key:"_terminate",value:function(){return this._firestoreClient||tC(this),this._firestoreClient.terminate()}}]),n}(zT);function eC(e){return e._firestoreClient||tC(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function tC(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Ng(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new vT(e._authCredentials,e._appCheckCredentials,e._queue,r)}function nC(e,t,n){var r=new Jy;return e.asyncQueue.enqueue(Zi(gi().mark((function i(){return gi().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,mT(e,n);case 3:return i.next=5,gT(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Yy.FAILED_PRECONDITION||e.code===Yy.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function rC(e){return function(e){return e.asyncQueue.enqueue(Zi(gi().mark((function t(){var n,r;return gi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ST(e);case 2:return n=t.sent,t.next=5,ET(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Qy(e);return t.lu.delete(0),JS(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(eC(e=UT(e,ZT)))}function iC(e){return function(e){return e.asyncQueue.enqueue(Zi(gi().mark((function t(){var n,r;return gi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ST(e);case 2:return n=t.sent,t.next=5,ET(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Zi(gi().mark((function e(t){var n;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Qy(t)).lu.add(0),e.next=4,eI(n);case 4:n._u.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(eC(e=UT(e,ZT)))}function aC(e,t){var n=eC(e=UT(e,ZT)),r=new JT;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new hT(e,t)}(function(e,t){if(e instanceof Uint8Array)return lT(e,t);if(e instanceof ArrayBuffer)return lT(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,WS(t));e.asyncQueue.enqueueAndForget(Zi(gi().mark((function t(){return gi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=aT,t.next=3,TT(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function oC(e,t){return function(e,t){return e.asyncQueue.enqueue(Zi(gi().mark((function n(){return gi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Qy(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.ds.getNamedQuery(e,t)}))},n.next=3,IT(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(eC(e=UT(e,ZT)),t).then((function(t){return t?new WT(e,null,t.query):null}))}function uC(e){if(e._initialized||e._terminated)throw new Xy(Yy.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var sC=function(){function e(){ri(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Xy(Yy.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wg(n)}return ai(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var cC=function(){function e(t){ri(this,e),this._byteString=t}return ai(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(_g.fromBase64String(t))}catch(t){throw new Xy(Yy.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(_g.fromUint8Array(t))}}]),e}(),lC=ai((function e(t){ri(this,e),this._methodName=t})),fC=function(){function e(t,n){if(ri(this,e),!isFinite(t)||t<-90||t>90)throw new Xy(Yy.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Xy(Yy.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return ai(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return lg(this._lat,e._lat)||lg(this._long,e._long)}}]),e}(),hC=/^__.*__$/,dC=function(){function e(t,n,r){ri(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return ai(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Sb(e,this.data,this.fieldMask,t,this.fieldTransforms):new _b(e,this.data,t,this.fieldTransforms)}}]),e}(),pC=function(){function e(t,n,r){ri(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return ai(e,[{key:"toMutation",value:function(e,t){return new Sb(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function vC(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Hy()}}var mC=function(){function e(t,n,r,i,a,o){ri(this,e),this.settings=t,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Ja(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return ai(e,[{key:"path",get:function(){return this.settings.path}},{key:"Ya",get:function(){return this.settings.Ya}},{key:"Xa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Za",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Xa({path:n,tc:!1});return r.ec(e),r}},{key:"nc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Xa({path:n,tc:!1});return r.Ja(),r}},{key:"sc",value:function(e){return this.Xa({path:void 0,tc:!0})}},{key:"ic",value:function(e){return MC(e,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Ja",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ec(this.path.get(e))}},{key:"ec",value:function(e){if(0===e.length)throw this.ic("Document fields must not be empty");if(vC(this.Ya)&&hC.test(e))throw this.ic('Document fields cannot begin and end with "__"')}}]),e}(),yC=function(){function e(t,n,r){ri(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=r||WS(t)}return ai(e,[{key:"uc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new mC({Ya:e,methodName:t,oc:n,path:wg.emptyPath(),tc:!1,rc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),e}();function gC(e){var t=e._freezeSettings(),n=WS(e._databaseId);return new yC(e._databaseId,!!t.ignoreUndefinedProperties,n)}function kC(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.uc(a.merge||a.mergeFields?2:0,t,n,i);PC("Data must be an object, but it was:",o,r);var u,s,c=RC(r,o);if(a.merge)u=new xg(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=oi(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=OC(t,d,n);if(!o.contains(p))throw new Xy(Yy.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));FC(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new xg(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new dC(new nk(c),u,s)}var bC=function(e){ci(n,e);var t=pi(n);function n(){return ri(this,n),t.apply(this,arguments)}return ai(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Ya)throw 1===e.Ya?e.ic("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ic("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(lC);function wC(e,t,n){return new mC({Ya:3,oc:t.settings.oc,methodName:e._methodName,tc:n},t.databaseId,t.M,t.ignoreUndefinedProperties)}var xC=function(e){ci(n,e);var t=pi(n);function n(){return ri(this,n),t.apply(this,arguments)}return ai(n,[{key:"_toFieldTransform",value:function(e){return new db(e.path,new ab)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(lC),_C=function(e){ci(n,e);var t=pi(n);function n(e,r){var i;return ri(this,n),(i=t.call(this,e)).ac=r,i}return ai(n,[{key:"_toFieldTransform",value:function(e){var t=wC(this,e,!0),n=this.ac.map((function(e){return AC(e,t)})),r=new ob(n);return new db(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(lC),SC=function(e){ci(n,e);var t=pi(n);function n(e,r){var i;return ri(this,n),(i=t.call(this,e)).ac=r,i}return ai(n,[{key:"_toFieldTransform",value:function(e){var t=wC(this,e,!0),n=this.ac.map((function(e){return AC(e,t)})),r=new sb(n);return new db(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(lC),IC=function(e){ci(n,e);var t=pi(n);function n(e,r){var i;return ri(this,n),(i=t.call(this,e)).cc=r,i}return ai(n,[{key:"_toFieldTransform",value:function(e){var t=new lb(e.M,eb(e.M,this.cc));return new db(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(lC);function EC(e,t,n,r){var i=e.uc(1,t,n);PC("Data must be an object, but it was:",i,r);var a=[],o=nk.empty();mg(r,(function(e,r){var u=LC(t,e,n);r=Gi(r);var s=i.nc(u);if(r instanceof bC)a.push(u);else{var c=AC(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new xg(a);return new pC(o,u,i.fieldTransforms)}function TC(e,t,n,r,i,a){var o=e.uc(1,t,n),u=[OC(t,r,n)],s=[i];if(a.length%2!=0)throw new Xy(Yy.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(OC(t,a[c])),s.push(a[c+1]);for(var l=[],f=nk.empty(),h=u.length-1;h>=0;--h)if(!FC(l,u[h])){var d=u[h],p=s[h];p=Gi(p);var v=o.nc(d);if(p instanceof bC)l.push(d);else{var m=AC(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new xg(l);return new pC(f,y,o.fieldTransforms)}function CC(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return AC(n,e.uc(r?4:3,t))}function AC(e,t){if(NC(e=Gi(e)))return PC("Unsupported field value:",t,e),RC(e,t);if(e instanceof lC)return function(e,t){if(!vC(t.Ya))throw t.ic("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ic("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.tc&&4!==t.Ya)throw t.ic("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=oi(e);try{for(a.s();!(n=a.n()).done;){var o=AC(n.value,t.sc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Gi(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return eb(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=dg.fromDate(e);return{timestampValue:lw(t.M,n)}}if(e instanceof dg){var r=new dg(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:lw(t.M,r)}}if(e instanceof fC)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof cC)return{bytesValue:fw(t.M,e._byteString)};if(e instanceof qT){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ic("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:pw(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ic("Unsupported field value: ".concat(FT(e)))}(e,t)}function RC(e,t){var n={};return yg(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):mg(e,(function(e,r){var i=AC(r,t.Za(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function NC(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof dg||e instanceof fC||e instanceof cC||e instanceof qT||e instanceof lC)}function PC(e,t,n){if(!NC(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=FT(n);throw"an object"===r?t.ic(e+" a custom object"):t.ic(e+" "+r)}}function OC(e,t,n){if((t=Gi(t))instanceof sC)return t._internalPath;if("string"==typeof t)return LC(e,t);throw MC("Field path arguments must be of type string or ",e,!1,void 0,n)}var DC=new RegExp("[~\\*/\\[\\]]");function LC(e,t,n){if(t.search(DC)>=0)throw MC("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return vi(sC,b(t.split(".")))._internalPath}catch(r){throw MC("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function MC(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Xy(Yy.INVALID_ARGUMENT,u+e+s)}function FC(e,t){return e.some((function(e){return e.isEqual(t)}))}var UC=function(){function e(t,n,r,i,a){ri(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return ai(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new qT(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new VC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(jC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),VC=function(e){ci(n,e);var t=pi(n);function n(){return ri(this,n),t.apply(this,arguments)}return ai(n,[{key:"data",value:function(){return lo(li(n.prototype),"data",this).call(this)}}]),n}(UC);function jC(e,t){return"string"==typeof t?LC(e,t):t instanceof sC?t._internalPath:t._delegate._internalPath}var zC=function(){function e(t,n){ri(this,e),this.hasPendingWrites=t,this.fromCache=n}return ai(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),BC=function(e){ci(n,e);var t=pi(n);function n(e,r,i,a,o,u){var s;return ri(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return ai(n,[{key:"exists",value:function(){return lo(li(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new qC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(jC("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(UC),qC=function(e){ci(n,e);var t=pi(n);function n(){return ri(this,n),t.apply(this,arguments)}return ai(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return lo(li(n.prototype),"data",this).call(this,e)}}]),n}(BC),WC=function(){function e(t,n,r,i){ri(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new zC(i.hasPendingWrites,i.fromCache),this.query=r}return ai(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new qC(n._firestore,n._userDataWriter,r.key,r,new zC(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Xy(Yy.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new qC(e._firestore,e._userDataWriter,t.doc.key,t.doc,new zC(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new qC(e._firestore,e._userDataWriter,t.doc.key,t.doc,new zC(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:KC(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function KC(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Hy()}}function GC(e,t){return e instanceof BC&&t instanceof BC?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof WC&&t instanceof WC&&e._firestore===t._firestore&&QT(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function HC(e){if(Uk(e)&&0===e.explicitOrderBy.length)throw new Xy(Yy.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var $C=ai((function e(){ri(this,e)}));function QC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var YC=function(e){ci(n,e);var t=pi(n);function n(e,r,i){var a;return ri(this,n),(a=t.call(this)).hc=e,a.lc=r,a.fc=i,a.type="where",a}return ai(n,[{key:"_apply",value:function(e){var t=gC(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Xy(Yy.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){uA(o,a);var s,c=[],l=oi(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(oA(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=oA(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||uA(o,a),u=CC(n,"where",o,"in"===a||"not-in"===a);var h=bk.create(i,a,u);return function(e,t){if(t.S()){var n=jk(e);if(null!==n&&!n.isEqual(t.field))throw new Xy(Yy.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Vk(e);null!==r&&sA(e,t.field,r)}var i=function(e,t){var n,r=oi(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Xy(Yy.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Xy(Yy.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.hc,this.lc,this.fc);return new WT(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Dk(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}($C);var XC=function(e){ci(n,e);var t=pi(n);function n(e,r){var i;return ri(this,n),(i=t.call(this)).hc=e,i.dc=r,i.type="orderBy",i}return ai(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Xy(Yy.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Xy(Yy.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Rk(t,n);return function(e,t){if(null===Vk(e)){var n=jk(e);null!==n&&sA(e,n,t.field)}}(e,r),r}(e._query,this.hc,this.dc);return new WT(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Dk(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}($C);var JC=function(e){ci(n,e);var t=pi(n);function n(e,r,i){var a;return ri(this,n),(a=t.call(this)).type=e,a._c=r,a.wc=i,a}return ai(n,[{key:"_apply",value:function(e){return new WT(e.firestore,e.converter,Wk(e._query,this._c,this.wc))}}]),n}($C);var ZC=function(e){ci(n,e);var t=pi(n);function n(e,r,i){var a;return ri(this,n),(a=t.call(this)).type=e,a.mc=r,a.gc=i,a}return ai(n,[{key:"_apply",value:function(e){var t=aA(e,this.type,this.mc,this.gc);return new WT(e.firestore,e.converter,function(e,t){return new Dk(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}($C);function eA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ZC("startAt",t,!0)}function tA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ZC("startAfter",t,!1)}var nA=function(e){ci(n,e);var t=pi(n);function n(e,r,i){var a;return ri(this,n),(a=t.call(this)).type=e,a.mc=r,a.gc=i,a}return ai(n,[{key:"_apply",value:function(e){var t=aA(e,this.type,this.mc,this.gc);return new WT(e.firestore,e.converter,function(e,t){return new Dk(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}($C);function rA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new nA("endBefore",t,!1)}function iA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new nA("endAt",t,!0)}function aA(e,t,n,r){if(n[0]=Gi(n[0]),n[0]instanceof UC)return function(e,t,n,r,i){if(!r)throw new Xy(Yy.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=oi(Bk(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Gg(t,r.key));else{var c=r.data.field(s.field);if(Cg(c))throw new Xy(Yy.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Xy(Yy.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Ak(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=gC(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Xy(Yy.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Xy(Yy.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!zk(e)&&-1!==c.indexOf("/"))throw new Xy(Yy.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(kg.fromString(c));if(!Mg.isDocumentKey(l))throw new Xy(Yy.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Mg(l);u.push(Gg(t,f))}else{var h=CC(n,r,c);u.push(h)}}return new Ak(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function oA(e,t,n){if("string"==typeof(n=Gi(n))){if(""===n)throw new Xy(Yy.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zk(t)&&-1!==n.indexOf("/"))throw new Xy(Yy.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(kg.fromString(n));if(!Mg.isDocumentKey(r))throw new Xy(Yy.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Gg(e,new Mg(r))}if(n instanceof qT)return Gg(e,n._key);throw new Xy(Yy.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(FT(n),"."))}function uA(e,t){if(!Array.isArray(e)||0===e.length)throw new Xy(Yy.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Xy(Yy.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function sA(e,t,n){if(!n.isEqual(t))throw new Xy(Yy.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var cA=function(){function e(){ri(this,e)}return ai(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Vg(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Eg(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Tg(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Hy()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return mg(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new fC(Eg(e.latitude),Eg(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Ag(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Rg(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Ig(e);return new dg(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=kg.fromString(e);$y(Uw(n));var r=new Pg(n.get(1),n.get(3)),i=new Mg(n.popFirst(5));return r.isEqual(t)||Wy("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function lA(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var fA=function(e){ci(n,e);var t=pi(n);function n(e){var r;return ri(this,n),(r=t.call(this)).firestore=e,r}return ai(n,[{key:"convertBytes",value:function(e){return new cC(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new qT(this.firestore,null,t)}}]),n}(cA),hA=function(){function e(t,n){ri(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=gC(t)}return ai(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=dA(e,this._firestore),i=lA(r.converter,t,n),a=kC(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,vb.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=dA(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Gi(t))||t instanceof sC?TC(this._dataReader,"WriteBatch.update",i._key,t,n,o):EC(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,vb.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=dA(e,this._firestore);return this._mutations=this._mutations.concat(new Rb(t._key,vb.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Xy(Yy.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function dA(e,t){if((e=Gi(e)).firestore!==t)throw new Xy(Yy.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var pA=function(e){ci(n,e);var t=pi(n);function n(e){var r;return ri(this,n),(r=t.call(this)).firestore=e,r}return ai(n,[{key:"convertBytes",value:function(e){return new cC(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new qT(this.firestore,null,t)}}]),n}(cA);function vA(e){e=UT(e,qT);var t=UT(e.firestore,ZT),n=eC(t),r=new pA(t);return function(e,t){var n=new Jy;return e.asyncQueue.enqueueAndForget(Zi(gi().mark((function r(){return gi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Zi(gi().mark((function e(t,n,r){var i,a;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Qy(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.ai.Bs(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Xy(Yy.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=jI(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,IT(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new BC(t,r,e._key,n,new zC(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function mA(e){e=UT(e,WT);var t=UT(e.firestore,ZT),n=eC(t),r=new pA(t);return function(e,t){var n=new Jy;return e.asyncQueue.enqueueAndForget(Zi(gi().mark((function r(){return gi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Zi(gi().mark((function e(t,n,r){var i,a,o,u,s;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,sS(t,n,!0);case 3:i=e.sent,a=new oE(n,i.hi),o=a.Gu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=jI(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,IT(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new WC(t,r,e,n)}))}function yA(e,t,n){e=UT(e,qT);var r=UT(e.firestore,ZT),i=lA(e.converter,t,n);return wA(r,[kC(gC(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,vb.none())])}function gA(e,t,n){e=UT(e,qT);for(var r=UT(e.firestore,ZT),i=gC(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return wA(r,[("string"==typeof(t=Gi(t))||t instanceof sC?TC(i,"updateDoc",e._key,t,n,o):EC(i,"updateDoc",e._key,t)).toMutation(e._key,vb.exists(!0))])}function kA(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Gi(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||XT(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(XT(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof qT)l=UT(e.firestore,ZT),f=Mk(e._key.path),c={next:function(t){n[s]&&n[s](xA(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=UT(e,WT);l=UT(p.firestore,ZT),f=p._query;var v=new pA(l);c={next:function(e){n[s]&&n[s](new WC(l,v,p,e))},error:n[s+1],complete:n[s+2]},HC(e._query)}return function(e,t,n,r){var i=new fT(r),a=new ZI(t,i,n);return e.asyncQueue.enqueueAndForget(Zi(gi().mark((function t(){return gi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=GI,t.next=3,CT(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.pa(),e.asyncQueue.enqueueAndForget(Zi(gi().mark((function t(){return gi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=$I,t.next=3,CT(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(eC(l),f,h,c)}function bA(e,t){return function(e,t){var n=new fT(t);return e.asyncQueue.enqueueAndForget(Zi(gi().mark((function t(){return gi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Qy(e).Tu.add(t),t.next()},t.next=3,CT(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.pa(),e.asyncQueue.enqueueAndForget(Zi(gi().mark((function t(){return gi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Qy(e).Tu.delete(t)},t.next=3,CT(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(eC(e=UT(e,ZT)),XT(t)?t:{next:t})}function wA(e,t){return function(e,t){var n=new Jy;return e.asyncQueue.enqueueAndForget(Zi(gi().mark((function r(){return gi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=mE,r.next=3,TT(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(eC(e),t)}function xA(e,t,n){var r=n.docs.get(t._key),i=new pA(e);return new BC(e,i,t._key,r,new zC(n.hasPendingWrites,n.fromCache),t.converter)}var _A=function(e){ci(n,e);var t=pi(n);function n(e,r){var i;return ri(this,n),(i=t.call(this,e,r))._firestore=e,i}return ai(n,[{key:"get",value:function(e){var t=this,r=dA(e,this._firestore),i=new pA(this._firestore);return lo(li(n.prototype),"get",this).call(this,e).then((function(e){return new BC(t._firestore,i,r._key,e._document,new zC(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){ri(this,e),this._firestore=t,this._transaction=n,this._dataReader=gC(t)}return ai(e,[{key:"get",value:function(e){var t=this,n=dA(e,this._firestore),r=new fA(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Hy();var i=e[0];if(i.isFoundDocument())return new UC(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new UC(t._firestore,r,n._key,null,n.converter);throw Hy()}))}},{key:"set",value:function(e,t,n){var r=dA(e,this._firestore),i=lA(r.converter,t,n),a=kC(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=dA(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Gi(t))||t instanceof sC?TC(this._dataReader,"Transaction.update",i._key,t,n,o):EC(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=dA(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function SA(e,t){return function(e,t){var n=new Jy;return e.asyncQueue.enqueueAndForget(Zi(gi().mark((function r(){var i;return gi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return xT(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new pT(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(eC(e=UT(e,ZT)),(function(n){return t(new _A(e,n))}))}function IA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new _C("arrayUnion",t)}function EA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new SC("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){jy=e}(Pa),Ia(new ea("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new ZT(i,new ng(e.getProvider("auth-internal")),new og(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Ua(Uy,"3.4.7",e),Ua(Uy,"3.4.7","esm2017")}();function TA(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Xy("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function CA(){if("undefined"===typeof Uint8Array)throw new Xy("unimplemented","Uint8Arrays are not available in this environment.")}function AA(){if("undefined"==typeof atob)throw new Xy("unimplemented","Blobs are unavailable in Firestore in this environment.")}var RA=function(){function e(t){ri(this,e),this._delegate=t}return ai(e,[{key:"toBase64",value:function(){return AA(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return CA(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return AA(),new e(cC.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return CA(),new e(cC.fromUint8Array(t))}}]),e}();function NA(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=oi(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var PA=function(){function e(){ri(this,e)}return ai(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){uC(e=UT(e,ZT));var n=eC(e),r=e._freezeSettings(),i=new cT;return nC(n,i,new uT(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){uC(e=UT(e,ZT));var t=eC(e),n=e._freezeSettings(),r=new cT;return nC(t,r,new sT(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Xy(Yy.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Jy;return e._queue.enqueueAndForgetEvenWhileRestricted(Zi(gi().mark((function n(){return gi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Zi(gi().mark((function e(t){var n;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(vx.vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,vx.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(G_(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),OA=function(){function e(t,n,r){var i=this;ri(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Pg||(this._appCompat=t)}return ai(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Ky("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};BT(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return rC(this._delegate)}},{key:"disableNetwork",value:function(){return iC(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&DT("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Jy;return e.asyncQueue.enqueueAndForget(Zi(gi().mark((function n(){return gi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=TE,n.next=3,TT(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(eC(e=UT(e,ZT)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return bA(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Xy("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new HA(this,GT(this._delegate,e))}catch(t){throw VA(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new UA(this,HT(this._delegate,e))}catch(t){throw VA(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new WA(this,function(e,t){if(e=UT(e,zT),OT("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Xy(Yy.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new WT(e,null,function(e){return new Dk(kg.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw VA(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return SA(this._delegate,(function(n){return e(new LA(t,n))}))}},{key:"batch",value:function(){var e=this;return eC(this._delegate),new MA(new hA(this._delegate,(function(t){return wA(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return aC(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return oC(this._delegate,e).then((function(e){return e?new WA(t,e):null}))}}]),e}(),DA=function(e){ci(n,e);var t=pi(n);function n(e){var r;return ri(this,n),(r=t.call(this)).firestore=e,r}return ai(n,[{key:"convertBytes",value:function(e){return new RA(new cC(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return UA.forKey(t,this.firestore,null)}}]),n}(cA);var LA=function(){function e(t,n){ri(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new DA(t)}return ai(e,[{key:"get",value:function(e){var t=this,n=$A(e);return this._delegate.get(n).then((function(e){return new BA(t._firestore,new BC(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=$A(e);return n?(TA("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=$A(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=$A(e);return this._delegate.delete(t),this}}]),e}(),MA=function(){function e(t){ri(this,e),this._delegate=t}return ai(e,[{key:"set",value:function(e,t,n){var r=$A(e);return n?(TA("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=$A(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=$A(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),FA=function(){function e(t,n,r){ri(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return ai(e,[{key:"fromFirestore",value:function(e,t){var n=new qC(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new qA(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new DA(t),n),i.set(n,a)),a}}]),e}();FA.INSTANCES=new WeakMap;var UA=function(){function e(t,n){ri(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new DA(t)}return ai(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new HA(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new HA(this.firestore,GT(this._delegate,e))}catch(t){throw VA(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Gi(e))instanceof qT&&$T(this._delegate,e)}},{key:"set",value:function(e,t){t=TA("DocumentReference.set",t);try{return t?yA(this._delegate,e,t):yA(this._delegate,e)}catch(n){throw VA(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?gA(this._delegate,e):gA.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw VA(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return wA(UT(e.firestore,ZT),[new Rb(e._key,vb.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=jA(n),a=zA(n,(function(t){return new BA(e.firestore,new BC(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return kA(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?vA(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=UT(e,qT);var t=UT(e.firestore,ZT);return RT(eC(t),e._key,{source:"server"}).then((function(n){return xA(t,e,n)}))}(this._delegate):function(e){e=UT(e,qT);var t=UT(e.firestore,ZT);return RT(eC(t),e._key).then((function(n){return xA(t,e,n)}))}(this._delegate),t.then((function(e){return new BA(n.firestore,new BC(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(FA.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Xy("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new qT(n._delegate,r,new Mg(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new qT(n._delegate,r,t))}}]),e}();function VA(e,t,n){return e.message=e.message.replace(t,n),e}function jA(e){var t,n=oi(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!NA(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function zA(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=NA(e[0])?e[0]:NA(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var BA=function(){function e(t,n){ri(this,e),this._firestore=t,this._delegate=n}return ai(e,[{key:"ref",get:function(){return new UA(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return GC(this._delegate,e._delegate)}}]),e}(),qA=function(e){ci(n,e);var t=pi(n);function n(){return ri(this,n),t.apply(this,arguments)}return ai(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Hy()}(void 0!==t),t}}]),n}(BA),WA=function(){function e(t,n){ri(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new DA(t)}return ai(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,QC(this._delegate,function(e,t,n){var r=t,i=jC("where",e);return new YC(i,r,n)}(t,n,r)))}catch(i){throw VA(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,QC(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=jC("orderBy",e);return new XC(n,t)}(t,n)))}catch(r){throw VA(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,QC(this._delegate,function(e){return VT("limit",e),new JC("limit",e,"F")}(t)))}catch(n){throw VA(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,QC(this._delegate,function(e){return VT("limitToLast",e),new JC("limitToLast",e,"L")}(t)))}catch(n){throw VA(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,QC(this._delegate,eA.apply(void 0,arguments)))}catch(t){throw VA(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,QC(this._delegate,tA.apply(void 0,arguments)))}catch(t){throw VA(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,QC(this._delegate,rA.apply(void 0,arguments)))}catch(t){throw VA(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,QC(this._delegate,iA.apply(void 0,arguments)))}catch(t){throw VA(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return QT(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?mA(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=UT(e,WT);var t=UT(e.firestore,ZT),n=eC(t),r=new pA(t);return NT(n,e._query,{source:"server"}).then((function(n){return new WC(t,r,e,n)}))}(this._delegate):function(e){e=UT(e,WT);var t=UT(e.firestore,ZT),n=eC(t),r=new pA(t);return HC(e._query),NT(n,e._query).then((function(n){return new WC(t,r,e,n)}))}(this._delegate),t.then((function(e){return new GA(n.firestore,new WC(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=jA(n),a=zA(n,(function(t){return new GA(e.firestore,new WC(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return kA(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(FA.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),KA=function(){function e(t,n){ri(this,e),this._firestore=t,this._delegate=n}return ai(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new qA(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),GA=function(){function e(t,n){ri(this,e),this._firestore=t,this._delegate=n}return ai(e,[{key:"query",get:function(){return new WA(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new qA(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new KA(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new qA(n._firestore,r))}))}},{key:"isEqual",value:function(e){return GC(this._delegate,e._delegate)}}]),e}(),HA=function(e){ci(n,e);var t=pi(n);function n(e,r){var i;return ri(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return ai(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new UA(this.firestore,e):null}},{key:"doc",value:function(e){try{return new UA(this.firestore,void 0===e?HT(this._delegate):HT(this._delegate,e))}catch(t){throw VA(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=UT(e.firestore,ZT),r=HT(e),i=lA(e.converter,t);return wA(n,[kC(gC(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,vb.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new UA(t.firestore,e)}))}},{key:"isEqual",value:function(e){return $T(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(FA.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(WA);function $A(e){return UT(e,qT)}var QA=function(){function e(){ri(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=vi(sC,n)}return ai(e,[{key:"isEqual",value:function(e){return(e=Gi(e))instanceof sC&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(wg.keyField().canonicalString())}}]),e}(),YA=function(){function e(t){ri(this,e),this._delegate=t}return ai(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new xC("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new bC("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=IA.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=EA.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new IC("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),XA={Firestore:OA,GeoPoint:fC,Timestamp:dg,Blob:RA,Transaction:LA,WriteBatch:MA,DocumentReference:UA,DocumentSnapshot:BA,Query:WA,QueryDocumentSnapshot:qA,QuerySnapshot:GA,CollectionReference:HA,FieldPath:QA,FieldValue:YA,setLogLevel:function(e){!function(e){zy.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new ea("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},XA)))}(e,(function(e,t){return new OA(e,t,new PA)})),e.registerVersion("@firebase/firestore-compat","0.1.16")}(so);var JA="firebasestorage.googleapis.com",ZA=function(e){ci(n,e);var t=pi(n);function n(e,r){var i;return ri(this,n),(i=t.call(this,eR(e),"Firebase Storage: ".concat(r," (").concat(eR(e),")"))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(ui(i),n.prototype),i}return ai(n,[{key:"_codeEquals",value:function(e){return eR(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(Oi);function eR(e){return"storage/"+e}function tR(){return new ZA("unknown","An unknown error occurred, please check the error payload for server response.")}function nR(){return new ZA("canceled","User canceled the upload/download.")}function rR(){return new ZA("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function iR(e){return new ZA("invalid-argument",e)}function aR(){return new ZA("app-deleted","The Firebase app was deleted.")}function oR(e){return new ZA("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function uR(e,t){return new ZA("invalid-format","String does not match format '"+e+"': "+t)}function sR(e){throw new ZA("internal-error","Internal error: "+e)}var cR,lR=function(){function e(t,n){ri(this,e),this.bucket=t,this.path_=n}return ai(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new ZA("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var u=n.replace(/[.]/g,"\\."),s=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(u,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===JA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<s.length;c++){var l=s[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new ZA("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),fR=function(){function e(t){ri(this,e),this.promise_=Promise.reject(t)}return ai(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function hR(e){return"string"===typeof e||e instanceof String}function dR(e){return pR()&&e instanceof Blob}function pR(){return"undefined"!==typeof Blob}function vR(e,t,n,r){if(r<t)throw iR("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw iR("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function mR(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function yR(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(cR||(cR={}));var gR=function(){function e(t,n,r,i,a,o,u,s,c,l,f){var h=this;ri(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=s,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return ai(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(s){i(s)}else if(null!==a){var u=tR();u.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,u)):i(u)}else{if(n.canceled)i(e.appDelete_?aR():nR());else i(new ZA("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new kR(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,u=0;function s(){return 2===u}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,s())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(s()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===u?(u=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(u=2),clearTimeout(i),f(0)):e||(u=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new kR(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===cR.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new kR(o,r))}else{var u=r.getErrorCode()===cR.ABORT;t(!1,new kR(!1,null,u))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),kR=ai((function e(t,n,r){ri(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function bR(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function wR(){for(var e=bR(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(pR())return new Blob(n);throw new ZA("unsupported-environment","This browser doesn't seem to support creating Blobs")}var xR={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},_R=ai((function e(t,n){ri(this,e),this.data=t,this.contentType=n||null}));function SR(e,t){switch(e){case xR.RAW:return new _R(IR(t));case xR.BASE64:case xR.BASE64URL:return new _R(ER(e,t));case xR.DATA_URL:return new _R(function(e){var t=new TR(e);return t.base64?ER(xR.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw uR(xR.DATA_URL,"Malformed data URL.")}return IR(t)}(t.rest)}(t),new TR(t).contentType)}throw tR()}function IR(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function ER(e,t){switch(e){case xR.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw uR(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case xR.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw uR(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(t)}catch(c){throw uR(e,"Invalid character found")}for(var u=new Uint8Array(o.length),s=0;s<o.length;s++)u[s]=o.charCodeAt(s);return u}var TR=ai((function e(t){ri(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw uR(xR.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var CR=function(){function e(t,n){ri(this,e);var r=0,i="";dR(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return ai(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(dR(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(pR()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(wR.apply(null,i))}var a=n.map((function(e){return hR(e)?SR(xR.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var u=new Uint8Array(o),s=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)u[s++]=e[t]})),new e(u,!0)}}]),e}();function AR(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function RR(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function NR(e,t){return t}var PR=ai((function e(t,n,r,i){ri(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||NR})),OR=null;function DR(){if(OR)return OR;var e=[];e.push(new PR("bucket")),e.push(new PR("generation")),e.push(new PR("metageneration")),e.push(new PR("name","fullPath",!0));var t=new PR("name");t.xform=function(e,t){return function(e){return!hR(e)||e.length<2?e:RR(e)}(t)},e.push(t);var n=new PR("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new PR("timeCreated")),e.push(new PR("updated")),e.push(new PR("md5Hash",null,!0)),e.push(new PR("cacheControl",null,!0)),e.push(new PR("contentDisposition",null,!0)),e.push(new PR("contentEncoding",null,!0)),e.push(new PR("contentLanguage",null,!0)),e.push(new PR("contentType",null,!0)),e.push(new PR("metadata","customMetadata",!0)),OR=e}function LR(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new lR(n,r);return t._makeStorageReference(i)}})}(r,e),r}function MR(e,t,n){var r=AR(t);return null===r?null:LR(e,r,n)}function FR(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}function UR(e,t,n){var r=AR(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes){var i,a=oi(n.prefixes);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),u=e._makeStorageReference(new lR(t,o));r.prefixes.push(u)}}catch(h){a.e(h)}finally{a.f()}}if(n.items){var s,c=oi(n.items);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=e._makeStorageReference(new lR(t,l.name));r.items.push(f)}}catch(h){c.e(h)}finally{c.f()}}return r}(e,t,r)}var VR=ai((function e(t,n,r,i){ri(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function jR(e){if(!e)throw tR()}function zR(e,t){return function(n,r){var i=MR(e,r,t);return jR(null!==i),i}}function BR(e,t){return function(n,r){var i=MR(e,r,t);return jR(null!==i),function(e,t,n,r){var i=AR(t);if(null===i)return null;if(!hR(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent,u=a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return mR("/b/"+o(i)+"/o/"+o(a),n,r)+yR({alt:"media",token:t})}));return u[0]}(i,r,e.host,e._protocol)}}function qR(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new ZA("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new ZA("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new ZA("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new ZA("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function WR(e){var t=qR(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new ZA("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function KR(e,t,n){var r=mR(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new VR(r,"GET",zR(e,n),i);return a.errorHandler=WR(t),a}function GR(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=mR(t.bucketOnlyServerUrl(),e.host,e._protocol),u=e.maxOperationRetryTime,s=new VR(o,"GET",function(e,t){return function(n,r){var i=UR(e,t,r);return jR(null!==i),i}}(e,t.bucket),u);return s.urlParams=a,s.errorHandler=qR(t),s}function HR(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function $R(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var u=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+u;var s=HR(t,r,i),c="--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+FR(s,n)+"\r\n--"+u+"\r\nContent-Type: "+s.contentType+"\r\n\r\n",l="\r\n--"+u+"--",f=CR.getBlob(c,r,l);if(null===f)throw rR();var h={name:s.fullPath},d=mR(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new VR(d,"POST",zR(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=qR(t),v}var QR=ai((function e(t,n,r,i){ri(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function YR(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){jR(!1)}return jR(!!n&&-1!==(t||["active"]).indexOf(n)),n}var XR=262144;function JR(e,t,n,r,i,a,o,u){var s=new QR(0,0);if(o?(s.current=o.current,s.total=o.total):(s.current=0,s.total=r.size()),r.size()!==s.total)throw new ZA("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=s.total-s.current,l=c;i>0&&(l=Math.min(l,i));var f=s.current,h=f+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(s.current)},p=r.slice(f,h);if(null===p)throw rR();var v=t.maxUploadRetryTime,m=new VR(n,"POST",(function(e,n){var i,o=YR(e,["active","final"]),u=s.current+l,c=r.size();return i="final"===o?zR(t,a)(e,n):null,new QR(u,c,"final"===o,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=u||null,m.errorHandler=qR(e),m}var ZR={STATE_CHANGED:"state_changed"},eN={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function tN(e){switch(e){case"running":case"pausing":case"canceling":return eN.RUNNING;case"paused":return eN.PAUSED;case"success":return eN.SUCCESS;case"canceled":return eN.CANCELED;default:return eN.ERROR}}var nN=ai((function e(t,n,r){ri(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function rN(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var iN=function(){function e(){var t=this;ri(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=cR.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=cR.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=cR.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return ai(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw sR("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw sR("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw sR("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw sR("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw sR("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),aN=function(e){ci(n,e);var t=pi(n);function n(){return ri(this,n),t.apply(this,arguments)}return ai(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(iN);function oN(){return new aN}var uN=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;ri(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=DR(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return ai(e,[{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=h(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=HR(t,r,i),u={name:o.fullPath},s=mR(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=FR(o,n),f=e.maxUploadRetryTime,h=new VR(s,"POST",(function(e){var t;YR(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){jR(!1)}return jR(hR(t)),t}),f);return h.urlParams=u,h.headers=c,h.body=l,h.errorHandler=qR(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,oN,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new VR(n,"POST",(function(e){var t=YR(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){jR(!1)}n||jR(!1);var i=Number(n);return jR(!isNaN(i)),new QR(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=qR(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,oN,n,r);e._request=a,a.getPromise().then((function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=XR*this._chunkMultiplier,n=new QR(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=JR(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(s){return e._error=s,void e._transition("error")}var u=e._ref.storage._makeRequest(o,oN,i,a);e._request=u,u.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){XR*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=KR(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,oN,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=$R(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,oN,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=nR(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=tN(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new nN(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(tN(this._state)){case eN.SUCCESS:rN(this._resolve.bind(null,this.snapshot))();break;case eN.CANCELED:case eN.ERROR:rN(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(tN(this._state)){case eN.RUNNING:case eN.PAUSED:e.next&&rN(e.next.bind(e,this.snapshot))();break;case eN.SUCCESS:e.complete&&rN(e.complete.bind(e))();break;default:e.error&&rN(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),sN=function(){function e(t,n){ri(this,e),this._service=t,this._location=n instanceof lR?n:lR.makeFromUrl(n,t.host)}return ai(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new lR(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return RR(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new lR(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw oR(e)}}]),e}();function cN(e,t,n){return lN.apply(this,arguments)}function lN(){return(lN=Zi(gi().mark((function e(t,n,r){var i,a,o,u;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pageToken:r},e.next=3,fN(t,o);case 3:if(u=e.sent,(i=n.prefixes).push.apply(i,b(u.prefixes)),(a=n.items).push.apply(a,b(u.items)),null==u.nextPageToken){e.next=9;break}return e.next=9,cN(t,n,u.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fN(e,t){null!=t&&"number"===typeof t.maxResults&&vR("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=GR(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,oN)}function hN(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=mR(t.fullServerUrl(),e.host,e._protocol),a=FR(n,r),o=e.maxOperationRetryTime,u=new VR(i,"PATCH",zR(e,r),o);return u.headers={"Content-Type":"application/json; charset=utf-8"},u.body=a,u.errorHandler=WR(t),u}(e.storage,e._location,t,DR());return e.storage.makeRequestWithTokens(n,oN)}function dN(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=mR(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new VR(r,"GET",BR(e,n),i);return a.errorHandler=WR(t),a}(e.storage,e._location,DR());return e.storage.makeRequestWithTokens(t,oN).then((function(e){if(null===e)throw new ZA("no-download-url","The given file does not have any download URLs.");return e}))}function pN(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=mR(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new VR(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=WR(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,oN)}function vN(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new lR(e._location.bucket,n);return new sN(e.storage,r)}function mN(e,t){if(e instanceof bN){var n=e;if(null==n._bucket)throw new ZA("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new sN(n,n._bucket);return null!=t?mN(r,t):r}return void 0!==t?vN(e,t):e}function yN(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof bN)return new sN(e,t);throw iR("To use ref(service, url), the first argument must be a Storage instance.")}return mN(e,t)}function gN(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:lR.makeFromBucketSpec(n,e)}function kN(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:Ii(i,e.app.options.projectId))}var bN=function(){function e(t,n,r,i,a){ri(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=JA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?lR.makeFromBucketSpec(i,this._host):gN(this._host,this.app.options)}return ai(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=lR.makeFromBucketSpec(this._url,e):this._bucket=gN(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){vR("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){vR("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=Zi(gi().mark((function e(){var t,n;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Zi(gi().mark((function e(){var t,n;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new sN(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new fR(aR());var a=function(e,t,n,r,i,a){var o=yR(e.urlParams),u=e.url+o,s=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(s,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(s,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(s,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(s,r),new gR(u,e.method,s,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=Zi(gi().mark((function e(t,n){var r,i,a,o;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=h(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),wN="@firebase/storage",xN="0.9.4",_N="storage";function SN(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new uN(e,new CR(t),n)}(e=Gi(e),t,n)}function IN(e){return function(e){e._throwIfRoot("getMetadata");var t=KR(e.storage,e._location,DR());return e.storage.makeRequestWithTokens(t,oN)}(e=Gi(e))}function EN(e){return function(e){var t={prefixes:[],items:[]};return cN(e,t).then((function(){return t}))}(e=Gi(e))}function TN(e,t){return yN(e=Gi(e),t)}function CN(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};kN(e,t,n,r)}function AN(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new bN(r,i,a,n,Pa)}Ia(new ea(_N,AN,"PUBLIC").setMultipleInstances(!0)),Ua(wN,xN,""),Ua(wN,xN,"esm2017");var RN=function(){function e(t,n,r){ri(this,e),this._delegate=t,this.task=n,this.ref=r}return ai(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),NN=function(){function e(t,n){ri(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return ai(e,[{key:"snapshot",get:function(){return new RN(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new RN(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new RN(e,i,i._ref))}:{next:t.next?function(e){return t.next(new RN(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),PN=function(){function e(t,n){ri(this,e),this._delegate=t,this._service=n}return ai(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new ON(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new ON(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),ON=function(){function e(t,n){ri(this,e),this._delegate=t,this.storage=n}return ai(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return vN(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new NN(SN(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xR.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=SR(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new NN(new uN(this._delegate,new CR(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return EN(this._delegate).then((function(t){return new PN(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return fN(e=Gi(e),t)}(this._delegate,e||void 0).then((function(e){return new PN(e,t.storage)}))}},{key:"getMetadata",value:function(){return IN(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return hN(e=Gi(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return dN(Gi(this._delegate))}},{key:"delete",value:function(){return this._throwIfRoot("delete"),pN(Gi(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw oR(e)}}]),e}(),DN=function(){function e(t,n){ri(this,e),this.app=t,this._delegate=n}return ai(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(LN(e))throw iR("ref() expected a child path but got a URL, use refFromURL instead.");return new ON(TN(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!LN(e))throw iR("refFromURL() expected a full URL but got a child path, use ref() instead.");try{lR.makeFromUrl(e,this._delegate.host)}catch(t){throw iR("refFromUrl() expected a valid full URL but got an invalid one.")}return new ON(TN(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};CN(this._delegate,e,t,n)}}]),e}();function LN(e){return/^[A-Za-z]+:\/\//.test(e)}function MN(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new DN(r,i)}!function(e){var t={TaskState:eN,TaskEvent:ZR,StringFormat:xR,Storage:DN,Reference:ON};e.INTERNAL.registerComponent(new ea("storage-compat",MN,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.1.12")}(so);var FN=so.initializeApp({apiKey:"AIzaSyDPw9QXeuUxxpFEtKtdX8DTl4xRzWGmhsY",authDomain:"instagram-clone-2974d.firebaseapp.com",projectId:"instagram-clone-2974d",storageBucket:"instagram-clone-2974d.appspot.com",messagingSenderId:"782266220988",appId:"1:782266220988:web:3da0f8cf1b2734617cebb9",measurementId:"G-4Y4T84P2QP"}).firestore(),UN=so.auth(),VN=so.storage();var jN=function(e){var n=e.username,r=e.user,i=e.caption,a=e.imageUrl,o=e.postId,u=h((0,t.useState)([]),2),s=u[0],c=u[1],l=h((0,t.useState)(""),2),f=l[0],d=l[1];return(0,t.useEffect)((function(){var e;return o&&(e=FN.collection("posts").doc(o).collection("comments").orderBy("timestamp","desc").onSnapshot((function(e){c(e.docs.map((function(e){return e.data()})))}))),function(){e()}}),[o]),(0,Wr.jsxs)("div",{className:"post",children:[(0,Wr.jsxs)("div",{className:"post__header",children:[(0,Wr.jsx)(ni,{className:"post__avatar",alt:"somizzang",src:"/static/images/avatar/1.jpg"}),(0,Wr.jsx)("h3",{className:"",children:n})]}),(0,Wr.jsx)("img",{className:"post__image",src:a,alt:""}),(0,Wr.jsxs)("h4",{className:"post__text",children:[(0,Wr.jsx)("strong",{children:n})," ",i]}),(0,Wr.jsx)("div",{children:s.map((function(e){return(0,Wr.jsxs)("p",{className:"post__comments",children:[(0,Wr.jsx)("strong",{className:"post__comment",children:e.username}),e.text]})}))}),r&&(0,Wr.jsxs)("form",{className:"post__commentBox",children:[(0,Wr.jsx)("input",{className:"post__input",type:"text",placeholder:"\ub0b4\uc6a9\uc744 \uc4f0\ub77c\uae14",value:f,onChange:function(e){return d(e.target.value)}}),(0,Wr.jsx)("button",{disabled:!f,className:"post__button",type:"submit",onClick:function(e){e.preventDefault(),FN.collection("posts").doc(o).collection("comments").add({text:f,username:r.displayName,timestamp:so.firestore.FieldValue.serverTimestamp()}),d("")},children:"\ub313\uae00\ub2ec\uae14"})]})]})};var zN=function(e){return"string"===typeof e};function BN(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function qN(e,n){return t.useMemo((function(){return null==e&&null==n?null:function(t){BN(e,t),BN(n,t)}}),[e,n])}function WN(e){return e&&e.ownerDocument||document}var KN="undefined"!==typeof window?t.useLayoutEffect:t.useEffect;function GN(e){var n=t.useRef(e);return KN((function(){n.current=e})),t.useCallback((function(){return n.current.apply(void 0,arguments)}),[])}function HN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}var $N=n(164);var QN=t.forwardRef((function(e,n){var r=e.children,i=e.container,a=e.disablePortal,o=void 0!==a&&a,u=h(t.useState(null),2),s=u[0],c=u[1],l=qN(t.isValidElement(r)?r.ref:null,n);return KN((function(){o||c(function(e){return"function"===typeof e?e():e}(i)||document.body)}),[i,o]),KN((function(){if(s&&!o)return BN(n,s),function(){BN(n,null)}}),[n,s,o]),o?t.isValidElement(r)?t.cloneElement(r,{ref:l}):r:s?$N.createPortal(r,s):s}));function YN(e){return WN(e).defaultView||window}function XN(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function JN(e){return parseInt(YN(e).getComputedStyle(e).paddingRight,10)||0}function ZN(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,a=[t,n].concat(b(r)),o=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,(function(e){-1===a.indexOf(e)&&-1===o.indexOf(e.tagName)&&XN(e,i)}))}function eP(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function tP(e,t){var n=[],r=e.container;if(!t.disableScrollLock){if(function(e){var t=WN(e);return t.body===e?YN(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){var i=function(e){var t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}(WN(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(JN(r)+i,"px");var a=WN(r).querySelectorAll(".mui-fixed");[].forEach.call(a,(function(e){n.push({value:e.style.paddingRight,property:"padding-right",el:e}),e.style.paddingRight="".concat(JN(e)+i,"px")}))}var o=r.parentElement,u=YN(r),s="HTML"===(null==o?void 0:o.nodeName)&&"scroll"===u.getComputedStyle(o).overflowY?o:r;n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return function(){n.forEach((function(e){var t=e.value,n=e.el,r=e.property;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var nP=function(){function e(){ri(this,e),this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}return ai(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&XN(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);ZN(t,e.mount,e.modalRef,r,!0);var i=eP(this.containers,(function(e){return e.container===t}));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}},{key:"mount",value:function(e,t){var n=eP(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=tP(r,t))}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var n=eP(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&XN(e.modalRef,!0),ZN(r.container,e.mount,e.modalRef,r.hiddenSiblings,!1),this.containers.splice(n,1);else{var i=r.modals[r.modals.length-1];i.modalRef&&XN(i.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}(),rP=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function iP(e){var t=[],n=[];return Array.from(e.querySelectorAll(rP)).forEach((function(e,r){var i=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==i&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;var t=function(t){return e.ownerDocument.querySelector('input[type="radio"]'.concat(t))},n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===i?t.push(e):n.push({documentOrder:r,tabIndex:i,node:e}))})),n.sort((function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex})).map((function(e){return e.node})).concat(t)}function aP(){return!0}var oP=function(e){var n=e.children,r=e.disableAutoFocus,i=void 0!==r&&r,a=e.disableEnforceFocus,o=void 0!==a&&a,u=e.disableRestoreFocus,s=void 0!==u&&u,c=e.getTabbable,l=void 0===c?iP:c,f=e.isEnabled,h=void 0===f?aP:f,d=e.open,p=t.useRef(),v=t.useRef(null),m=t.useRef(null),y=t.useRef(null),g=t.useRef(null),k=t.useRef(!1),b=t.useRef(null),w=qN(n.ref,b),x=t.useRef(null);t.useEffect((function(){d&&b.current&&(k.current=!i)}),[i,d]),t.useEffect((function(){if(d&&b.current){var e=WN(b.current);return b.current.contains(e.activeElement)||(b.current.hasAttribute("tabIndex")||b.current.setAttribute("tabIndex",-1),k.current&&b.current.focus()),function(){s||(y.current&&y.current.focus&&(p.current=!0,y.current.focus()),y.current=null)}}}),[d]),t.useEffect((function(){if(d&&b.current){var e=WN(b.current),t=function(t){var n=b.current;if(null!==n)if(e.hasFocus()&&!o&&h()&&!p.current){if(!n.contains(e.activeElement)){if(t&&g.current!==t.target||e.activeElement!==g.current)g.current=null;else if(null!==g.current)return;if(!k.current)return;var r=[];if(e.activeElement!==v.current&&e.activeElement!==m.current||(r=l(b.current)),r.length>0){var i,a,u=Boolean((null==(i=x.current)?void 0:i.shiftKey)&&"Tab"===(null==(a=x.current)?void 0:a.key)),s=r[0],c=r[r.length-1];u?c.focus():s.focus()}else n.focus()}}else p.current=!1},n=function(t){x.current=t,!o&&h()&&"Tab"===t.key&&e.activeElement===b.current&&t.shiftKey&&(p.current=!0,m.current.focus())};e.addEventListener("focusin",t),e.addEventListener("keydown",n,!0);var r=setInterval((function(){"BODY"===e.activeElement.tagName&&t()}),50);return function(){clearInterval(r),e.removeEventListener("focusin",t),e.removeEventListener("keydown",n,!0)}}}),[i,o,s,h,d,l]);var _=function(e){null===y.current&&(y.current=e.relatedTarget),k.current=!0};return(0,Wr.jsxs)(t.Fragment,{children:[(0,Wr.jsx)("div",{tabIndex:0,onFocus:_,ref:v,"data-test":"sentinelStart"}),t.cloneElement(n,{ref:w,onFocus:function(e){null===y.current&&(y.current=e.relatedTarget),k.current=!0,g.current=e.target;var t=n.props.onFocus;t&&t(e)}}),(0,Wr.jsx)("div",{tabIndex:0,onFocus:_,ref:m,"data-test":"sentinelEnd"})]})};function uP(e){return zr("MuiModal",e)}Br("MuiModal",["root","hidden"]);var sP=["BackdropComponent","BackdropProps","children","classes","className","closeAfterTransition","component","components","componentsProps","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","theme","onTransitionEnter","onTransitionExited"];var cP=new nP,lP=t.forwardRef((function(e,n){var r=e.BackdropComponent,i=e.BackdropProps,a=e.children,o=e.classes,u=e.className,s=e.closeAfterTransition,c=void 0!==s&&s,l=e.component,f=void 0===l?"div":l,d=e.components,m=void 0===d?{}:d,k=e.componentsProps,b=void 0===k?{}:k,w=e.container,x=e.disableAutoFocus,_=void 0!==x&&x,S=e.disableEnforceFocus,I=void 0!==S&&S,E=e.disableEscapeKeyDown,T=void 0!==E&&E,C=e.disablePortal,A=void 0!==C&&C,R=e.disableRestoreFocus,N=void 0!==R&&R,P=e.disableScrollLock,O=void 0!==P&&P,D=e.hideBackdrop,L=void 0!==D&&D,M=e.keepMounted,F=void 0!==M&&M,U=e.manager,V=void 0===U?cP:U,j=e.onBackdropClick,z=e.onClose,B=e.onKeyDown,q=e.open,W=e.theme,K=e.onTransitionEnter,G=e.onTransitionExited,H=p(e,sP),$=h(t.useState(!0),2),Q=$[0],Y=$[1],X=t.useRef({}),J=t.useRef(null),Z=t.useRef(null),ee=qN(Z,n),te=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(e),ne=function(){return X.current.modalRef=Z.current,X.current.mountNode=J.current,X.current},re=function(){V.mount(ne(),{disableScrollLock:O}),Z.current.scrollTop=0},ie=GN((function(){var e=function(e){return"function"===typeof e?e():e}(w)||WN(J.current).body;V.add(ne(),e),Z.current&&re()})),ae=t.useCallback((function(){return V.isTopModal(ne())}),[V]),oe=GN((function(e){J.current=e,e&&(q&&ae()?re():XN(Z.current,!0))})),ue=t.useCallback((function(){V.remove(ne())}),[V]);t.useEffect((function(){return function(){ue()}}),[ue]),t.useEffect((function(){q?ie():te&&c||ue()}),[q,ue,te,c,ie]);var se=v({},e,{classes:o,closeAfterTransition:c,disableAutoFocus:_,disableEnforceFocus:I,disableEscapeKeyDown:T,disablePortal:A,disableRestoreFocus:N,disableScrollLock:O,exited:Q,hideBackdrop:L,keepMounted:F}),ce=function(e){var t=e.open,n=e.exited;return g({root:["root",!t&&n&&"hidden"]},uP,e.classes)}(se);if(!F&&!q&&(!te||Q))return null;var le={};void 0===a.props.tabIndex&&(le.tabIndex="-1"),te&&(le.onEnter=HN((function(){Y(!1),K&&K()}),a.props.onEnter),le.onExited=HN((function(){Y(!0),G&&G(),c&&ue()}),a.props.onExited));var fe=m.Root||f,he=b.root||{};return(0,Wr.jsx)(QN,{ref:oe,container:w,disablePortal:A,children:(0,Wr.jsxs)(fe,v({role:"presentation"},he,!zN(fe)&&{as:f,ownerState:v({},se,he.ownerState),theme:W},H,{ref:ee,onKeyDown:function(e){B&&B(e),"Escape"===e.key&&ae()&&(T||(e.stopPropagation(),z&&z(e,"escapeKeyDown")))},className:y(ce.root,he.className,u),children:[!L&&r?(0,Wr.jsx)(r,v({"aria-hidden":!0,open:q,onClick:function(e){e.target===e.currentTarget&&(j&&j(e),z&&z(e,"backdropClick"))}},i)):null,(0,Wr.jsx)(oP,{disableEnforceFocus:I,disableAutoFocus:_,disableRestoreFocus:N,isEnabled:ae,open:q,children:t.cloneElement(a,le)})]}))})})),fP=lP;function hP(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,si(e,t)}var dP=!1,pP=t.createContext(null),vP="unmounted",mP="exited",yP="entering",gP="entered",kP="exiting",bP=function(e){function n(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=mP,r.appearStatus=yP):i=gP:i=t.unmountOnExit||t.mountOnEnter?vP:mP,r.state={status:i},r.nextCallback=null,r}hP(n,e),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===vP?{status:mP}:null};var r=n.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==yP&&n!==gP&&(t=yP):n!==yP&&n!==gP||(t=kP)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===yP?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===mP&&this.setState({status:vP})},r.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[$N.findDOMNode(this),r],a=i[0],o=i[1],u=this.getTimeouts(),s=r?u.appear:u.enter;!e&&!n||dP?this.safeSetState({status:gP},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:yP},(function(){t.props.onEntering(a,o),t.onTransitionEnd(s,(function(){t.safeSetState({status:gP},(function(){t.props.onEntered(a,o)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:$N.findDOMNode(this);t&&!dP?(this.props.onExit(r),this.safeSetState({status:kP},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:mP},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:mP},(function(){e.props.onExited(r)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:$N.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===vP)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,p(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(pP.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},n}(t.Component);function wP(){}bP.contextType=pP,bP.propTypes={},bP.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:wP,onEntering:wP,onEntered:wP,onExit:wP,onExiting:wP,onExited:wP},bP.UNMOUNTED=vP,bP.EXITED=mP,bP.ENTERING=yP,bP.ENTERED=gP,bP.EXITING=kP;var xP=bP;function _P(e,t){var n,r,i=e.timeout,a=e.easing,o=e.style,u=void 0===o?{}:o;return{duration:null!=(n=u.transitionDuration)?n:"number"===typeof i?i:i[t.mode]||0,easing:null!=(r=u.transitionTimingFunction)?r:"object"===typeof a?a[t.mode]:a,delay:u.transitionDelay}}var SP=qN,IP=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],EP={entering:{opacity:1},entered:{opacity:1}},TP=t.forwardRef((function(e,n){var r=Dr(Sr),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},a=e.addEndListener,o=e.appear,u=void 0===o||o,s=e.children,c=e.easing,l=e.in,f=e.onEnter,h=e.onEntered,d=e.onEntering,m=e.onExit,y=e.onExited,g=e.onExiting,k=e.style,b=e.timeout,w=void 0===b?i:b,x=e.TransitionComponent,_=void 0===x?xP:x,S=p(e,IP),I=t.useRef(null),E=SP(s.ref,n),T=SP(I,E),C=function(e){return function(t){if(e){var n=I.current;void 0===t?e(n):e(n,t)}}},A=C(d),R=C((function(e,t){!function(e){e.scrollTop}(e);var n=_P({style:k,timeout:w,easing:c},{mode:"enter"});e.style.webkitTransition=r.transitions.create("opacity",n),e.style.transition=r.transitions.create("opacity",n),f&&f(e,t)})),N=C(h),P=C(g),O=C((function(e){var t=_P({style:k,timeout:w,easing:c},{mode:"exit"});e.style.webkitTransition=r.transitions.create("opacity",t),e.style.transition=r.transitions.create("opacity",t),m&&m(e)})),D=C(y);return(0,Wr.jsx)(_,v({appear:u,in:l,nodeRef:I,onEnter:R,onEntered:N,onEntering:A,onExit:O,onExited:D,onExiting:P,addEndListener:function(e){a&&a(I.current,e)},timeout:w},S,{children:function(e,n){return t.cloneElement(s,v({style:v({opacity:0,visibility:"exited"!==e||l?void 0:"hidden"},EP[e],k,s.props.style),ref:T},n))}}))})),CP=TP;function AP(e){return zr("MuiBackdrop",e)}Br("MuiBackdrop",["root","invisible"]);var RP=["children","component","components","componentsProps","className","invisible","open","transitionDuration","TransitionComponent"],NP=Tr("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.invisible&&t.invisible]}})((function(e){return v({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.ownerState.invisible&&{backgroundColor:"transparent"})})),PP=t.forwardRef((function(e,t){var n,r,i=Mr({props:e,name:"MuiBackdrop"}),a=i.children,o=i.component,u=void 0===o?"div":o,s=i.components,c=void 0===s?{}:s,l=i.componentsProps,f=void 0===l?{}:l,h=i.className,d=i.invisible,m=void 0!==d&&d,k=i.open,b=i.transitionDuration,w=i.TransitionComponent,x=void 0===w?CP:w,_=p(i,RP),S=v({},i,{component:u,invisible:m}),I=function(e){var t=e.classes;return g({root:["root",e.invisible&&"invisible"]},AP,t)}(S);return(0,Wr.jsx)(x,v({in:k,timeout:b},_,{children:(0,Wr.jsx)(NP,{"aria-hidden":!0,as:null!=(n=c.Root)?n:u,className:y(I.root,h),ownerState:v({},S,null==(r=f.root)?void 0:r.ownerState),classes:I,ref:t,children:a})}))})),OP=["BackdropComponent","closeAfterTransition","children","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted"],DP=Tr("div",{name:"MuiModal",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.open&&n.exited&&t.hidden]}})((function(e){var t=e.theme,n=e.ownerState;return v({position:"fixed",zIndex:t.zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})})),LP=Tr(PP,{name:"MuiModal",slot:"Backdrop",overridesResolver:function(e,t){return t.backdrop}})({zIndex:-1}),MP=t.forwardRef((function(e,n){var r,i=Mr({name:"MuiModal",props:e}),a=i.BackdropComponent,o=void 0===a?LP:a,u=i.closeAfterTransition,s=void 0!==u&&u,c=i.children,l=i.components,f=void 0===l?{}:l,d=i.componentsProps,m=void 0===d?{}:d,y=i.disableAutoFocus,g=void 0!==y&&y,k=i.disableEnforceFocus,b=void 0!==k&&k,w=i.disableEscapeKeyDown,x=void 0!==w&&w,_=i.disablePortal,S=void 0!==_&&_,I=i.disableRestoreFocus,E=void 0!==I&&I,T=i.disableScrollLock,C=void 0!==T&&T,A=i.hideBackdrop,R=void 0!==A&&A,N=i.keepMounted,P=void 0!==N&&N,O=p(i,OP),D=h(t.useState(!0),2),L=D[0],M=D[1],F={closeAfterTransition:s,disableAutoFocus:g,disableEnforceFocus:b,disableEscapeKeyDown:x,disablePortal:S,disableRestoreFocus:E,disableScrollLock:C,hideBackdrop:R,keepMounted:P},U=function(e){return e.classes}(v({},i,F,{exited:L}));return(0,Wr.jsx)(fP,v({components:v({Root:DP},f),componentsProps:{root:v({},m.root,(!f.Root||!zN(f.Root))&&{ownerState:v({},null==(r=m.root)?void 0:r.ownerState)})},BackdropComponent:o,onTransitionEnter:function(){return M(!1)},onTransitionExited:function(){return M(!0)},ref:n},O,{classes:U},F,{children:c}))})),FP=["sx"];function UP(e){var t,n=e.sx,r=function(e){var t={systemProps:{},otherProps:{}};return Object.keys(e).forEach((function(n){Tn[n]?t.systemProps[n]=e[n]:t.otherProps[n]=e[n]})),t}(p(e,FP)),i=r.systemProps,a=r.otherProps;return t=Array.isArray(n)?[i].concat(b(n)):"function"===typeof n?function(){var e=n.apply(void 0,arguments);return et(e)?v({},i,e):i}:v({},i,n),v({},a,{sx:t})}var VP=["className","component"];var jP=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.defaultTheme,r=e.defaultClassName,i=void 0===r?"MuiBox-root":r,a=e.generateClassName,o=e.styleFunctionSx,u=void 0===o?Nn:o,s=Ze("div")(u),c=t.forwardRef((function(e,t){var r=Dr(n),o=UP(e),u=o.className,c=o.component,l=void 0===c?"div":c,f=p(o,VP);return(0,Wr.jsx)(s,v({as:l,ref:t,className:y(u,a?a(i):i),theme:r},f))}));return c}({defaultTheme:_r(),defaultClassName:"MuiBox-root",generateClassName:Vr.generate}),zP=jP;var BP=["onChange","maxRows","minRows","style","value"];function qP(e,t){return parseInt(e[t],10)||0}var WP={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},KP=t.forwardRef((function(e,n){var r=e.onChange,i=e.maxRows,a=e.minRows,o=void 0===a?1:a,u=e.style,s=e.value,c=p(e,BP),l=t.useRef(null!=s).current,f=t.useRef(null),d=qN(n,f),m=t.useRef(null),y=t.useRef(0),g=h(t.useState({}),2),k=g[0],b=g[1],w=t.useCallback((function(){var t=f.current,n=YN(t).getComputedStyle(t);if("0px"!==n.width){var r=m.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var a=n["box-sizing"],u=qP(n,"padding-bottom")+qP(n,"padding-top"),s=qP(n,"border-bottom-width")+qP(n,"border-top-width"),c=r.scrollHeight;r.value="x";var l=r.scrollHeight,h=c;o&&(h=Math.max(Number(o)*l,h)),i&&(h=Math.min(Number(i)*l,h));var d=(h=Math.max(h,l))+("border-box"===a?u+s:0),p=Math.abs(h-c)<=1;b((function(e){return y.current<20&&(d>0&&Math.abs((e.outerHeightStyle||0)-d)>1||e.overflow!==p)?(y.current+=1,{overflow:p,outerHeightStyle:d}):e}))}}),[i,o,e.placeholder]);t.useEffect((function(){var e,t=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var u=function(){e.apply(r,a)};clearTimeout(t),t=setTimeout(u,n)}return r.clear=function(){clearTimeout(t)},r}((function(){y.current=0,w()})),n=YN(f.current);return n.addEventListener("resize",t),"undefined"!==typeof ResizeObserver&&(e=new ResizeObserver(t)).observe(f.current),function(){t.clear(),n.removeEventListener("resize",t),e&&e.disconnect()}}),[w]),KN((function(){w()})),t.useEffect((function(){y.current=0}),[s]);return(0,Wr.jsxs)(t.Fragment,{children:[(0,Wr.jsx)("textarea",v({value:s,onChange:function(e){y.current=0,l||w(),r&&r(e)},ref:d,rows:o,style:v({height:k.outerHeightStyle,overflow:k.overflow?"hidden":null},u)},c)),(0,Wr.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:m,tabIndex:-1,style:v({},WP,u,{padding:0})})]})})),GP=KP;var HP=t.createContext();var $P=KN,QP=(n(110),r.useInsertionEffect?r.useInsertionEffect:t.useLayoutEffect),YP=Ve((function(e,n){var r=e.styles,i=Fe([r],void 0,(0,t.useContext)(je)),a=(0,t.useRef)();return QP((function(){var e=n.key+"-global",t=new n.sheet.constructor({key:e,nonce:n.sheet.nonce,container:n.sheet.container,speedy:n.sheet.isSpeedy}),r=!1,o=document.querySelector('style[data-emotion="'+e+" "+i.name+'"]');return n.sheet.tags.length&&(t.before=n.sheet.tags[0]),null!==o&&(r=!0,o.setAttribute("data-emotion",e),t.hydrate([o])),a.current=[t,r],function(){t.flush()}}),[n]),QP((function(){var e=a.current,t=e[0];if(e[1])e[1]=!1;else{if(void 0!==i.next&&qe(n,i.next,!0),t.tags.length){var r=t.tags[t.tags.length-1].nextElementSibling;t.before=r,t.flush()}n.insert("",i,t,!1)}}),[n,i.name]),null}));function XP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Fe(t)}var JP=function(){var e=XP.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function ZP(e){var t=e.styles,n=e.defaultTheme,r=void 0===n?{}:n,i="function"===typeof t?function(e){return t(void 0===(n=e)||null===n||0===Object.keys(n).length?r:e);var n}:t;return(0,Wr.jsx)(YP,{styles:i})}var eO=function(e){return(0,Wr.jsx)(ZP,v({},e,{defaultTheme:Sr}))};function tO(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function nO(e){return zr("MuiInputBase",e)}var rO=Br("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),iO=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","startAdornment","type","value"],aO=function(e,t){var n=e.ownerState;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t["color".concat(Fr(n.color))],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},oO=function(e,t){var n=e.ownerState;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},uO=Tr("div",{name:"MuiInputBase",slot:"Root",overridesResolver:aO})((function(e){var t=e.theme,n=e.ownerState;return v({},t.typography.body1,a({color:t.palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center"},"&.".concat(rO.disabled),{color:t.palette.text.disabled,cursor:"default"}),n.multiline&&v({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})})),sO=Tr("input",{name:"MuiInputBase",slot:"Input",overridesResolver:oO})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode,o={color:"currentColor",opacity:i?.42:.5,transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})},u={opacity:"0 !important"},s={opacity:i?.42:.5};return v((a(t={font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"}},"label[data-shrink=false] + .".concat(rO.formControl," &"),{"&::-webkit-input-placeholder":u,"&::-moz-placeholder":u,"&:-ms-input-placeholder":u,"&::-ms-input-placeholder":u,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s}),a(t,"&.".concat(rO.disabled),{opacity:1,WebkitTextFillColor:n.palette.text.disabled}),a(t,"&:-webkit-autofill",{animationDuration:"5000s",animationName:"mui-auto-fill"}),t),"small"===r.size&&{paddingTop:1},r.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===r.type&&{MozAppearance:"textfield"})})),cO=(0,Wr.jsx)(eO,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),lO=t.forwardRef((function(e,n){var r=Mr({props:e,name:"MuiInputBase"}),i=r["aria-describedby"],a=r.autoComplete,o=r.autoFocus,u=r.className,s=r.components,c=void 0===s?{}:s,l=r.componentsProps,f=void 0===l?{}:l,d=r.defaultValue,m=r.disabled,k=r.disableInjectingGlobalStyles,b=r.endAdornment,w=r.fullWidth,x=void 0!==w&&w,_=r.id,S=r.inputComponent,I=void 0===S?"input":S,E=r.inputProps,T=void 0===E?{}:E,C=r.inputRef,A=r.maxRows,R=r.minRows,N=r.multiline,P=void 0!==N&&N,O=r.name,D=r.onBlur,L=r.onChange,M=r.onClick,F=r.onFocus,U=r.onKeyDown,V=r.onKeyUp,j=r.placeholder,z=r.readOnly,B=r.renderSuffix,q=r.rows,W=r.startAdornment,K=r.type,G=void 0===K?"text":K,H=r.value,$=p(r,iO),Q=null!=T.value?T.value:H,Y=t.useRef(null!=Q).current,X=t.useRef(),J=t.useCallback((function(e){0}),[]),Z=SP(T.ref,J),ee=SP(C,Z),te=SP(X,ee),ne=h(t.useState(!1),2),re=ne[0],ie=ne[1],ae=t.useContext(HP);var oe=function(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}({props:r,muiFormControl:ae,states:["color","disabled","error","hiddenLabel","size","required","filled"]});oe.focused=ae?ae.focused:re,t.useEffect((function(){!ae&&m&&re&&(ie(!1),D&&D())}),[ae,m,re,D]);var ue=ae&&ae.onFilled,se=ae&&ae.onEmpty,ce=t.useCallback((function(e){!function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(tO(e.value)&&""!==e.value||t&&tO(e.defaultValue)&&""!==e.defaultValue)}(e)?se&&se():ue&&ue()}),[ue,se]);$P((function(){Y&&ce({value:Q})}),[Q,ce,Y]);t.useEffect((function(){ce(X.current)}),[]);var le=I,fe=T;P&&"input"===le&&(fe=v(q?{type:void 0,minRows:q,maxRows:q}:{type:void 0,maxRows:A,minRows:R},fe),le=GP);t.useEffect((function(){ae&&ae.setAdornedStart(Boolean(W))}),[ae,W]);var he=v({},r,{color:oe.color||"primary",disabled:oe.disabled,endAdornment:b,error:oe.error,focused:oe.focused,formControl:ae,fullWidth:x,hiddenLabel:oe.hiddenLabel,multiline:P,size:oe.size,startAdornment:W,type:G}),de=function(e){var t=e.classes,n=e.color,r=e.disabled,i=e.error,a=e.endAdornment,o=e.focused,u=e.formControl,s=e.fullWidth,c=e.hiddenLabel,l=e.multiline,f=e.size,h=e.startAdornment,d=e.type;return g({root:["root","color".concat(Fr(n)),r&&"disabled",i&&"error",s&&"fullWidth",o&&"focused",u&&"formControl","small"===f&&"sizeSmall",l&&"multiline",h&&"adornedStart",a&&"adornedEnd",c&&"hiddenLabel"],input:["input",r&&"disabled","search"===d&&"inputTypeSearch",l&&"inputMultiline","small"===f&&"inputSizeSmall",c&&"inputHiddenLabel",h&&"inputAdornedStart",a&&"inputAdornedEnd"]},nO,t)}(he),pe=c.Root||uO,ve=f.root||{},me=c.Input||sO;return fe=v({},fe,f.input),(0,Wr.jsxs)(t.Fragment,{children:[!k&&cO,(0,Wr.jsxs)(pe,v({},ve,!zN(pe)&&{ownerState:v({},he,ve.ownerState)},{ref:n,onClick:function(e){X.current&&e.currentTarget===e.target&&X.current.focus(),M&&M(e)}},$,{className:y(de.root,ve.className,u),children:[W,(0,Wr.jsx)(HP.Provider,{value:null,children:(0,Wr.jsx)(me,v({ownerState:he,"aria-invalid":oe.error,"aria-describedby":i,autoComplete:a,autoFocus:o,defaultValue:d,disabled:oe.disabled,id:_,onAnimationStart:function(e){ce("mui-auto-fill-cancel"===e.animationName?X.current:{value:"x"})},name:O,placeholder:j,readOnly:z,required:oe.required,rows:q,value:Q,onKeyDown:U,onKeyUp:V,type:G},fe,!zN(me)&&{as:le,ownerState:v({},he,fe.ownerState)},{ref:te,className:y(de.input,fe.className),onBlur:function(e){D&&D(e),T.onBlur&&T.onBlur(e),ae&&ae.onBlur?ae.onBlur(e):ie(!1)},onChange:function(e){if(!Y){var t=e.target||X.current;if(null==t)throw new Error(lt(1));ce({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];T.onChange&&T.onChange.apply(T,[e].concat(r)),L&&L.apply(void 0,[e].concat(r))},onFocus:function(e){oe.disabled?e.stopPropagation():(F&&F(e),T.onFocus&&T.onFocus(e),ae&&ae.onFocus?ae.onFocus(e):ie(!0))}}))}),b,B?B(v({},oe,{startAdornment:W})):null]}))]})})),fO=lO;function hO(e){return zr("MuiInput",e)}var dO=v({},rO,Br("MuiInput",["root","underline","input"])),pO=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","type"],vO=Tr(uO,{shouldForwardProp:function(e){return Ir(e)||"classes"===e},name:"MuiInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat(b(aO(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return v({position:"relative"},r.formControl&&{"label + &":{marginTop:16}},!r.disableUnderline&&(a(t={"&:after":{borderBottom:"2px solid ".concat(n.palette[r.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"}},"&.".concat(dO.focused,":after"),{transform:"scaleX(1)"}),a(t,"&.".concat(dO.error,":after"),{borderBottomColor:n.palette.error.main,transform:"scaleX(1)"}),a(t,"&:before",{borderBottom:"1px solid ".concat(i),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"}),a(t,"&:hover:not(.".concat(dO.disabled,"):before"),{borderBottom:"2px solid ".concat(n.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(i)}}),a(t,"&.".concat(dO.disabled,":before"),{borderBottomStyle:"dotted"}),t))})),mO=Tr(sO,{name:"MuiInput",slot:"Input",overridesResolver:oO})({}),yO=t.forwardRef((function(e,t){var n=Mr({props:e,name:"MuiInput"}),r=n.disableUnderline,i=n.components,a=void 0===i?{}:i,o=n.componentsProps,u=n.fullWidth,s=void 0!==u&&u,c=n.inputComponent,l=void 0===c?"input":c,f=n.multiline,h=void 0!==f&&f,d=n.type,m=void 0===d?"text":d,y=p(n,pO),k=function(e){var t=e.classes;return v({},t,g({root:["root",!e.disableUnderline&&"underline"],input:["input"]},hO,t))}(n),b={root:{ownerState:{disableUnderline:r}}},w=o?tt(o,b):b;return(0,Wr.jsx)(fO,v({components:v({Root:vO,Input:mO},a),componentsProps:w,fullWidth:s,inputComponent:l,multiline:h,ref:t,type:m},y,{classes:k}))}));yO.muiName="Input";var gO,kO=yO,bO=GN,wO=!0,xO=!1,_O={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function SO(e){e.metaKey||e.altKey||e.ctrlKey||(wO=!0)}function IO(){wO=!1}function EO(){"hidden"===this.visibilityState&&xO&&(wO=!0)}function TO(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return wO||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!_O[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var CO=function(){var e=t.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",SO,!0),t.addEventListener("mousedown",IO,!0),t.addEventListener("pointerdown",IO,!0),t.addEventListener("touchstart",IO,!0),t.addEventListener("visibilitychange",EO,!0))}),[]),n=t.useRef(!1);return{isFocusVisibleRef:n,onFocus:function(e){return!!TO(e)&&(n.current=!0,!0)},onBlur:function(){return!!n.current&&(xO=!0,window.clearTimeout(gO),gO=window.setTimeout((function(){xO=!1}),100),n.current=!1,!0)},ref:e}};function AO(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function RO(e,n){var r=Object.create(null);return e&&t.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)})),r}function NO(e,t,n){return null!=n[t]?n[t]:e.props[t]}function PO(e,n,r){var i=RO(e.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var u={};for(var s in t){if(i[s])for(r=0;r<i[s].length;r++){var c=i[s][r];u[i[s][r]]=n(c)}u[s]=n(s)}for(r=0;r<a.length;r++)u[a[r]]=n(a[r]);return u}(n,i);return Object.keys(a).forEach((function(o){var u=a[o];if((0,t.isValidElement)(u)){var s=o in n,c=o in i,l=n[o],f=(0,t.isValidElement)(l)&&!l.props.in;!c||s&&!f?c||!s||f?c&&s&&(0,t.isValidElement)(l)&&(a[o]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:l.props.in,exit:NO(u,"exit",e),enter:NO(u,"enter",e)})):a[o]=(0,t.cloneElement)(u,{in:!1}):a[o]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:!0,exit:NO(u,"exit",e),enter:NO(u,"enter",e)})}})),a}var OO=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},DO=function(e){function n(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(ui(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}hP(n,e);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(e,n){var r,i,a=n.children,o=n.handleExited;return{children:n.firstRender?(r=e,i=o,RO(r.children,(function(e){return(0,t.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:NO(e,"appear",r),enter:NO(e,"enter",r),exit:NO(e,"exit",r)})}))):PO(e,a,o),firstRender:!1}},r.handleExited=function(e,t){var n=RO(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=v({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var e=this.props,n=e.component,r=e.childFactory,i=p(e,["component","childFactory"]),a=this.state.contextValue,o=OO(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?t.createElement(pP.Provider,{value:a},o):t.createElement(pP.Provider,{value:a},t.createElement(n,i,o))},n}(t.Component);DO.propTypes={},DO.defaultProps={component:"div",childFactory:function(e){return e}};var LO=DO;var MO=function(e){var n=e.className,r=e.classes,i=e.pulsate,a=void 0!==i&&i,o=e.rippleX,u=e.rippleY,s=e.rippleSize,c=e.in,l=e.onExited,f=e.timeout,d=h(t.useState(!1),2),p=d[0],v=d[1],m=y(n,r.ripple,r.rippleVisible,a&&r.ripplePulsate),g={width:s,height:s,top:-s/2+u,left:-s/2+o},k=y(r.child,p&&r.childLeaving,a&&r.childPulsate);return c||p||v(!0),t.useEffect((function(){if(!c&&null!=l){var e=setTimeout(l,f);return function(){clearTimeout(e)}}}),[l,c,f]),(0,Wr.jsx)("span",{className:m,style:g,children:(0,Wr.jsx)("span",{className:k})})};var FO,UO,VO,jO,zO,BO,qO,WO,KO=Br("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),GO=["center","classes","className"],HO=JP(zO||(zO=FO||(FO=AO(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),$O=JP(BO||(BO=UO||(UO=AO(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),QO=JP(qO||(qO=VO||(VO=AO(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),YO=Tr("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),XO=Tr(MO,{name:"MuiTouchRipple",slot:"Ripple"})(WO||(WO=jO||(jO=AO(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),KO.rippleVisible,HO,550,(function(e){return e.theme.transitions.easing.easeInOut}),KO.ripplePulsate,(function(e){return e.theme.transitions.duration.shorter}),KO.child,KO.childLeaving,$O,550,(function(e){return e.theme.transitions.easing.easeInOut}),KO.childPulsate,QO,(function(e){return e.theme.transitions.easing.easeInOut})),JO=t.forwardRef((function(e,n){var r=Mr({props:e,name:"MuiTouchRipple"}),i=r.center,a=void 0!==i&&i,o=r.classes,u=void 0===o?{}:o,s=r.className,c=p(r,GO),l=h(t.useState([]),2),f=l[0],d=l[1],m=t.useRef(0),g=t.useRef(null);t.useEffect((function(){g.current&&(g.current(),g.current=null)}),[f]);var k=t.useRef(!1),w=t.useRef(null),x=t.useRef(null),_=t.useRef(null);t.useEffect((function(){return function(){clearTimeout(w.current)}}),[]);var S=t.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,a=e.cb;d((function(e){return[].concat(b(e),[(0,Wr.jsx)(XO,{classes:{ripple:y(u.ripple,KO.ripple),rippleVisible:y(u.rippleVisible,KO.rippleVisible),ripplePulsate:y(u.ripplePulsate,KO.ripplePulsate),child:y(u.child,KO.child),childLeaving:y(u.childLeaving,KO.childLeaving),childPulsate:y(u.childPulsate,KO.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},m.current)])})),m.current+=1,g.current=a}),[u]),I=t.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,i=void 0!==r&&r,o=t.center,u=void 0===o?a||t.pulsate:o,s=t.fakeElement,c=void 0!==s&&s;if("mousedown"===e.type&&k.current)k.current=!1;else{"touchstart"===e.type&&(k.current=!0);var l,f,h,d=c?null:_.current,p=d?d.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(u||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(p.width/2),f=Math.round(p.height/2);else{var v=e.touches?e.touches[0]:e,m=v.clientX,y=v.clientY;l=Math.round(m-p.left),f=Math.round(y-p.top)}if(u)(h=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(h+=1);else{var g=2*Math.max(Math.abs((d?d.clientWidth:0)-l),l)+2,b=2*Math.max(Math.abs((d?d.clientHeight:0)-f),f)+2;h=Math.sqrt(Math.pow(g,2)+Math.pow(b,2))}e.touches?null===x.current&&(x.current=function(){S({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})},w.current=setTimeout((function(){x.current&&(x.current(),x.current=null)}),80)):S({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})}}),[a,S]),E=t.useCallback((function(){I({},{pulsate:!0})}),[I]),T=t.useCallback((function(e,t){if(clearTimeout(w.current),"touchend"===e.type&&x.current)return x.current(),x.current=null,void(w.current=setTimeout((function(){T(e,t)})));x.current=null,d((function(e){return e.length>0?e.slice(1):e})),g.current=t}),[]);return t.useImperativeHandle(n,(function(){return{pulsate:E,start:I,stop:T}}),[E,I,T]),(0,Wr.jsx)(YO,v({className:y(u.root,KO.root,s),ref:_},c,{children:(0,Wr.jsx)(LO,{component:null,exit:!0,children:f})}))})),ZO=JO;function eD(e){return zr("MuiButtonBase",e)}var tD,nD=Br("MuiButtonBase",["root","disabled","focusVisible"]),rD=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],iD=Tr("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(e,t){return t.root}})((a(tD={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},"&.".concat(nD.disabled),{pointerEvents:"none",cursor:"default"}),a(tD,"@media print",{colorAdjust:"exact"}),tD)),aD=t.forwardRef((function(e,n){var r=Mr({props:e,name:"MuiButtonBase"}),i=r.action,a=r.centerRipple,o=void 0!==a&&a,u=r.children,s=r.className,c=r.component,l=void 0===c?"button":c,f=r.disabled,d=void 0!==f&&f,m=r.disableRipple,k=void 0!==m&&m,b=r.disableTouchRipple,w=void 0!==b&&b,x=r.focusRipple,_=void 0!==x&&x,S=r.LinkComponent,I=void 0===S?"a":S,E=r.onBlur,T=r.onClick,C=r.onContextMenu,A=r.onDragLeave,R=r.onFocus,N=r.onFocusVisible,P=r.onKeyDown,O=r.onKeyUp,D=r.onMouseDown,L=r.onMouseLeave,M=r.onMouseUp,F=r.onTouchEnd,U=r.onTouchMove,V=r.onTouchStart,j=r.tabIndex,z=void 0===j?0:j,B=r.TouchRippleProps,q=r.touchRippleRef,W=r.type,K=p(r,rD),G=t.useRef(null),H=t.useRef(null),$=SP(H,q),Q=CO(),Y=Q.isFocusVisibleRef,X=Q.onFocus,J=Q.onBlur,Z=Q.ref,ee=h(t.useState(!1),2),te=ee[0],ne=ee[1];d&&te&&ne(!1),t.useImperativeHandle(i,(function(){return{focusVisible:function(){ne(!0),G.current.focus()}}}),[]);var re=h(t.useState(!1),2),ie=re[0],ae=re[1];t.useEffect((function(){ae(!0)}),[]);var oe=ie&&!k&&!d;function ue(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w;return bO((function(r){return t&&t(r),!n&&H.current&&H.current[e](r),!0}))}t.useEffect((function(){te&&_&&!k&&ie&&H.current.pulsate()}),[k,_,te,ie]);var se=ue("start",D),ce=ue("stop",C),le=ue("stop",A),fe=ue("stop",M),he=ue("stop",(function(e){te&&e.preventDefault(),L&&L(e)})),de=ue("start",V),pe=ue("stop",F),ve=ue("stop",U),me=ue("stop",(function(e){J(e),!1===Y.current&&ne(!1),E&&E(e)}),!1),ye=bO((function(e){G.current||(G.current=e.currentTarget),X(e),!0===Y.current&&(ne(!0),N&&N(e)),R&&R(e)})),ge=function(){var e=G.current;return l&&"button"!==l&&!("A"===e.tagName&&e.href)},ke=t.useRef(!1),be=bO((function(e){_&&!ke.current&&te&&H.current&&" "===e.key&&(ke.current=!0,H.current.stop(e,(function(){H.current.start(e)}))),e.target===e.currentTarget&&ge()&&" "===e.key&&e.preventDefault(),P&&P(e),e.target===e.currentTarget&&ge()&&"Enter"===e.key&&!d&&(e.preventDefault(),T&&T(e))})),we=bO((function(e){_&&" "===e.key&&H.current&&te&&!e.defaultPrevented&&(ke.current=!1,H.current.stop(e,(function(){H.current.pulsate(e)}))),O&&O(e),T&&e.target===e.currentTarget&&ge()&&" "===e.key&&!e.defaultPrevented&&T(e)})),xe=l;"button"===xe&&(K.href||K.to)&&(xe=I);var _e={};"button"===xe?(_e.type=void 0===W?"button":W,_e.disabled=d):(K.href||K.to||(_e.role="button"),d&&(_e["aria-disabled"]=d));var Se=SP(Z,G),Ie=SP(n,Se);var Ee=v({},r,{centerRipple:o,component:l,disabled:d,disableRipple:k,disableTouchRipple:w,focusRipple:_,tabIndex:z,focusVisible:te}),Te=function(e){var t=e.disabled,n=e.focusVisible,r=e.focusVisibleClassName,i=g({root:["root",t&&"disabled",n&&"focusVisible"]},eD,e.classes);return n&&r&&(i.root+=" ".concat(r)),i}(Ee);return(0,Wr.jsxs)(iD,v({as:xe,className:y(Te.root,s),ownerState:Ee,onBlur:me,onClick:T,onContextMenu:ce,onFocus:ye,onKeyDown:be,onKeyUp:we,onMouseDown:se,onMouseLeave:he,onMouseUp:fe,onDragLeave:le,onTouchEnd:pe,onTouchMove:ve,onTouchStart:de,ref:Ie,tabIndex:d?-1:z,type:W},_e,K,{children:[u,oe?(0,Wr.jsx)(ZO,v({ref:$,center:o},B)):null]}))})),oD=aD;function uD(e){return zr("MuiButton",e)}var sD=Br("MuiButton",["root","text","textInherit","textPrimary","textSecondary","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","contained","containedInherit","containedPrimary","containedSecondary","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var cD=t.createContext({}),lD=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],fD=function(e){return v({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}})},hD=Tr(oD,{shouldForwardProp:function(e){return Ir(e)||"classes"===e},name:"MuiButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat(Fr(n.color))],t["size".concat(Fr(n.size))],t["".concat(n.variant,"Size").concat(Fr(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((function(e){var t,n,r,i=e.theme,o=e.ownerState;return v({},i.typography.button,(a(t={minWidth:64,padding:"6px 16px",borderRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create(["background-color","box-shadow","border-color","color"],{duration:i.transitions.duration.short}),"&:hover":v({textDecoration:"none",backgroundColor:i.vars?"rgba(".concat(i.vars.palette.text.primaryChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):Gn(i.palette.text.primary,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===o.variant&&"inherit"!==o.color&&{backgroundColor:i.vars?"rgba(".concat(i.vars.palette[o.color].mainChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):Gn(i.palette[o.color].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===o.variant&&"inherit"!==o.color&&{border:"1px solid ".concat((i.vars||i).palette[o.color].main),backgroundColor:i.vars?"rgba(".concat(i.vars.palette[o.color].mainChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):Gn(i.palette[o.color].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===o.variant&&{backgroundColor:(i.vars||i).palette.grey.A100,boxShadow:(i.vars||i).shadows[4],"@media (hover: none)":{boxShadow:(i.vars||i).shadows[2],backgroundColor:(i.vars||i).palette.grey[300]}},"contained"===o.variant&&"inherit"!==o.color&&{backgroundColor:(i.vars||i).palette[o.color].dark,"@media (hover: none)":{backgroundColor:(i.vars||i).palette[o.color].main}}),"&:active":v({},"contained"===o.variant&&{boxShadow:(i.vars||i).shadows[8]})},"&.".concat(sD.focusVisible),v({},"contained"===o.variant&&{boxShadow:(i.vars||i).shadows[6]})),a(t,"&.".concat(sD.disabled),v({color:(i.vars||i).palette.action.disabled},"outlined"===o.variant&&{border:"1px solid ".concat((i.vars||i).palette.action.disabledBackground)},"outlined"===o.variant&&"secondary"===o.color&&{border:"1px solid ".concat((i.vars||i).palette.action.disabled)},"contained"===o.variant&&{color:(i.vars||i).palette.action.disabled,boxShadow:(i.vars||i).shadows[0],backgroundColor:(i.vars||i).palette.action.disabledBackground})),t),"text"===o.variant&&{padding:"6px 8px"},"text"===o.variant&&"inherit"!==o.color&&{color:(i.vars||i).palette[o.color].main},"outlined"===o.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===o.variant&&"inherit"!==o.color&&{color:(i.vars||i).palette[o.color].main,border:i.vars?"1px solid rgba(".concat(i.vars.palette[o.color].mainChannel," / 0.5)"):"1px solid ".concat(Gn(i.palette[o.color].main,.5))},"contained"===o.variant&&{color:i.vars?i.vars.palette.text.primary:null==(n=(r=i.palette).getContrastText)?void 0:n.call(r,i.palette.grey[300]),backgroundColor:(i.vars||i).palette.grey[300],boxShadow:(i.vars||i).shadows[2]},"contained"===o.variant&&"inherit"!==o.color&&{color:(i.vars||i).palette[o.color].contrastText,backgroundColor:(i.vars||i).palette[o.color].main},"inherit"===o.color&&{color:"inherit",borderColor:"currentColor"},"small"===o.size&&"text"===o.variant&&{padding:"4px 5px",fontSize:i.typography.pxToRem(13)},"large"===o.size&&"text"===o.variant&&{padding:"8px 11px",fontSize:i.typography.pxToRem(15)},"small"===o.size&&"outlined"===o.variant&&{padding:"3px 9px",fontSize:i.typography.pxToRem(13)},"large"===o.size&&"outlined"===o.variant&&{padding:"7px 21px",fontSize:i.typography.pxToRem(15)},"small"===o.size&&"contained"===o.variant&&{padding:"4px 10px",fontSize:i.typography.pxToRem(13)},"large"===o.size&&"contained"===o.variant&&{padding:"8px 22px",fontSize:i.typography.pxToRem(15)},o.fullWidth&&{width:"100%"})}),(function(e){var t;return e.ownerState.disableElevation&&(a(t={boxShadow:"none","&:hover":{boxShadow:"none"}},"&.".concat(sD.focusVisible),{boxShadow:"none"}),a(t,"&:active",{boxShadow:"none"}),a(t,"&.".concat(sD.disabled),{boxShadow:"none"}),t)})),dD=Tr("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.startIcon,t["iconSize".concat(Fr(n.size))]]}})((function(e){var t=e.ownerState;return v({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},fD(t))})),pD=Tr("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.endIcon,t["iconSize".concat(Fr(n.size))]]}})((function(e){var t=e.ownerState;return v({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},fD(t))})),vD=t.forwardRef((function(e,n){var r=t.useContext(cD),i=Mr({props:Cr(r,e),name:"MuiButton"}),a=i.children,o=i.color,u=void 0===o?"primary":o,s=i.component,c=void 0===s?"button":s,l=i.className,f=i.disabled,h=void 0!==f&&f,d=i.disableElevation,m=void 0!==d&&d,k=i.disableFocusRipple,b=void 0!==k&&k,w=i.endIcon,x=i.focusVisibleClassName,_=i.fullWidth,S=void 0!==_&&_,I=i.size,E=void 0===I?"medium":I,T=i.startIcon,C=i.type,A=i.variant,R=void 0===A?"text":A,N=p(i,lD),P=v({},i,{color:u,component:c,disabled:h,disableElevation:m,disableFocusRipple:b,fullWidth:S,size:E,type:C,variant:R}),O=function(e){var t=e.color,n=e.disableElevation,r=e.fullWidth,i=e.size,a=e.variant,o=e.classes;return v({},o,g({root:["root",a,"".concat(a).concat(Fr(t)),"size".concat(Fr(i)),"".concat(a,"Size").concat(Fr(i)),"inherit"===t&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat(Fr(i))],endIcon:["endIcon","iconSize".concat(Fr(i))]},uD,o))}(P),D=T&&(0,Wr.jsx)(dD,{className:O.startIcon,ownerState:P,children:T}),L=w&&(0,Wr.jsx)(pD,{className:O.endIcon,ownerState:P,children:w});return(0,Wr.jsxs)(hD,v({ownerState:P,className:y(l,r.className),component:c,disabled:h,focusRipple:!b,focusVisibleClassName:y(O.focusVisible,x),ref:n,type:C},N,{classes:O,children:[D,a,L]}))})),mD=vD;var yD=function(e){var n=e.username,r=h((0,t.useState)(null),2),i=r[0],a=r[1],o=h((0,t.useState)(0),2),u=o[0],s=o[1],c=h((0,t.useState)(""),2),l=c[0],f=c[1];return(0,Wr.jsxs)("div",{className:"imageupload",children:[(0,Wr.jsx)("progress",{className:"imageupload__progress",value:u,max:"100"}),(0,Wr.jsx)("input",{type:"text",placeholder:"\ub0b4\uc6a9\uc744 \uc4f0\ub77c\uae14",onChange:function(e){return f(e.target.value)},value:l}),(0,Wr.jsx)("input",{type:"file",onChange:function(e){e.target.files[0]&&a(e.target.files[0])}}),(0,Wr.jsx)(mD,{onClick:function(){VN.ref("img/".concat(i.name)).put(i).on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);s(t)}),(function(e){console.log(e),alert(e.message)}),(function(){VN.ref("img").child(i.name).getDownloadURL().then((function(e){FN.collection("posts").add({caption:l,imageUrl:e,username:n}),s(0),f(""),a(null)}))}))},children:"\uc62c\ub9ac\uae14"})]})},gD={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,pt:2,px:4,pb:3};var kD=function(){var e=h((0,t.useState)([]),2),n=e[0],r=e[1],i=h((0,t.useState)(!1),2),a=i[0],o=i[1],s=h((0,t.useState)(""),2),c=s[0],l=s[1],f=h((0,t.useState)(""),2),p=f[0],v=f[1],m=h((0,t.useState)(""),2),y=m[0],g=m[1],k=h((0,t.useState)(null),2),b=k[0],w=k[1],x=h((0,t.useState)(!1),2),_=x[0],S=x[1];return(0,t.useEffect)((function(){var e=UN.onAuthStateChanged((function(e){e?(console.log(e),w(e)):w(null)}));return function(){e()}}),[b,c]),(0,t.useEffect)((function(){FN.collection("posts").onSnapshot((function(e){return r(e.docs.map((function(e){return{id:e.id,post:e.data()}})))}))}),[]),(0,Wr.jsxs)("div",{className:"App",children:[(0,Wr.jsx)(MP,{open:a,onClose:function(){return o(!1)},children:(0,Wr.jsx)(zP,{sx:u(u({},gD),{},{width:200}),children:(0,Wr.jsxs)("form",{className:"app__signup",children:[(0,Wr.jsx)("center",{children:(0,Wr.jsx)("img",{className:"app__modalImage",src:d,alt:"logo"})}),(0,Wr.jsx)(kO,{type:"text",placeholder:"username",value:c,onChange:function(e){return l(e.target.value)}}),(0,Wr.jsx)(kO,{placeholder:"email",type:"text",value:p,onChange:function(e){return v(e.target.value)}}),(0,Wr.jsx)(kO,{placeholder:"password",type:"password",value:y,onChange:function(e){return g(e.target.value)}}),(0,Wr.jsx)(mD,{type:"submit",onClick:function(e){e.preventDefault(),UN.createUserWithEmailAndPassword(p,y).then((function(e){return e.user.updateProfile({displayName:c})})).catch((function(e){return alert(e.message)})),o(!1)},children:"\ub85c\uadf8\uc778\ud558\uae14"})]})})}),(0,Wr.jsx)(MP,{open:_,onClose:function(){return S(!1)},children:(0,Wr.jsx)(zP,{sx:u(u({},gD),{},{width:200}),children:(0,Wr.jsxs)("form",{className:"app__signup",children:[(0,Wr.jsx)("center",{children:(0,Wr.jsx)("img",{className:"app__modalImage",src:d,alt:"logo"})}),(0,Wr.jsx)(kO,{placeholder:"email",type:"text",value:p,onChange:function(e){return v(e.target.value)}}),(0,Wr.jsx)(kO,{placeholder:"password",type:"password",value:y,onChange:function(e){return g(e.target.value)}}),(0,Wr.jsx)(mD,{type:"submit",onClick:function(e){e.preventDefault(),UN.signInWithEmailAndPassword(p,y).catch((function(e){return alert(e.message)})),S(!1)},children:"\uac00\uc785\ud558\uae14"})]})})}),(0,Wr.jsxs)("div",{className:"app__header",children:[(0,Wr.jsx)("img",{className:"app__headerImage",src:d,alt:"logo"}),b?(0,Wr.jsx)(mD,{onClick:function(){return UN.signOut()},children:"\ub85c\uadf8\uc544\uc6c3\ud558\uae14"}):(0,Wr.jsxs)("div",{className:"app__loginContainer",children:[(0,Wr.jsx)(mD,{className:"btn",onClick:function(){return S(!0)},children:"\ub85c\uadf8\uc778\ud558\uae14"}),(0,Wr.jsx)(mD,{className:"btn",onClick:function(){return o(!0)},children:"\uac00\uc785\ud558\uae14"})]})]}),(0,Wr.jsx)("div",{className:"app__posts",children:n.map((function(e){var t=e.post,n=e.id;return(0,Wr.jsx)(jN,{postId:n,user:b,username:t.username,caption:t.caption,imageUrl:t.imageUrl},n)}))}),null!==b&&void 0!==b&&b.displayName?(0,Wr.jsx)(yD,{username:b.displayName}):(0,Wr.jsx)("h3",{className:"app__loginMent",children:"\ub313\uae00 \ub2ec\ub824\uba74 \ub85c\uadf8\uc778\uc744 \ud558\ub77c\uae14"})]})};i.createRoot(document.getElementById("root")).render((0,Wr.jsx)(t.StrictMode,{children:(0,Wr.jsx)(kD,{})}))}()}();
//# sourceMappingURL=main.b2ba2023.js.map